{"version":3,"sources":["scripts/app-7934d99883.js"],"names":["routeConfig","$urlRouterProvider","$stateProvider","baSidebarServiceProvider","state","url","templateUrl","otherwise","angular","module","config","$echartsProvider","setGlobalOption","theme","driftPalette","title","left","top","padding","backgroundColor","textStyle","color","controller","sidebarMeta","icon","order","template","abstract","baConfigProvider","colorHelper","$provide","decorator","uiViewScrollDecorator","$delegate","$anchorScroll","baUtil","uiViewElement","hasAttr","configProvider","conf","blur","colors","default","basic","defaultText","border","borderDark","primary","colorScheme","info","success","warning","danger","primaryLight","tint","infoLight","successLight","warningLight","dangerLight","primaryDark","shade","infoDark","successDark","warningDark","dangerDark","dashboard","blueStone","dashboardColors","surfieGreen","silverTree","gossip","white","changeTheme","merge","changeColors","$get","provider","mix","color1","color2","weight","d2h","d","toString","h2d","h","parseInt","result","i","color1Part","substr","color2Part","resultPart","Math","floor","slice","IMAGES_ROOT","constant","resWidthCollapseSidebar","resWidthHideSidebar","images","root","profile","amMap","amChart","themeRun","$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings","whatToWait","loadAmCharts","mobile","unshift","loadImg","all","then","$pageFinishedLoading","$baSidebarService","run","baConfig","isMobile","test","navigator","userAgent","toLowerCase","mobileClass","blurClass","element","document","body","addClass","service","app","$scope","$http","$state","oriUrl","window","location","href","arr","split","isValid","second","length","console","log","method","headers","Content-Type","resp","data","status","$interval","NgTableParams","httpService","$uibModal","AuthTokenFactory","_init","size","page","sort","token","getToken","type","getTypeStatus","vm","GatewayList","error","httpStatusCode","excludeType","getDeviceStatus","DeviceList","this","servers_chart","totals","nows","messages_chart","gateways_total","devices_total","getGatewayList","totalItems","getDeviceList","sil","$on","cancel","inOldArr","value","rst","mac","inNewArr","removeOldData","arrData","iArr","delete","push","splice","bijiaoData","oldData","newData","countNew","countDelete","isIn","isNew","_init1","First1","tableParams1","reload","_init2","First2","tableParams2","_init3","First3","tableParams3","_init4","First4","tableParams4","gatewaylist1","gatewaylist2","gatewaylist3","gatewaylist4","gateway1_value","gateway2_value","gateway3_value","gateway4_value","devicelist1","devicelist2","devicelist3","devicelist4","gateway1","gateway2","gateway3","gateway4","gateway1_old","gateway2_old","gateway3_old","gateway4_old","isFirst1","isFirst2","isFirst3","isFirst4","gatewayMsg","count","filterDelay","counts","getData","$defer","params","filter","gatewayMac","timeRange","undefined","getDeviceByGatewayBytimeRange","total","resolve","$","selectGateway1","gatawayMac","selectGateway2","selectGateway3","selectGateway4","sil1","sil2","sil3","sil4","DeviceCtrl","$filter","editableOptions","editableThemes","animationsEnabled","tableParams","openCreateModel","modalInstance","open","animation","item","Date","openEditModel","openDeleteModel","createDeviceCtrl","$uibModalInstance","type_list","select","ok","toUpperCase","addDevice","close","dismiss","editDeviceCtrl","updateDevice","deleteDeviceCtrl","deleteDevice","uuid","GatewayCtrl","openMsgModel","openRebootModel","toggleAnimation","createGatewayCtrl","addGateway","editGatewayCtrl","updateGateway","deleteGatewayCtrl","deleteGateway","rebootGatewayCtrl","addOperation","OpenMsgCtrl","iBeaconCtrl","$echarts","setTH_line","Values","values","k","t_line","h_line","time","t","toFixed","name","arrAll","LINE_2","setOption","series","gateway","sensor","sensor_th","th_line","th_data","startTime","endTime","tableParamsGateway","selected","tableParamsSensor","getSensor","loadTH_lineData","selectTime","$event","div","target","parentElement","children","a_s","removeClass","nowTime","getTime","parse","format","selectGateway","$data","forEach","selectiBeacon","tooltip","trigger","formatter","ticket","callback","param","seriesName","grid","x","y","width","height","xAxis","gridIndex","splitLine","show","yAxis","scale","interval","max","min","boundaryGap","lineStyle","axisLabel","index","xAxisIndex","yAxisIndex","showSymbol","hoverAnimation","itemStyle","normal","echarts","init","getElementById","getMinewdbData2","onresize","resize","prototype","date","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","S+","getMilliseconds","replace","RegExp","$1","getFullYear","analysisGaugeData","serie","t_gauge","h_gauge","temperature","humidity","SensorsCtrl","setChart","allData","equals","axisLine","detail","GAUGE_1","GAUGE_2","LINE_1","loadGaugeData","oneDayTime","val","selectSensor","dataLoaded","splitNumber","radius","shadowColor","shadowBlur","fontWeight","axisTick","pointer","fontSize","fontStyle","borderWidth","borderColor","offsetCenter","innerWidth","getOneSensor","getMinewdbData","daterangepicker","autoUpdateInput","cancelClass","locale","cancelLabel","on","ev","picker","startDate","endDate","find","StatusCtrl","deviceTypeValue","gateway_list","device_list","gateway_value","deviceTypeName","device_value","sorting","getStatusBy","getDeviceListByType","selectDeviceType","select_gateway","select_device","collection","keyname","output","keys","key","indexOf","UsersCtrl","UserInfo","getUserInfo","role","isAdmin","getUserList","userGatewaysCtrl","createUserCtrl","addUser","editUserCtrl","Mphone","nationcode","mobile_phone","dialCode","intlTelInput","phoneNumber","len","updateUser","deleteUserCtrl","deleteUser","getGatewayListByUserid","toastrLibConfig","toastrConfig","extend","closeButton","closeHtml","timeOut","autoDismiss","containerId","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","factory","addToken","Authorization","request","$window","isLoggedIn","_unserialize","store","getItem","storeUserInfo","userInfo","setItem","_serialize","removeItem","removeUserInfo","getUserName","userObj","getUserId","userId","getRole","getEmail","email","JSON","stringify","e","sessionStorage","isDescendant","parent","child","node","parentNode","hexToRGB","hex","alpha","r","g","b","elem","attrName","attr","API_URL","getUser","user","getGateway","center","getOperationList","getOperation","updateOperation","deleteOperation","queryUrl","getDeviceListByGateway","getDevice","device","getStatusList","getStatus","addStatus","message","updateStatus","deleteStatus","getDeviceByGateway","influxDBUrl","timeBy","go","src","defer","img","Image","onload","promise","AmCharts","ready","UserService","register","login","logout","os","input","LoginCtrl","LoginStatus","loginData","response","ProfileCtrl","isSame","updateProfile","password","confirm_password","msg","RegisterCtrl","emailReg","registerData","goLogin","ngIntlTelInputProvider","set","preferredCountries","initialCountry","nationalMode","utilsScript","backTop","restrict","position","speed","directive","baSidebar","layoutSizes","jqWindow","link","scope","el","_onWindowClick","$evt","originalEvent","$sidebarEventProcessed","isMenuCollapsed","canSidebarBeHidden","setMenuCollapsed","_onWindowResize","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","menuHeight","$apply","childNodes","clientHeight","off","staticMenuItems","addStaticItem","apply","arguments","_factory","defineMenuItemStates","get","s","map","pages","substring","meta","level","match","stateRef","a","getMenuItems","states","menuItems","subMenu","concat","isCollapsed","toggleMenuCollapsed","getAllStateRefsRecursive","_iterateSubItems","currentItem","subItem","BaSidebarCtrl","defaultSidebarState","hoverItem","showHoverElem","hoverElemHeight","currentTarget","menuTopValue","hoverElemTop","getBoundingClientRect","baSidebarToggleMenu","baSidebarCollapseMenu","baSidebarTogglingItem","BaSidebarTogglingItemCtrl","$element","$attrs","_isState","subItemsStateRefs","some","subItemState","menuItem","$$menuItem","$eval","$$expandSubmenu","warn","$$collapseSubmenu","$expand","$collapse","$toggle","hasClass","current","event","toState","baUiSrefTogglingSubmenu","require","attrs","slideDown","slideUp","baUiSrefToggler","contentTop","$location","$watch","activePageTitle","pageTop","PageTopCtrl","isChange","username","signOut","changeLogo","widgets","ngModel","baSwitcher","switcherStyle","switcherValue","o","fn","n","c","css","right","bottom","scroll","scrollTop","fadeIn","fadeOut","click","animate","duration","jQuery","$templateCache","put"],"mappings":"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","file":"scripts/app-7934d99883.js","sourcesContent":["/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages', [\r\n        'ui.router',\r\n\r\n        'BlurAdmin.pages.dashboard',\r\n        'BlurAdmin.pages.gateway',\r\n        'BlurAdmin.pages.device',\r\n        'BlurAdmin.pages.alldevice',\r\n        'BlurAdmin.pages.sensors',\r\n        'BlurAdmin.pages.asset_tags',\r\n        'BlurAdmin.pages.user',\r\n        'BlurAdmin.pages.users',\r\n        'BlurAdmin.pages.ibeacons',\r\n        'BlurAdmin.pages.activate'\r\n        \r\n    ]).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($urlRouterProvider, $stateProvider, baSidebarServiceProvider) {\r\n\r\n        $stateProvider\r\n            .state('pages', {\r\n                url: '/pages',\r\n                templateUrl: 'app/pages/pages.html'\r\n            });\r\n\r\n\r\n        // $urlRouterProvider.otherwise('/dashboard');\r\n        $urlRouterProvider.otherwise('/user/login');\r\n\r\n    }\r\n\r\n    angular.module('BlurAdmin.pages').config(function($echartsProvider) {\r\n        $echartsProvider.setGlobalOption({\r\n            theme: 'macarons',\r\n            driftPalette: true,\r\n            title: {\r\n                left: 'center',\r\n                top: 'top',\r\n                padding: [20, 10, 10, 10]\r\n            },\r\n            backgroundColor: '',\r\n            textStyle:{\r\n                color:\"#ffffff\"\r\n            }\r\n        })\r\n    });\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme', [\r\n        'toastr',\r\n        'chart.js',\r\n        'angular-chartist',\r\n        'angular.morris-chart',\r\n        'textAngular',\r\n        'BlurAdmin.theme.components',\r\n        'BlurAdmin.theme.inputs'\r\n    ]);\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.activate', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('activate', {\r\n                url: '/activate',\r\n                templateUrl: 'app/pages/activate/activate.html',\r\n                title: 'Activate',\r\n                controller: 'ActivateCtrl as vm',\r\n            });\r\n        \r\n    }\r\n\r\n})();\r\n\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.dashboard', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('dashboard', {\r\n                url: '/dashboard',\r\n                templateUrl: 'app/pages/dashboard/dashboard.html',\r\n                title: 'Dashboard',\r\n                controller: 'DashboardCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'ion-android-home',\r\n                    order: 0,\r\n                },\r\n            });\r\n        // $urlRouterProvider.when('/dashboard/dashboard', '/dashboard/dashboard');\r\n    }\r\n\r\n})();\r\n\r\n\n/**\r\n * @author wsl\r\n * created on 2017-04-19\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.asset_tags', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('asset', {\r\n                url: '/asset',\r\n                templateUrl: 'app/pages/assetDemo/asset.html',\r\n                title: 'Asset Demo',\r\n                controller: 'assetTagsCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-money',\r\n                    order: 20,\r\n                },\r\n            });\r\n        // $urlRouterProvider.when('/wsl', '/wsl/basic');\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.device', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('device', {\r\n                url: '/device',\r\n                templateUrl: 'app/pages/device/device.html',\r\n                title: 'Device',\r\n                controller: 'deviceCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-desktop',\r\n                    order: 50,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.gateway', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('gateway', {\r\n                url: '/gateway',\r\n                templateUrl: 'app/pages/gateway/gateway.html',\r\n                title: 'Gateway',\r\n                controller: 'gatewayCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-hdd-o',\r\n                    order: 50,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.ibeacons', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('ibeacon', {\r\n                url: '/ibeacon',\r\n                templateUrl: 'app/pages/ibeaconDemo/ibeacon.html',\r\n                title: 'iBeacon Demo',\r\n                //  controller: 'ibeaconCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-feed',\r\n                    order: 12,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.sensors', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('sensor', {\r\n                url: '/sensor',\r\n                templateUrl: 'app/pages/sensorDemo/sensor.html',\r\n                title: 'Sensor Demo',\r\n                //  controller: 'sensorsCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-line-chart',\r\n                    order: 10,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.alldevice', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('status', {\r\n                url: '/status',\r\n                templateUrl: 'app/pages/status/status.html',\r\n                title: 'Status',\r\n                controller: 'statusCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-cubes',\r\n                    order: 150,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-2-9\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.user', [\r\n        'BlurAdmin.pages.login',\r\n        'BlurAdmin.pages.register',\r\n        'BlurAdmin.pages.profile'\r\n    ]).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user', {\r\n                url: '/user',\r\n                template: '<ui-view  autoscroll=\"true\" autoscroll-body-top></ui-view>',\r\n                abstract: true\r\n            });\r\n\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.users', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('users', {\r\n                url: '/users',\r\n                templateUrl: 'app/pages/users/users.html',\r\n                title: 'User',\r\n                controller: 'usersCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-user',\r\n                    order: 200,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components', []);\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 10.12.2016\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.inputs', []);\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.login', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user.login', {\r\n                url: '/login',\r\n                templateUrl: 'app/pages/user/login/login.html',\r\n                controller: 'LoginCtrl as vm',\r\n            });\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.profile', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user.profile', {\r\n                url: '/profile',\r\n                templateUrl: 'app/pages/user/profile/profile.html',\r\n                title: 'Profile',\r\n                controller: 'ProfileCtrl as vm',\r\n            });\r\n    }\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.register', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user.register', {\r\n                url: '/register',\r\n                templateUrl: 'app/pages/user/register/register.html',\r\n                controller: 'RegisterCtrl as vm',\r\n            });\r\n    }\r\n\r\n})();\r\n\n'use strict';\r\n\r\nangular.module('BlurAdmin', [\r\n    'ngAnimate',\r\n    'ui.bootstrap',\r\n    'ui.sortable',\r\n    'ui.router',\r\n    'ngTouch',\r\n    'toastr',\r\n    'smart-table',\r\n    \"xeditable\",\r\n    'ui.slimscroll',\r\n    'ngJsTree',\r\n    'ngTable',\r\n    'angular-progress-button-styles',\r\n\r\n    'chart.js',\r\n    'echarts-ng',\r\n    // 'ng-echarts',\r\n    'ngIntlTelInput',\r\n    'BlurAdmin.theme',\r\n    'BlurAdmin.pages'\r\n]);\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').config(config);\r\n\r\n    /** @ngInject */\r\n    function config(baConfigProvider, colorHelper, $provide) {\r\n        $provide.decorator('$uiViewScroll', uiViewScrollDecorator);\r\n        //baConfigProvider.changeTheme({blur: true});\r\n        //\r\n        //baConfigProvider.changeColors({\r\n        //  default: 'rgba(#000000, 0.2)',\r\n        //  defaultText: '#ffffff',\r\n        //  dashboard: {\r\n        //    white: '#ffffff',\r\n        //  },\r\n        //});\r\n    }\r\n\r\n    /** @ngInject */\r\n    function uiViewScrollDecorator($delegate, $anchorScroll, baUtil) {\r\n        return function (uiViewElement) {\r\n            if (baUtil.hasAttr(uiViewElement, \"autoscroll-body-top\")) {\r\n                $anchorScroll();\r\n            } else {\r\n                $delegate(uiViewElement);\r\n            }\r\n        };\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    // var basic = {\r\n    //     default: '#ffffff',\r\n    //     defaultText: '#666666',\r\n    //     border: '#dddddd',\r\n    //     borderDark: '#aaaaaa',\r\n    // };\r\n\r\n    var basic = {\r\n        default: 'rgba(#000000, 0.2)',\r\n        defaultText: '#ffffff',\r\n        border: '#dddddd',\r\n        borderDark: '#aaaaaa',\r\n    };\r\n\r\n    // main functional color scheme\r\n    var colorScheme = {\r\n        primary: '#209e91',\r\n        info: '#2dacd1',\r\n        success: '#90b900',\r\n        warning: '#dfb81c',\r\n        danger: '#e85656',\r\n    };\r\n\r\n    // dashboard colors for charts\r\n    var dashboardColors = {\r\n        blueStone: '#005562',\r\n        surfieGreen: '#0e8174',\r\n        silverTree: '#6eba8c',\r\n        gossip: '#b9f2a1',\r\n        white: '#10c4b5',\r\n    };\r\n\r\n    angular.module('BlurAdmin.theme').provider('baConfig', configProvider);\r\n\r\n    /** @ngInject */\r\n    function configProvider(colorHelper) {\r\n        var conf = {\r\n            theme: {\r\n                blur: true,\r\n            },\r\n            colors: {\r\n                default: basic.default,\r\n                defaultText: basic.defaultText,\r\n                border: basic.border,\r\n                borderDark: basic.borderDark,\r\n\r\n                primary: colorScheme.primary,\r\n                info: colorScheme.info,\r\n                success: colorScheme.success,\r\n                warning: colorScheme.warning,\r\n                danger: colorScheme.danger,\r\n\r\n                primaryLight: colorHelper.tint(colorScheme.primary, 30),\r\n                infoLight: colorHelper.tint(colorScheme.info, 30),\r\n                successLight: colorHelper.tint(colorScheme.success, 30),\r\n                warningLight: colorHelper.tint(colorScheme.warning, 30),\r\n                dangerLight: colorHelper.tint(colorScheme.danger, 30),\r\n\r\n                primaryDark: colorHelper.shade(colorScheme.primary, 15),\r\n                infoDark: colorHelper.shade(colorScheme.info, 15),\r\n                successDark: colorHelper.shade(colorScheme.success, 15),\r\n                warningDark: colorHelper.shade(colorScheme.warning, 15),\r\n                dangerDark: colorHelper.shade(colorScheme.danger, 15),\r\n\r\n                dashboard: {\r\n                    blueStone: dashboardColors.blueStone,\r\n                    surfieGreen: dashboardColors.surfieGreen,\r\n                    silverTree: dashboardColors.silverTree,\r\n                    gossip: dashboardColors.gossip,\r\n                    white: dashboardColors.white,\r\n                },\r\n            }\r\n        };\r\n\r\n        conf.changeTheme = function (theme) {\r\n            angular.merge(conf.theme, theme)\r\n        };\r\n\r\n        conf.changeColors = function (colors) {\r\n            angular.merge(conf.colors, colors)\r\n        };\r\n\r\n        conf.$get = function () {\r\n            delete conf.$get;\r\n            return conf;\r\n        };\r\n        return conf;\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    var IMAGES_ROOT = 'assets/img/';\r\n\r\n    angular.module('BlurAdmin.theme')\r\n        .constant('API_URL', 'http://178.128.97.136:8080')\r\n        // .constant('API_URL', 'http://139.196.110.136:8080')\r\n        .constant('layoutSizes', {\r\n            resWidthCollapseSidebar: 1200,\r\n            resWidthHideSidebar: 500\r\n        })\r\n        .constant('layoutPaths', {\r\n            images: {\r\n                root: IMAGES_ROOT,\r\n                profile: IMAGES_ROOT + 'app/profile/',\r\n                amMap: 'assets/img/theme/vendor/ammap//dist/ammap/images/',\r\n                amChart: 'assets/img/theme/vendor/amcharts/dist/amcharts/images/'\r\n            }\r\n        })\r\n        .constant('colorHelper', {\r\n            tint: function (color, weight) {\r\n                return mix('#ffffff', color, weight);\r\n            },\r\n            shade: function (color, weight) {\r\n                return mix('#000000', color, weight);\r\n            },\r\n        });\r\n\r\n    function shade(color, weight) {\r\n        return mix('#000000', color, weight);\r\n    }\r\n\r\n    function tint(color, weight) {\r\n        return mix('#ffffff', color, weight);\r\n    }\r\n\r\n    //SASS mix function\r\n    function mix(color1, color2, weight) {\r\n        // convert a decimal value to hex\r\n        function d2h(d) {\r\n            return d.toString(16);\r\n        }\r\n\r\n        // convert a hex value to decimal\r\n        function h2d(h) {\r\n            return parseInt(h, 16);\r\n        }\r\n\r\n        var result = \"#\";\r\n        for (var i = 1; i < 7; i += 2) {\r\n            var color1Part = h2d(color1.substr(i, 2));\r\n            var color2Part = h2d(color2.substr(i, 2));\r\n            var resultPart = d2h(Math.floor(color2Part + (color1Part - color2Part) * (weight / 100.0)));\r\n            result += ('0' + resultPart).slice(-2);\r\n        }\r\n        return result;\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').run(themeRun);\r\n\r\n    /** @ngInject */\r\n    function themeRun($timeout, $rootScope, layoutPaths, preloader, $q, baSidebarService, themeLayoutSettings) {\r\n\r\n        var whatToWait = [\r\n            preloader.loadAmCharts(),\r\n            // $timeout(3000) // 3000\r\n        ];\r\n\r\n        var theme = themeLayoutSettings;\r\n        if (theme.blur) {\r\n            if (theme.mobile) {\r\n                whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-mobile.jpg'));\r\n            } else {\r\n                whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg.jpg'));\r\n                whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-blurred.jpg'));\r\n            }\r\n        }\r\n\r\n        $q.all(whatToWait).then(function () {\r\n            $rootScope.$pageFinishedLoading = true;\r\n        });\r\n\r\n        $timeout(function () {\r\n            if (!$rootScope.$pageFinishedLoading) {\r\n                $rootScope.$pageFinishedLoading = true;\r\n            }\r\n        }, 3000);// 7000\r\n\r\n        $rootScope.$baSidebarService = baSidebarService;\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').service('themeLayoutSettings', themeLayoutSettings);\r\n\r\n    /** @ngInject */\r\n    function themeLayoutSettings(baConfig) {\r\n        var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|windows phone/).test(navigator.userAgent.toLowerCase());\r\n        var mobileClass = isMobile ? 'mobile' : '';\r\n        var blurClass = baConfig.theme.blur ? 'blur-theme' : '';\r\n        angular.element(document.body).addClass(mobileClass).addClass(blurClass);\r\n\r\n        return {\r\n            blur: baConfig.theme.blur,\r\n            mobile: isMobile,\r\n        }\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    var app = angular.module('BlurAdmin.pages.dashboard');\r\n\r\n    /** @ngInject */\r\n    app.controller('ActivateCtrl', ['$scope','$http','$state', '$timeout', function ($scope, $http, $state, $timeout) {\r\n\r\n            var oriUrl = window.location.href;\r\n            var arr = oriUrl.split(\"?\");\r\n            $scope.isValid = true;\r\n            $scope.second = 1;\r\n\r\n            if(arr.length == 2){\r\n                var url = \"http://178.128.97.136:8080/account/activate?\" + arr[1];\r\n                console.log(url);\r\n                $http({\r\n                    method: 'GET',\r\n                    url: url,\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    }\r\n                }).then(function success(resp){\r\n                    console.log(resp);\r\n                    if(resp.data.status === 200){\r\n                        $scope.isValid = true;\r\n                        $timeout(function(){\r\n                            window.location= 'http://178.128.97.136';\r\n                        },2000)\r\n                        \r\n                    }else if(resp.data.status === 400){\r\n                        $scope.isValid = false;\r\n                    }\r\n                },function error(resp){\r\n                    $scope.isValid = false\r\n                    console.log(resp);\r\n                });\r\n                \r\n            }\r\n            \r\n    }]);\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    var app = angular.module('BlurAdmin.pages.dashboard');\r\n\r\n    /** @ngInject */\r\n    app.controller('DashboardCtrl', ['$scope', '$interval', 'NgTableParams', '$timeout', 'httpService', '$uibModal', '$http', 'AuthTokenFactory', function ($scope, $interval, NgTableParams, $timeout, httpService, $uibModal, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.servers_chart = {\r\n            totals: 2,\r\n            nows: 2\r\n        };\r\n        vm.messages_chart = {\r\n            totals: 23\r\n        };\r\n\r\n        vm.gateways_total = 0;\r\n        vm.devices_total = 0;\r\n        vm.GatewayList = {};\r\n        vm.DeviceList = {};\r\n\r\n        var token = AuthTokenFactory.getToken();\r\n        var page = \"\";\r\n        var size = \"\";\r\n        var sort = \"\";\r\n        /*\r\n         * 获取网关列表的总数\r\n         */\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gateways_total = resp.totalItems;\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n        \r\n        /*\r\n         * 获取设备列表的总数\r\n         */\r\n        httpService.getDeviceList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.devices_total = resp.totalItems;\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        /*\r\n         *在Statuses表中获取最新更新的网关以及设备信息\r\n         */\r\n        function _init() {\r\n\r\n            var size = 20;\r\n            var page = 0;\r\n            var sort = \"\";\r\n            var token = AuthTokenFactory.getToken();\r\n            var type = \"Gateway\";\r\n\r\n            httpService.getTypeStatus(page, size, sort, type, token)\r\n                .success(function (resp) {\r\n                    vm.GatewayList = resp.data;\r\n                    // console.log(vm.GatewayList);\r\n                }).error(function (resp, status) {\r\n                    console.log(resp);\r\n                    httpService.httpStatusCode(status);\r\n                });\r\n\r\n            var excludeType = \"Gateway\";\r\n            httpService.getDeviceStatus(page, size, sort, excludeType, token)\r\n                .success(function (resp) {\r\n                    vm.DeviceList = resp.data;\r\n                    // console.log(new Date(Date.parse(vm.DeviceList[0].updatedAt)));\r\n                }).error(function (resp, status) {\r\n                    console.log(resp);\r\n                    httpService.httpStatusCode(status);\r\n                });\r\n\r\n        };\r\n        _init();\r\n        /**\r\n         * 5s重新获取一次\r\n         */\r\n        $scope.sil = $interval(_init, 5000);\r\n        //在页面跳转时触发\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil);\r\n        });\r\n    }]);\r\n\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    function inOldArr(arr, value) {\r\n        var rst = null;\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (value == arr[i].mac) {\r\n                rst = arr[i];\r\n            }\r\n        }\r\n        return rst;\r\n    };\r\n\r\n    function inNewArr(arr, value) {\r\n        var rst = true;\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (value == arr[i].mac) {\r\n                rst = false;\r\n            }\r\n        }\r\n        return rst;\r\n    };\r\n\r\n    //根据delete参数为true，除去旧的数据\r\n    function removeOldData(arr) {\r\n        var arrData = arr;\r\n        var iArr = [];\r\n\r\n        for (var i = 0; i < arrData.length; i++) {\r\n            if (arrData[i].delete) {\r\n                iArr.push(i);\r\n            }\r\n        }\r\n\r\n        for (var i = 0; i < iArr.length; i++) {\r\n            arrData.splice(iArr[i], 1);\r\n        }\r\n        return arrData;\r\n    };\r\n\r\n    function bijiaoData(oldData, newData) {\r\n        var countNew = \"\";\r\n        var countDelete = \"\";\r\n        //判断哪些数据是消失的\r\n        for (var i = 0; i < oldData.length; i++) {\r\n            var isIn = inOldArr(newData, oldData[i].mac);\r\n            if (isIn == null) {\r\n                oldData[i].delete = true;\r\n                countDelete++;\r\n            } else {\r\n                oldData[i].delete = false;\r\n            }\r\n            oldData[i].isNew = false;\r\n        }\r\n        //判断哪些数据是新增的\r\n        for (var i = 0; i < newData.length; i++) {\r\n            newData[i].isNew = inNewArr(oldData, newData[i].mac);\r\n            if (newData[i].isNew) {\r\n                oldData.unshift(newData[i]); //往开头添加一个或者多个数组\r\n                countNew++;\r\n            }\r\n        }\r\n        oldData.countDelete = countDelete;\r\n        oldData.countNew = countNew;\r\n        return oldData;\r\n    }\r\n\r\n    var app = angular.module('BlurAdmin.pages.asset_tags');\r\n\r\n    /** @ngInject */\r\n    app.controller('assetTagsCtrl', ['$scope', '$interval', 'NgTableParams', '$timeout', 'httpService', '$uibModal', '$http', 'AuthTokenFactory', function ($scope, $interval, NgTableParams, $timeout, httpService, $uibModal, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n        vm.gatewaylist1 = [];\r\n        vm.gatewaylist2 = [];\r\n        vm.gatewaylist3 = [];\r\n        vm.gatewaylist4 = [];\r\n        vm.gateway1_value = \"\";\r\n        vm.gateway2_value = \"\";\r\n        vm.gateway3_value = \"\";\r\n        vm.gateway4_value = \"\";\r\n        vm.devicelist1 = [];\r\n        vm.devicelist2 = [];\r\n        vm.devicelist3 = [];\r\n        vm.devicelist4 = [];\r\n        vm.gateway1 = [];\r\n        vm.gateway2 = [];\r\n        vm.gateway3 = [];\r\n        vm.gateway4 = [];\r\n        vm.gateway1_old = [];\r\n        vm.gateway2_old = [];\r\n        vm.gateway3_old = [];\r\n        vm.gateway4_old = [];\r\n        vm.First1 = true;\r\n        vm.First2 = true;\r\n        vm.First3 = true;\r\n        vm.First4 = true;\r\n        vm.isFirst1 = true;\r\n        vm.isFirst2 = true;\r\n        vm.isFirst3 = true;\r\n        vm.isFirst4 = true;\r\n        vm.gatewayMsg = \"Select Gateway\";\r\n\r\n        var size = 100;\r\n        var page = 0;\r\n        var sort = \"\";\r\n        var token = AuthTokenFactory.getToken();\r\n\r\n        /**\r\n         * 初始化4个tableParams\r\n         * 获取网关列表以及每个网关所采集到的设备列表\r\n         */\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist1 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway1_value = vm.gatewaylist1[0];\r\n                    vm.tableParams1 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway1_value;\r\n                            // console.log(gatewayMac);\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway1 = resp.data;\r\n                                    if (!vm.isFirst1) {\r\n                                        vm.gateway1_old = removeOldData(vm.devicelist1);\r\n                                        vm.devicelist1 = bijiaoData(vm.gateway1_old, vm.gateway1);\r\n                                    }\r\n                                    if (vm.isFirst1) {\r\n                                        vm.devicelist1 = vm.gateway1;\r\n                                        vm.First1 = false;\r\n                                        vm.isFirst1 = false;\r\n                                    }\r\n                                    // console.log(vm.devicelist1);\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist1);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $(\"#gateway1_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway1_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway1_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway1_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist2 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway2_value = vm.gatewaylist2[0];\r\n                    vm.tableParams2 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway2_value;\r\n\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway2 = resp.data;\r\n                                    if (!vm.isFirst2) {\r\n                                        vm.gateway2_old = removeOldData(vm.devicelist2);\r\n                                        vm.devicelist2 = bijiaoData(vm.gateway2_old, vm.gateway2);\r\n                                    }\r\n                                    if (vm.isFirst2) {\r\n                                        vm.devicelist2 = vm.gateway2;\r\n                                        vm.isFirst2 = false;\r\n                                        vm.First2 = false;\r\n                                    }\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist2);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n\r\n        $(\"#gateway2_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway2_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway2_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway2_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist3 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway3_value = vm.gatewaylist3[0];\r\n                    vm.tableParams3 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway3_value;\r\n\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway3 = resp.data;\r\n                                    if (!vm.isFirst3) {\r\n                                        vm.gateway3_old = removeOldData(vm.devicelist3);\r\n                                        vm.devicelist3 = bijiaoData(vm.gateway3_old, vm.gateway3);\r\n                                    }\r\n                                    if (vm.isFirst3) {\r\n                                        vm.devicelist3 = vm.gateway3;\r\n                                        vm.isFirst3 = false;\r\n                                        vm.First3 = false;\r\n                                    }\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist3);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $(\"#gateway3_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway3_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway3_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway3_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist4 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway4_value = vm.gatewaylist4[0];\r\n                    vm.tableParams4 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway4_value;\r\n\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway4 = resp.data;\r\n                                    if (!vm.isFirst4) {\r\n                                        vm.gateway4_old = removeOldData(vm.devicelist4);\r\n                                        vm.devicelist4 = bijiaoData(vm.gateway4_old, vm.gateway4);\r\n                                        // console.log(vm.devicelist4);\r\n                                    }\r\n                                    if (vm.isFirst4) {\r\n                                        vm.devicelist4 = vm.gateway4;\r\n                                        vm.isFirst4 = false;\r\n                                        vm.First4 = false;\r\n                                    }\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist4);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $(\"#gateway4_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway4_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway4_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway4_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n        function _init1() {\r\n            if (!vm.First1)\r\n                vm.tableParams1.reload();\r\n        };\r\n\r\n        function _init2() {\r\n            if (!vm.First2)\r\n                vm.tableParams2.reload();\r\n        };\r\n\r\n        function _init3() {\r\n            if (!vm.First3)\r\n                vm.tableParams3.reload();\r\n        };\r\n\r\n        function _init4() {\r\n            if (!vm.First4)\r\n                vm.tableParams4.reload();\r\n        };\r\n\r\n        vm.selectGateway1 = function (value) {\r\n            vm.gateway1_value = value;\r\n            vm.isFirst1 = true;\r\n            vm.tableParams1.filter({\r\n                gatawayMac: vm.gateway1_value\r\n            })\r\n        };\r\n\r\n        vm.selectGateway2 = function (value) {\r\n            vm.gateway2_value = value;\r\n            vm.isFirst2 = true;\r\n            vm.tableParams2.filter({\r\n                gatawayMac: vm.gateway2_value\r\n            })\r\n        };\r\n\r\n        vm.selectGateway3 = function (value) {\r\n            vm.gateway3_value = value;\r\n            vm.isFirst3 = true;\r\n            vm.tableParams3.filter({\r\n                gatawayMac: vm.gateway3_value\r\n            })\r\n        };\r\n\r\n        vm.selectGateway4 = function (value) {\r\n            vm.gateway4_value = value;\r\n            vm.isFirst4 = true;\r\n            vm.tableParams4.filter({\r\n                gatawayMac: vm.gateway4_value\r\n            })\r\n        };\r\n\r\n        $scope.sil1 = $interval(_init1, 5000);\r\n        $scope.sil2 = $interval(_init2, 5000);\r\n        $scope.sil3 = $interval(_init3, 5000);\r\n        $scope.sil4 = $interval(_init4, 5000);\r\n        // 在页面跳转时触发\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil1);\r\n            $interval.cancel($scope.sil2);\r\n            $interval.cancel($scope.sil3);\r\n            $interval.cancel($scope.sil4);\r\n        });\r\n\r\n    }]);\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.device')\r\n        .controller('deviceCtrl', DeviceCtrl)\r\n        .controller('createDeviceCtrl', createDeviceCtrl)\r\n        .controller('editDeviceCtrl', editDeviceCtrl)\r\n        .controller('deleteDeviceCtrl', deleteDeviceCtrl);\r\n\r\n    function DeviceCtrl($scope, $filter, editableOptions, NgTableParams, editableThemes, $uibModal, httpService, AuthTokenFactory) {\r\n\r\n        var vm = this;\r\n\r\n        this.animationsEnabled = true;\r\n\r\n        vm.tableParams = new NgTableParams({\r\n            page: 1, // show first page\r\n            count: 10 // count per page\r\n        }, {\r\n            filterDelay: 300,\r\n            counts: [],\r\n            getData: function ($defer, params) {\r\n                // ajax request to api\r\n\r\n                var filter = params.filter();\r\n                // var term = filter.$;\r\n                // var sorting = params.sorting();\r\n                var size = params.count();\r\n                var page = params.page() - 1;\r\n                var sort = \"\";\r\n                // var order = \"\";\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.getDeviceList(page, size, sort, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        params.total(resp.totalItems);\r\n                        $defer.resolve(resp.data);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        });\r\n\r\n        $scope.openCreateModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/device/createDevice.html',\r\n                controller: 'createDeviceCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                $scope.result = result;\r\n                // console.log(result);\r\n                vm.tableParams.reload();\r\n            }, function () {\r\n                console.log('Modal dismissed at: ' + new Date());\r\n            });\r\n        };\r\n\r\n\r\n        $scope.openEditModel = function (item, size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/device/editDevice.html',\r\n                controller: 'editDeviceCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                $scope.result = result;\r\n                // console.log(result);\r\n                vm.tableParams.reload();\r\n            }, function () {\r\n                console.log('Modal dismissed at: ' + new Date());\r\n            });\r\n        };\r\n\r\n        $scope.openDeleteModel = function (item, size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/device/deleteDevice.html',\r\n                controller: 'deleteDeviceCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                $scope.result = result;\r\n                // console.log(result);\r\n                vm.tableParams.reload();\r\n            }, function () {\r\n                console.log('Modal dismissed at: ' + new Date());\r\n            });\r\n        };\r\n\r\n    }\r\n\r\n    /** @ngInject */\r\n    function createDeviceCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService) {\r\n        $scope.item = {};\r\n        $scope.type_list = [\"iBeacon\", \"Sensor\", \"Unknown\"];\r\n        if ($scope.select == \"Sensor\") {\r\n            $scope.item.type = \"S1\";\r\n        } else if ($scope.select == \"iBeacon\") {\r\n            $scope.item.type = \"iBeacon\";\r\n        } else {\r\n            $scope.item.type = \"Unknown\";\r\n        }\r\n\r\n\r\n        $scope.ok = function () {\r\n            if ($scope.item) {\r\n                var token = AuthTokenFactory.getToken();\r\n                $scope.item.mac = $scope.item.mac.toUpperCase();\r\n                if ($scope.select == \"Sensor\") {\r\n                    $scope.item.type = \"S1\";\r\n                } else if ($scope.select == \"iBeacon\") {\r\n                    $scope.item.type = \"iBeacon\";\r\n                } else {\r\n                    $scope.item.type = \"Unknown\";\r\n                }\r\n                httpService.addDevice($scope.item, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        $uibModalInstance.close(resp);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss('cancel');\r\n        };\r\n    }\r\n\r\n    function editDeviceCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n        var vm = this;\r\n        $scope.item = item;\r\n        $scope.type_list = [\"iBeacon\", \"Sensor\", \"Unknown\"];\r\n        if ($scope.item.type == \"S1\") {\r\n            $scope.item.type = \"Sensor\";\r\n        }\r\n        $scope.ok = function () {\r\n            if ($scope.item) {\r\n                var token = AuthTokenFactory.getToken();\r\n                if ($scope.item.type == \"Sensor\")\r\n                    $scope.item.type = \"S1\";\r\n                httpService.updateDevice($scope.item, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        $uibModalInstance.close(resp);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss('cancel');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function deleteDeviceCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n        var vm = this;\r\n        $scope.item = item;\r\n\r\n        $scope.ok = function () {\r\n            if ($scope.item) {\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.deleteDevice($scope.item.uuid, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        $uibModalInstance.close(resp);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss('cancel');\r\n        };\r\n\r\n    }\r\n\r\n})();\n(function () {\r\n\t'use strict';\r\n\r\n\tangular.module('BlurAdmin.pages.gateway')\r\n\t\t.controller('gatewayCtrl', GatewayCtrl)\r\n\t\t.controller('createGatewayCtrl', createGatewayCtrl)\r\n\t\t.controller('editGatewayCtrl', editGatewayCtrl)\r\n\t\t.controller('deleteGatewayCtrl', deleteGatewayCtrl)\r\n\t\t.controller('rebootGatewayCtrl', rebootGatewayCtrl)\r\n\t\t.controller('OpenMsgCtrl',OpenMsgCtrl);\r\n\r\n\t/** @ngInject */\r\n\tfunction GatewayCtrl($scope, $filter, editableOptions, NgTableParams, editableThemes, $uibModal, httpService, AuthTokenFactory) {\r\n\r\n\t\tvar vm = this;\r\n\r\n\t\tthis.animationsEnabled = true;\r\n\r\n\t\tvm.tableParams = new NgTableParams({\r\n\t\t\tpage: 1, // show first page\r\n\t\t\tcount: 10 // count per page\r\n\t\t}, {\r\n\t\t\tfilterDelay: 300,\r\n\t\t\tcounts: [],\r\n\t\t\tgetData: function ($defer, params) {\r\n\t\t\t\t// ajax request to api\r\n\r\n\t\t\t\tvar filter = params.filter();\r\n\t\t\t\t// var term = filter.$;\r\n\t\t\t\t// var sorting = params.sorting();\r\n\t\t\t\tvar size = params.count();\r\n\t\t\t\tvar page = params.page() - 1;\r\n\t\t\t\tvar sort = \"\";\r\n\t\t\t\t// var order = \"\";\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.getGatewayList(page, size, sort, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\tparams.total(resp.totalItems);\r\n\t\t\t\t\t\t$defer.resolve(resp.data);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t$scope.openCreateModel = function (size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/createGateway.html',\r\n\t\t\t\tcontroller: 'createGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn $scope.item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tif(result.status === 404){\r\n\t\t\t\t\t$scope.item = \"The gateway has been bound by other user\";\r\n\t\t\t\t\topenMsgModel('sm');\r\n\t\t\t\t}\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.openEditModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/editGateway.html',\r\n\t\t\t\tcontroller: 'editGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.openDeleteModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/deleteGateway.html',\r\n\t\t\t\tcontroller: 'deleteGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.openRebootModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/rebootGateway.html',\r\n\t\t\t\tcontroller: 'rebootGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.toggleAnimation = function () {\r\n\t\t\t$scope.animationsEnabled = !$scope.animationsEnabled;\r\n\t\t};\r\n\r\n\t\tvar openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/gateway/msg.html',\r\n                controller: 'OpenMsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction createGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService) {\r\n\t\t$scope.item = {};\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\t\t\t\t$scope.item.status = \"Offline\";\r\n\t\t\t\t$scope.item.mac = $scope.item.mac.toUpperCase();\r\n\r\n\t\t\t\thttpService.addGateway($scope.item, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction editGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.updateGateway($scope.item, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction deleteGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.deleteGateway($scope.item.uuid, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction rebootGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.addOperation($scope.item.uuid, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n\tfunction OpenMsgCtrl($scope, $uibModalInstance, item){\r\n\t\t$scope.data = item;\r\n\t}\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    Date.prototype.format = function (format) {\r\n        var date = {\r\n            \"M+\": this.getMonth() + 1,\r\n            \"d+\": this.getDate(),\r\n            \"h+\": this.getHours(),\r\n            \"m+\": this.getMinutes(),\r\n            \"s+\": this.getSeconds(),\r\n            \"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n            \"S+\": this.getMilliseconds()\r\n        };\r\n        if (/(y+)/i.test(format)) {\r\n            format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        for (var k in date) {\r\n            if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                format = format.replace(RegExp.$1, RegExp.$1.length == 1 ?\r\n                    date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    angular.module('BlurAdmin.pages.ibeacons')\r\n        .controller('ibeaconCtrl', iBeaconCtrl);\r\n\r\n    /** @ngInject */\r\n    function iBeaconCtrl($scope, $echarts, $interval, $timeout, NgTableParams, $filter, httpService, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.gateway = [];\r\n        vm.sensor = [];\r\n        vm.sensor_th = \"\";\r\n\r\n        vm.th_line = {};\r\n\r\n        vm.th_data = null;\r\n\r\n        vm.startTime = 60 * 2;\r\n        // vm.startTime = 10;\r\n        vm.endTime = 0;\r\n\r\n        vm.tableParamsGateway = new NgTableParams({\r\n            page: 1,\r\n            count: 100\r\n        }, {\r\n            filterDelay: 300,\r\n            counts: [],\r\n            getData: function ($defer, params) {\r\n\r\n                var filter = params.filter();\r\n                var size = params.count();\r\n                var page = params.page() - 1;\r\n                var sort = \"\";\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.getGatewayList(page, size, sort, token)\r\n                    .success(function (resp) {\r\n                        if (resp.data.length > 0) {\r\n                            vm.gateway = resp.data[0];\r\n                            resp.data[0].selected = true;\r\n\r\n                            vm.tableParamsSensor = new NgTableParams({\r\n                                page: 1,\r\n                                count: 100\r\n                            }, {\r\n                                filterDelay: 300,\r\n                                counts: [],\r\n                                getData: function ($defer, params) {\r\n                                    var filter = params.filter();\r\n                                    var gatewayMac = filter.gatewayMac;\r\n                                    var size = params.count();\r\n                                    var page = params.page() - 1;\r\n                                    var sort = \"\";\r\n                                    var token = AuthTokenFactory.getToken();\r\n                                    if (gatewayMac === undefined)\r\n                                        gatewayMac = vm.gateway.mac;\r\n\r\n                                    httpService.getSensor(page, size, sort, 'iBeacon', gatewayMac, token)\r\n                                        .success(function (resp) {\r\n                                            // console.log(resp);\r\n                                            if (resp.data.length > 0) {\r\n                                                vm.sensor = resp.data[0];\r\n                                                resp.data[0].selected = true;\r\n                                                loadTH_lineData();\r\n                                            } else {\r\n                                                vm.sensor = [];\r\n                                                loadTH_lineData();\r\n                                            }\r\n                                            params.total(resp.totalItems);\r\n                                            $defer.resolve(resp.data);\r\n                                        }).error(function (resp, status) {\r\n                                            console.log(resp);\r\n                                            httpService.httpStatusCode(status);\r\n                                        });\r\n                                }\r\n                            });\r\n                        }\r\n                        params.total(resp.totalItems);\r\n                        $defer.resolve(resp.data);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        });\r\n        //选择时间\r\n        vm.selectTime = function ($event, t) {\r\n            // console.log(Date.parse());\r\n            var div = $event.target.parentElement.parentElement,\r\n                children = div.children,\r\n                a_s = [];\r\n            for (var i = 0; i < children.length; i++) {\r\n                a_s.push(children[i].children[0]);\r\n                $(children[i].children[0]).addClass(\"wsl-label-default-color\");\r\n                $(children[i].children[0]).removeClass(\"wsl-label-active-color\");\r\n            }\r\n\r\n            $($event.target).removeClass(\"wsl-label-default-color\");\r\n            $($event.target).addClass(\"wsl-label-active-color\");\r\n\r\n            var oneDayTime = 24 * 60 * 60;\r\n            var nowTime = Math.floor(new Date().getTime() / 1000);\r\n            switch (t) {\r\n                case 1:\r\n                    vm.startTime = 10;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 2:\r\n                    vm.startTime = 60 * 2;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 3:\r\n                    vm.startTime = 60 * 60;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 4:\r\n                    vm.startTime = nowTime - Math.floor(Date.parse(new Date(new Date().format('yyyy/MM/dd'))) / 1000);\r\n                    vm.endTime = 0;\r\n                    break;\r\n            }\r\n            loadTH_lineData();\r\n        }\r\n        //选择网关\r\n        vm.selectGateway = function (item, $data) {\r\n            vm.gateway = item;\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n\r\n            vm.tableParamsSensor.filter({\r\n                gatewayMac: vm.gateway.mac\r\n            });\r\n        }\r\n        //选择设备传感器\r\n        vm.selectiBeacon = function (item, $data) {\r\n            vm.sensor = item;\r\n\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n            loadTH_lineData();\r\n        }\r\n\r\n        vm.th_line = {\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                formatter: function (params, ticket, callback) {\r\n                    var param = params[0];\r\n                    var name = param.seriesName;\r\n                    var value = param.value;\r\n                    //鼠标显示的数据\r\n                    return name + '<br/>' + 'Time : ' + $filter('date')(new Date(value[0]), 'yyyy-MM-dd HH:mm:ss') + '<br/>' + 'Value : ' + value[1];\r\n                }\r\n            },\r\n            grid: [{\r\n                    x: 45,\r\n                    y: 5,\r\n                    width: '95%',\r\n                    height: '92%'\r\n                }\r\n            ],\r\n            xAxis: [\r\n                {\r\n                    gridIndex: 0,\r\n                    type: 'time',\r\n                    splitLine: {\r\n                        show: false\r\n                    }\r\n                }\r\n            ],\r\n            yAxis: [\r\n                {\r\n                    gridIndex: 0,\r\n                    scale: true,\r\n                    interval: 5,\r\n                    max: -10,\r\n                    min: -100,\r\n                    type: 'value',\r\n                    boundaryGap: [0, '100%'],\r\n                    splitLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            // 使用深浅的间隔色\r\n                            type: 'dashed',\r\n                            color: 'rgba(255,255,255,0.24)'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: function (value, index) {\r\n                            // 格式化成月/日，只在第一个刻度显示年份\r\n                            return value.toFixed(1);\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            series: [{\r\n                    xAxisIndex: 0,\r\n                    yAxisIndex: 0,\r\n                    name: 'Rssi',\r\n                    type: 'line',\r\n                    showSymbol: false,\r\n                    animation: false, // 关闭动画\r\n                    hoverAnimation: false,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(30,144,255,0.8)'\r\n                        } // 自定义线条颜色\r\n                    },\r\n                    data: []\r\n                }\r\n            ]\r\n        };\r\n\r\n        $scope.LINE_2 = echarts.init(document.getElementById('LINE_2'));\r\n        //初始化，颜色为灰色\r\n        $scope.LINE_2.setOption(vm.th_line);\r\n\r\n        function setTH_line(data) {\r\n            // console.log(data);\r\n            if (!data) {\r\n                $scope.LINE_2.setOption({\r\n                    series: [{\r\n                        data: []\r\n                    }]\r\n                });\r\n            } else {\r\n                var Values = data[0].values;\r\n                var k = Values.length;\r\n                var t_line = [];\r\n                var h_line = [];\r\n                for (var i = 0; i < k; i++) {\r\n                    var value = Values[i];\r\n                    var time = value[0],\r\n                        t = value[1],\r\n                        h = value[2];\r\n\r\n                    if (t != null) {\r\n                        t = t.toFixed(2);\r\n                        t_line.push({\r\n                            name: \"battery\",\r\n                            value: [time, t]\r\n                        });\r\n                    }\r\n                    if (h != null) {\r\n                        h = h.toFixed(2);\r\n                        h_line.push({\r\n                            name: \"rssi\",\r\n                            value: [time, h]\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n                var arrAll = [];\r\n                arrAll['t_line'] = t_line;\r\n                arrAll['h_line'] = h_line;\r\n                // console.log(arrAll);\r\n                $scope.LINE_2.setOption({\r\n                    series: [{\r\n                        data: arrAll[\"h_line\"]\r\n                    }]\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n\r\n        $scope.sil1 = null;\r\n        $scope.sil2 = null;\r\n\r\n        var loadTH_lineData = function () {\r\n            if (vm.sensor.mac) {\r\n                var token = AuthTokenFactory.getToken();\r\n                httpService.getMinewdbData2(vm.gateway.mac, vm.sensor.mac, vm.startTime, vm.endTime, token)\r\n                    .success(function (resp) {\r\n                        console.log(resp);\r\n                        if (resp.data[0].series != null) {\r\n                            vm.th_data = resp.data[0].series;\r\n                            setTH_line(vm.th_data);\r\n                        } else {\r\n                            vm.th_data = null;\r\n                            setTH_line(vm.th_data);\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            } else {\r\n                vm.th_data = null;\r\n                setTH_line(vm.th_data);\r\n            }\r\n\r\n        };\r\n\r\n        $scope.sil2 = $interval(loadTH_lineData, 1 * 1000);\r\n\r\n        window.onresize = function () { //当窗口大小变化时\r\n            $scope.LINE_2.resize();\r\n        };\r\n\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil1);\r\n            $interval.cancel($scope.sil2);\r\n        });\r\n\r\n    }\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    function analysisGaugeData(serie) {\r\n        var t_gauge = {};\r\n        var h_gauge = {};\r\n        if (serie) {\r\n            var t = serie.temperature;\r\n            var h = serie.humidity;\r\n\r\n            if (t != null) t = t.toFixed(2); //四舍五入，保留两位小数\r\n            if (h != null) h = h.toFixed(2);\r\n            if (t != null && h != null) {\r\n                t_gauge = t;\r\n                h_gauge = h;\r\n            }\r\n        }\r\n\r\n        var arrAll = [];\r\n        arrAll['t_gauge'] = t_gauge;\r\n        arrAll['h_gauge'] = h_gauge;\r\n        return arrAll;\r\n    };\r\n\r\n    Date.prototype.format = function (format) {\r\n        var date = {\r\n            \"M+\": this.getMonth() + 1,\r\n            \"d+\": this.getDate(),\r\n            \"h+\": this.getHours(),\r\n            \"m+\": this.getMinutes(),\r\n            \"s+\": this.getSeconds(),\r\n            \"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n            \"S+\": this.getMilliseconds()\r\n        };\r\n        if (/(y+)/i.test(format)) {\r\n            format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        for (var k in date) {\r\n            if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                format = format.replace(RegExp.$1, RegExp.$1.length == 1 ?\r\n                    date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    angular.module('BlurAdmin.pages.sensors')\r\n        .controller('sensorsCtrl', SensorsCtrl);\r\n\r\n    /** @ngInject */\r\n    function SensorsCtrl($scope, $echarts, $interval, $timeout, NgTableParams, $filter, httpService, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.gateway = [];\r\n        vm.sensor = [];\r\n        vm.sensor_th = \"\";\r\n\r\n        vm.t_gauge = {};\r\n        vm.h_gauge = {};\r\n        vm.th_line = {};\r\n\r\n        vm.th_data = null;\r\n\r\n        vm.startTime = 60 * 60;\r\n        vm.endTime = 0;\r\n\r\n        vm.tableParamsGateway = new NgTableParams({\r\n            page: 1,\r\n            count: 100\r\n        }, {\r\n            filterDelay: 300,\r\n            counts: [],\r\n            getData: function ($defer, params) {\r\n\r\n                var filter = params.filter();\r\n                var size = params.count();\r\n                var page = params.page() - 1;\r\n                var sort = \"\";\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.getGatewayList(page, size, sort, token)\r\n                    .success(function (resp) {\r\n                        if (resp.data.length > 0) {\r\n                            vm.gateway = resp.data[0];\r\n                            resp.data[0].selected = true;\r\n\r\n                            vm.tableParamsSensor = new NgTableParams({\r\n                                page: 1,\r\n                                count: 100\r\n                            }, {\r\n                                filterDelay: 300,\r\n                                counts: [],\r\n                                getData: function ($defer, params) {\r\n                                    var filter = params.filter();\r\n                                    var gatewayMac = filter.gatewayMac;\r\n                                    var size = params.count();\r\n                                    var page = params.page() - 1;\r\n                                    var sort = \"\";\r\n                                    var token = AuthTokenFactory.getToken();\r\n                                    if (gatewayMac === undefined)\r\n                                        gatewayMac = vm.gateway.mac;\r\n\r\n                                    httpService.getSensor(page, size, sort, 'S1', gatewayMac, token)\r\n                                        .success(function (resp) {\r\n                                            // console.log(resp);\r\n                                            if (resp.data.length > 0) {\r\n                                                vm.sensor = resp.data[0];\r\n                                                resp.data[0].selected = true;\r\n                                                loadGaugeData();\r\n                                                loadTH_lineData();\r\n                                            } else {\r\n                                                vm.sensor = [];\r\n                                                loadGaugeData();\r\n                                                loadTH_lineData();\r\n                                            }\r\n                                            params.total(resp.totalItems);\r\n                                            $defer.resolve(resp.data);\r\n                                        }).error(function (resp, status) {\r\n                                            console.log(resp);\r\n                                            httpService.httpStatusCode(status);\r\n                                        });\r\n                                }\r\n                            });\r\n                        } \r\n                        params.total(resp.totalItems);\r\n                        $defer.resolve(resp.data);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        });\r\n        //选择时间\r\n        vm.selectTime = function ($event, t) {\r\n            // console.log(Date.parse());\r\n            var div = $event.target.parentElement.parentElement,\r\n                children = div.children,\r\n                a_s = [];\r\n            for (var i = 0; i < children.length; i++) {\r\n                a_s.push(children[i].children[0]);\r\n                $(children[i].children[0]).addClass(\"wsl-label-default-color\");\r\n                $(children[i].children[0]).removeClass(\"wsl-label-active-color\");\r\n            }\r\n\r\n            $($event.target).removeClass(\"wsl-label-default-color\");\r\n            $($event.target).addClass(\"wsl-label-active-color\");\r\n\r\n            var oneDayTime = 24 * 60 * 60;\r\n            var nowTime = Math.floor(new Date().getTime() / 1000);\r\n            switch (t) {\r\n                case 1:\r\n                    vm.startTime = 60 * 60;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 2:\r\n                    vm.startTime = nowTime - Math.floor(Date.parse(new Date(new Date().format('yyyy/MM/dd'))) / 1000);\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 3:\r\n                    vm.startTime = 2 * oneDayTime;\r\n                    vm.endTime = oneDayTime;\r\n                    break;\r\n                case 4:\r\n                    vm.startTime = 7 * oneDayTime;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 5:\r\n                    vm.startTime = 14 * oneDayTime;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 6:\r\n                    vm.startTime = 30 * oneDayTime;\r\n                    vm.endTime = 0;\r\n                    break;\r\n            }\r\n            $('input[name=\"datefilter\"]').val('yyyy-mm-dd to yyyy-mm-dd');\r\n            loadTH_lineData();\r\n        }\r\n        //选择网关\r\n        vm.selectGateway = function (item, $data) {\r\n            vm.gateway = item;\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n\r\n            vm.tableParamsSensor.filter({\r\n                gatewayMac: vm.gateway.mac\r\n            });\r\n        }\r\n        //选择设备传感器\r\n        vm.selectSensor = function (item, $data) {\r\n            vm.sensor = item;\r\n\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n            loadGaugeData();\r\n            loadTH_lineData();\r\n        }\r\n\r\n        // 指定图表的配置项和数据\r\n        vm.t_gauge = {\r\n            tooltip: {\r\n                formatter: \"{a} <br/>{c} {b}\"\r\n            },\r\n            // toolbox: {\r\n            //     show: true,\r\n            //     feature: {\r\n            //         mark: {\r\n            //             show: true\r\n            //         },\r\n            //         restore: {\r\n            //             show: true\r\n            //         },\r\n            //         saveAsImage: {\r\n            //             show: true\r\n            //         }\r\n            //     }\r\n            // },\r\n            dataLoaded: true,\r\n            series: [{\r\n                name: 'Temperature',\r\n                type: 'gauge',\r\n                min: -40,\r\n                max: 80,\r\n                splitNumber: 10,\r\n                radius: '95%',\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: [\r\n                            // [0.09, 'lime'],\r\n                            // [0.82, '#1e90ff'],\r\n                            // [1, '#ff4500']\r\n                            [0.09, 'rgba(255, 255, 255, 0.54)'],\r\n                            [0.82, 'rgba(255, 255, 255, 0.54)'],\r\n                            [1, 'rgba(255, 255, 255, 0.54)']\r\n                        ],\r\n                        width: 3,\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisLabel: { // 坐标轴小标记\r\n                    textStyle: { // 属性lineStyle控制线条样式\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    length: 15, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: 25, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        width: 3,\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                pointer: { // 分隔线\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 5\r\n                },\r\n                title: {\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        fontSize: 20,\r\n                        fontStyle: 'italic',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                detail: {\r\n                    width: 70,\r\n                    height: 35,\r\n                    // backgroundColor: 'rgba(30,144,255,0.8)',\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.54)',\r\n                    borderWidth: 0.5,\r\n                    borderColor: '#fff',\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 2.5,\r\n                    offsetCenter: [0, '80%'], // x, y，单位px\r\n                    formatter: function (value) {\r\n                        return value.toFixed(2) + \"°C\";\r\n                    },\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        fontSize: 16\r\n                    }\r\n                },\r\n                data: [{\r\n                    value: 0,\r\n                    name: '°C'\r\n                }]\r\n            }]\r\n        };\r\n\r\n        vm.h_gauge = {\r\n            tooltip: {\r\n                formatter: \"{a} <br/>{c} {b}\"\r\n            },\r\n            series: [{\r\n                name: 'Humidity',\r\n                type: 'gauge',\r\n                min: 0,\r\n                max: 100,\r\n                splitNumber: 10,\r\n                radius: '95%',\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: [\r\n                            // [0.09, 'lime'],\r\n                            // [0.82, '#1e90ff'],\r\n                            // [1, '#ff4500']\r\n                            [0.09, 'rgba(255, 255, 255, 0.54)'],\r\n                            [0.82, 'rgba(255, 255, 255, 0.54)'],\r\n                            [1, 'rgba(255, 255, 255, 0.54)']\r\n                        ],\r\n                        width: 3,\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisLabel: { // 坐标轴小标记\r\n                    textStyle: { // 属性lineStyle控制线条样式\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    length: 15, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: 25, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        width: 3,\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                pointer: { // 分隔线\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 5\r\n                },\r\n                title: {\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        fontSize: 20,\r\n                        fontStyle: 'italic',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                detail: {\r\n                    width: 70,\r\n                    height: 35,\r\n                    // backgroundColor: '#FBA92F',\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.54)',\r\n                    borderWidth: 0.5,\r\n                    borderColor: '#fff',\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 2.5,\r\n                    offsetCenter: [0, '80%'], // x, y，单位px\r\n                    formatter: function (value) {\r\n                        return value.toFixed(2) + \"%\";\r\n                    },\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        fontSize: 16\r\n                    }\r\n                },\r\n                data: [{\r\n                    value: 0,\r\n                    name: '%RH'\r\n                }]\r\n            }]\r\n        };\r\n\r\n        vm.th_line = {\r\n            // title: {\r\n            //     text: 'Temperature and humidity sensor',\r\n            //     textAlign:'center',\r\n            //     top:12,\r\n            //     left:'40%',\r\n            //     textStyle:{\r\n            //         color:'#fff'\r\n            //     }\r\n            // },\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            },\r\n            // toolbox: {\r\n            //     show: true,\r\n            //     feature: {\r\n            //         mark: {\r\n            //             show: true\r\n            //         },\r\n            //         restore: {\r\n            //             show: true\r\n            //         },\r\n            //         saveAsImage: {\r\n            //             show: true\r\n            //         }\r\n            //     }\r\n            // },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                formatter: function (params, ticket, callback) {\r\n                    var param = params[0];\r\n                    var name = param.seriesName;\r\n                    var value = param.value;\r\n                    //鼠标显示的数据\r\n                    return name + '<br/>' + 'Time : ' + $filter('date')(new Date(value[0]), 'yyyy-MM-dd HH:mm:ss') + '<br/>' + 'Value : ' + value[1];\r\n                }\r\n            },\r\n            grid: [{\r\n                    x: 38,\r\n                    y: 0,\r\n                    width: '92%',\r\n                    height: '40%'\r\n                },\r\n                {\r\n                    x: 38,\r\n                    y: '50%',\r\n                    width: '92%',\r\n                    height: '40%'\r\n                },\r\n            ],\r\n            xAxis: [{\r\n                    show: false,\r\n                    gridIndex: 0,\r\n                    splitNumber: 10,\r\n                    type: 'time',\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: function (value, index) {\r\n                            // 格式化成月/日，只在第一个刻度显示年份\r\n                            // var date = new Date(value);\r\n                            // console.log(date);\r\n                            // var texts = [(date.getMonth() + 1), date.getDate()];\r\n                            // if (index === 0) {\r\n                            //     texts.unshift(date.getYear());\r\n                            // }\r\n                            // return texts.join('/');\r\n                            return \"wsl \";\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    gridIndex: 1,\r\n                    type: 'time',\r\n                    splitLine: {\r\n                        show: false\r\n                    }\r\n                }\r\n            ],\r\n            yAxis: [{\r\n                    gridIndex: 0,\r\n                    // scale:true,\r\n                    type: 'value',\r\n                    boundaryGap: [0, '100%'],\r\n                    splitLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            // 使用深浅的间隔色\r\n                            type: 'dashed',\r\n                            color: 'rgba(255,255,255,0.24)'\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    gridIndex: 1,\r\n                    scale: true,\r\n                    type: 'value',\r\n                    boundaryGap: [0, '100%'],\r\n                    splitLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            // 使用深浅的间隔色\r\n                            type: 'dashed',\r\n                            color: 'rgba(255,255,255,0.24)'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: function (value, index) {\r\n                            // 格式化成月/日，只在第一个刻度显示年份\r\n                            return value.toFixed(1);\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            series: [{\r\n                    xAxisIndex: 0,\r\n                    yAxisIndex: 0,\r\n                    name: 'Temperature',\r\n                    type: 'line',\r\n                    showSymbol: false,\r\n                    animation: false, // 关闭动画\r\n                    hoverAnimation: false,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(30,144,255,0.8)'\r\n                        } // 自定义线条颜色\r\n                    },\r\n                    data: []\r\n                },\r\n                {\r\n                    xAxisIndex: 1,\r\n                    yAxisIndex: 1,\r\n                    name: 'Humidity',\r\n                    type: 'line',\r\n                    showSymbol: false,\r\n                    animation: false, // 关闭动画\r\n                    hoverAnimation: false,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#FBA92F'\r\n                        } // 自定义线条颜色\r\n                    },\r\n                    data: []\r\n                }\r\n            ]\r\n        };\r\n\r\n        $scope.GAUGE_1 = echarts.init(document.getElementById(\"GAUGE_1\"));\r\n        $scope.GAUGE_2 = echarts.init(document.getElementById(\"GAUGE_2\"));\r\n        $scope.LINE_1 = echarts.init(document.getElementById('LINE_1'));\r\n        if (window.innerWidth <= 1024) {\r\n            vm.t_gauge.series[0].title.textStyle.fontSize = 15;\r\n            vm.h_gauge.series[0].title.textStyle.fontSize = 14;\r\n        }\r\n        //初始化，颜色为灰色\r\n        $scope.LINE_1.setOption(vm.th_line);\r\n        $scope.GAUGE_1.setOption(vm.t_gauge);\r\n        $scope.GAUGE_2.setOption(vm.h_gauge);\r\n\r\n        function setChart(allData) {\r\n            if (!angular.equals({}, allData[\"t_gauge\"])) {\r\n                vm.t_gauge.series[0].data[0].value = allData[\"t_gauge\"];\r\n                //设置有数据的指针仪表盘颜色\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[0][1] = \"lime\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[1][1] = \"#1e90ff\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[2][1] = \"#ff4500\";\r\n                vm.t_gauge.series[0].detail.backgroundColor = \"rgba(30,144,255,0.8)\";\r\n\r\n                $scope.GAUGE_1.setOption(vm.t_gauge);\r\n            }\r\n            if (angular.equals({}, allData[\"t_gauge\"])) {\r\n                vm.t_gauge.series[0].data[0].value = 0;\r\n                //重置\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[0][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[1][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[2][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.t_gauge.series[0].detail.backgroundColor = \"rgba(255, 255, 255, 0.54)\";\r\n\r\n                $scope.GAUGE_1.setOption(vm.t_gauge);\r\n            }\r\n            if (!angular.equals({}, allData[\"h_gauge\"])) {\r\n                vm.h_gauge.series[0].data[0].value = allData[\"h_gauge\"];\r\n                //设置有数据的指针仪表盘颜色\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[0][1] = \"lime\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[1][1] = \"#1e90ff\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[2][1] = \"#ff4500\";\r\n                vm.h_gauge.series[0].detail.backgroundColor = \"#FBA92F\";\r\n\r\n                $scope.GAUGE_2.setOption(vm.h_gauge);\r\n            }\r\n            if (angular.equals({}, allData[\"h_gauge\"])) {\r\n                vm.h_gauge.series[0].data[0].value = 0;\r\n                //重置\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[0][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[1][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[2][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.h_gauge.series[0].detail.backgroundColor = \"rgba(255, 255, 255, 0.54)\";\r\n\r\n                $scope.GAUGE_2.setOption(vm.h_gauge);\r\n            }\r\n        }\r\n\r\n        function setTH_line(data) {\r\n            // console.log(data);\r\n            if (!data) {\r\n                $scope.LINE_1.setOption({\r\n                    series: [{\r\n                        data: []\r\n                    }, {\r\n                        data: []\r\n                    }]\r\n                });\r\n            } else {\r\n                var Values = data[0].values;\r\n                var k = Values.length;\r\n                var t_line = [];\r\n                var h_line = [];\r\n                for (var i = 0; i < k; i++) {\r\n                    var value = Values[i];\r\n                    var time = value[0],\r\n                        t = value[1],\r\n                        h = value[2];\r\n\r\n                    if (t != null) {\r\n                        t = t.toFixed(2);\r\n                        t_line.push({\r\n                            name: \"temperature\",\r\n                            value: [time, t]\r\n                        });\r\n                    }\r\n                    if (h != null) {\r\n                        h = h.toFixed(2);\r\n                        h_line.push({\r\n                            name: \"humidity\",\r\n                            value: [time, h]\r\n                        });\r\n                    }\r\n                    \r\n                }\r\n\r\n                var arrAll = [];\r\n                arrAll['t_line'] = t_line;\r\n                arrAll['h_line'] = h_line;\r\n                // console.log(arrAll);\r\n                $scope.LINE_1.setOption({\r\n                    series: [{\r\n                        data: arrAll[\"t_line\"]\r\n                    }, {\r\n                        data: arrAll[\"h_line\"]\r\n                    }]\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n \r\n        $scope.sil1 = null;\r\n        $scope.sil2 = null;\r\n        var loadGaugeData = function () {\r\n            var page = 0;\r\n            var size = 100;\r\n            var sort = \"\";\r\n            var token = AuthTokenFactory.getToken();\r\n            if (vm.sensor.mac) {\r\n                httpService.getOneSensor(page, size, sort, 'S1', vm.gateway.mac, vm.sensor.mac, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        if (resp.data.length > 0) {\r\n                            vm.sensor_th = resp.data[0];\r\n                            var allData = analysisGaugeData(vm.sensor_th);\r\n                            setChart(allData);\r\n                        } else {\r\n                            vm.sensor_th = \"\";\r\n                            var allData = analysisGaugeData(vm.sensor_th);\r\n                            setChart(allData);\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            } else {\r\n                vm.sensor_th = \"\";\r\n                var allData = analysisGaugeData(vm.sensor_th);\r\n                setChart(allData);\r\n            }\r\n\r\n        };\r\n\r\n        var loadTH_lineData = function () {\r\n            if (vm.sensor.mac) {\r\n                var token = AuthTokenFactory.getToken();\r\n                httpService.getMinewdbData(vm.gateway.mac, vm.sensor.mac, vm.startTime, vm.endTime, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        if (resp.data[0].series != null) {\r\n                            vm.th_data = resp.data[0].series;\r\n                            setTH_line(vm.th_data);\r\n                        } else {\r\n                            vm.th_data = null;\r\n                            setTH_line(vm.th_data);\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            } else {\r\n                vm.th_data = null;\r\n                setTH_line(vm.th_data);\r\n            }\r\n\r\n        };\r\n\r\n        $scope.sil1 = $interval(loadGaugeData, 5 * 1000);\r\n        $scope.sil2 = $interval(loadTH_lineData, 5 * 1000);\r\n\r\n        window.onresize = function () { //当窗口大小变化时\r\n            $scope.LINE_1.resize();\r\n            $scope.GAUGE_1.resize();\r\n            $scope.GAUGE_2.resize();\r\n        };\r\n\r\n        /* 时间日历控件 */\r\n        $('input[name=\"datefilter\"]').daterangepicker({\r\n            autoUpdateInput: false,\r\n            cancelClass: '',\r\n            locale: {\r\n                cancelLabel: 'Clear'\r\n            }\r\n        });\r\n        /* apply */\r\n        $('input[name=\"datefilter\"]').on('apply.daterangepicker', function (ev, picker) {\r\n            // console.log(picker.startDate._d);\r\n            // console.log(picker.endDate._d);\r\n            var nowTime = Math.floor(new Date().getTime() / 1000);\r\n            vm.startTime = nowTime - (Math.floor(Date.parse(new Date(picker.startDate.format('MM/DD/YYYY'))) / 1000) - 1);\r\n            vm.endTime = nowTime - (Math.floor(Date.parse(new Date(picker.endDate.format('MM/DD/YYYY'))) / 1000) + 86400);\r\n            $(this).val(picker.startDate.format('MM/DD/YYYY') + ' to ' + picker.endDate.format('MM/DD/YYYY'));\r\n            $(this).removeClass('wsl-input');\r\n            var div = $('#selectTime').find(\"a\");\r\n            for (var i = 0; i < div.length; i++) {\r\n                $(div[i]).addClass(\"wsl-label-default-color\");\r\n                $(div[i]).removeClass(\"wsl-label-active-color\");\r\n            }\r\n\r\n            loadTH_lineData();\r\n        });\r\n        /* clear */\r\n        $('input[name=\"datefilter\"]').on('cancel.daterangepicker', function (ev, picker) {\r\n            $(this).val('yyyy-mm-dd to yyyy-mm-dd');\r\n        });\r\n\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil1);\r\n            $interval.cancel($scope.sil2);\r\n        });\r\n\r\n    }\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.alldevice')\r\n        .controller('statusCtrl', StatusCtrl);\r\n\r\n    var app = angular.module('BlurAdmin.pages.alldevice');\r\n\r\n    app.filter('unique', function () {\r\n        return function (collection, keyname) {\r\n            var output = [],\r\n                keys = [];\r\n            angular.forEach(collection, function (item) {\r\n                var key = item[keyname];\r\n                if (keys.indexOf(key) === -1) {\r\n                    keys.push(key);\r\n                    output.push(item);\r\n                }\r\n            });\r\n            return output;\r\n        };\r\n    });\r\n\r\n    /** @ngInject */\r\n    function StatusCtrl($scope, $echarts, $interval, $timeout, NgTableParams, $filter, httpService, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.gateway_list = [];\r\n        vm.device_list = [];\r\n        vm.gateway_value = \"Select Gateway\";\r\n        vm.deviceTypeName = \"iBeacon\"\r\n        vm.device_value = \"Select Device\"\r\n        // vm.tableParamsGateway = {};\r\n        // vm.tableParamsDevice = {};\r\n        // vm.tableParams = {};\r\n        vm.deviceTypeValue = \"iBeacon\";\r\n        vm.tableParams = new NgTableParams({\r\n                page: 1,\r\n                count: 10\r\n            }, {\r\n                filterDelay: 300,\r\n                counts: [],\r\n                getData: function ($defer, params) {\r\n\r\n                    var filter = params.filter();\r\n                    var type = filter.type;\r\n                    var gatewayMac = filter.gatewayMac;\r\n                    var mac = filter.mac;\r\n                    var sorting = params.sorting();\r\n                    var size = params.count();\r\n                    var page = params.page() - 1;\r\n                    var sort = \"\";\r\n                    var token = AuthTokenFactory.getToken();\r\n                    if (vm.deviceTypeValue == \"Sensor\")\r\n                        vm.deviceTypeValue = \"S1\";\r\n                    if (type === undefined)\r\n                        type = vm.deviceTypeValue;\r\n                    if (gatewayMac === undefined)\r\n                        gatewayMac = vm.gateway_value;\r\n                    if (mac === undefined)\r\n                        mac = vm.device_value;\r\n\r\n                    for (var item in sorting) {\r\n                        sort = item + \",\" + sorting[item];\r\n                    }\r\n\r\n\r\n                    httpService.getStatusBy(page, size, sort, type, gatewayMac, mac, token)\r\n                        .success(function (resp) {\r\n                            // console.log(resp);\r\n                            httpService.getDeviceListByType(page, 1000, sort, type, gatewayMac, token)\r\n                                .success(function (resp) {\r\n                                    vm.device_list = resp.data;\r\n                                    // console.log(resp.data);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                            params.total(resp.totalItems);\r\n                            $defer.resolve(resp.data);\r\n                        }).error(function (resp, status) {\r\n                            console.log(resp);\r\n                            httpService.httpStatusCode(status);\r\n                        });\r\n                }\r\n            });\r\n\r\n        function _init() {\r\n            vm.tableParams.reload();            \r\n        };\r\n        /* 获取网关列表*/\r\n        var size = 100;\r\n        var page = 0;\r\n        var sort = \"\";\r\n        var token = AuthTokenFactory.getToken();\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gateway_list = resp.data\r\n            }).error(function (resp) {\r\n                console.log(resp);\r\n            });\r\n\r\n        function deviceTypeValue(value) {\r\n            var deviceTypeValue = \"iBeacon\";\r\n            if (value == \"Sensor\") {\r\n                deviceTypeValue = \"S1\"\r\n            } else if (value == \"Other\") {\r\n                deviceTypeValue = \"Unknown\";\r\n            }\r\n            return deviceTypeValue;\r\n        };\r\n\r\n        vm.selectDeviceType = function (value) {\r\n            vm.deviceTypeName = value;\r\n            vm.deviceTypeValue = deviceTypeValue(value);\r\n            vm.tableParams.filter({\r\n                type: vm.deviceTypeValue\r\n            });\r\n        };\r\n\r\n        vm.select_gateway = function (value) {\r\n            vm.gateway_value = value;\r\n            vm.tableParams.filter({\r\n                gatewayMac: vm.gateway_value\r\n            });\r\n        };\r\n\r\n        vm.select_device = function (value) {\r\n            vm.device_value = value;\r\n            vm.tableParams.filter({\r\n                mac: vm.device_value\r\n            });\r\n        };\r\n        $scope.sil = $interval(_init, 5000);\r\n        //在页面跳转时触发\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil);\r\n        });\r\n\r\n    }\r\n})();\n (function () {\r\n \t'use strict';\r\n\r\n \tangular.module('BlurAdmin.pages.users')\r\n \t\t.controller('usersCtrl', UsersCtrl)\r\n \t\t.controller('createUserCtrl', createUserCtrl)\r\n \t\t.controller('editUserCtrl', editUserCtrl)\r\n \t\t.controller('deleteUserCtrl', deleteUserCtrl)\r\n\t\t .controller('userGatewaysCtrl', userGatewaysCtrl)\r\n\t\t .controller('deleteGatewayCtrl', deleteGatewayCtrl);\r\n\r\n \t/** @ngInject */\r\n \tfunction UsersCtrl($scope, $filter, editableOptions, NgTableParams, editableThemes, $uibModal, httpService, AuthTokenFactory) {\r\n\r\n \t\tvar vm = this;\r\n \t\tthis.UserInfo = AuthTokenFactory.getUserInfo();\r\n\r\n \t\tif (this.UserInfo.role == \"ADMIN\")\r\n \t\t\tthis.isAdmin = true;\r\n\r\n \t\tthis.animationsEnabled = true;\r\n\r\n \t\tvm.tableParams = new NgTableParams({\r\n \t\t\tpage: 1, // show first page\r\n \t\t\tcount: 10 // count per page\r\n \t\t}, {\r\n \t\t\tfilterDelay: 300,\r\n \t\t\tcounts: [],\r\n \t\t\tgetData: function ($defer, params) {\r\n \t\t\t\t// ajax request to api\r\n\r\n \t\t\t\tvar filter = params.filter();\r\n \t\t\t\t// var term = filter.$;\r\n \t\t\t\t// var sorting = params.sorting();\r\n \t\t\t\tvar size = params.count();\r\n \t\t\t\tvar page = params.page() - 1;\r\n \t\t\t\tvar sort = \"\";\r\n \t\t\t\t// var order = \"\";\r\n \t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n \t\t\t\thttpService.getUserList(page, size, sort, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\tparams.total(resp.totalItems);\r\n \t\t\t\t\t\t$defer.resolve(resp.data);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t});\r\n\r\n \t\t$scope.openCreateModel = function (size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/createUser.html',\r\n \t\t\t\tcontroller: 'createUserCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn $scope.item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\tmodalInstance.result.then(function (result) {\r\n \t\t\t\t$scope.result = result;\r\n \t\t\t\t// console.log(result);\r\n \t\t\t\tvm.tableParams.reload();\r\n \t\t\t}, function () {\r\n \t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t});\r\n \t\t};\r\n\r\n \t\t$scope.openEditModel = function (item, size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/editUser.html',\r\n \t\t\t\tcontroller: 'editUserCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\tmodalInstance.result.then(function (result) {\r\n \t\t\t\t$scope.result = result;\r\n \t\t\t\t// console.log(result);\r\n \t\t\t\tvm.tableParams.reload();\r\n \t\t\t}, function () {\r\n \t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t});\r\n \t\t};\r\n\r\n \t\t$scope.openDeleteModel = function (item, size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/deleteUser.html',\r\n \t\t\t\tcontroller: 'deleteUserCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\tmodalInstance.result.then(function (result) {\r\n \t\t\t\t$scope.result = result;\r\n \t\t\t\t// console.log(result);\r\n \t\t\t\tvm.tableParams.reload();\r\n \t\t\t}, function () {\r\n \t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t});\r\n \t\t};\r\n\r\n \t\t$scope.userGatewaysCtrl = function (item, size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/gateways.html',\r\n \t\t\t\tcontroller: 'userGatewaysCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\t// modalInstance.result.then(function (result) {\r\n \t\t\t// \t$scope.result = result;\r\n \t\t\t// \t console.log(result);\r\n \t\t\t// \t vm.tableParams.reload();\r\n \t\t\t// }, function () {\r\n \t\t\t// \tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t// });\r\n \t\t};\r\n\r\n \t\t$scope.toggleAnimation = function () {\r\n \t\t\t$scope.animationsEnabled = !$scope.animationsEnabled;\r\n \t\t};\r\n\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction createUserCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService) {\r\n \t\t$scope.item = {};\r\n\r\n \t\t$scope.ok = function () {\r\n \t\t\tif ($scope.item) {\r\n \t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n \t\t\t\thttpService.addUser($scope.item, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\t// console.log(resp);\r\n \t\t\t\t\t\t$uibModalInstance.close(resp);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t};\r\n\r\n \t\t$scope.cancel = function () {\r\n \t\t\t$uibModalInstance.dismiss('cancel');\r\n \t\t};\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction editUserCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n \t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\t\t$scope.Mphone = item.nationcode + item.mobile_phone;\r\n\t\t//  console.log(item); \r\n\r\n \t\t$scope.ok = function () {\r\n \t\t\tif ($scope.item) {\r\n\t\t\t\tvar dialCode = $(\"#Mphone\").intlTelInput(\"getSelectedCountryData\").dialCode;\r\n\t\t\t\tvar phoneNumber = $(\"#Mphone\").intlTelInput(\"getNumber\");\r\n\t\t\t\tvar len = phoneNumber.indexOf(dialCode)+dialCode.length;\r\n\t\t\t\t$scope.item.nationcode = dialCode;\r\n\t\t\t\t$scope.item.mobile_phone = phoneNumber.slice(len);\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\t\t\t\tconsole.log(item);\r\n \t\t\t\thttpService.updateUser($scope.item, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\t// console.log(resp);\r\n \t\t\t\t\t\t$uibModalInstance.close(resp);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t};\r\n\r\n \t\t$scope.cancel = function () {\r\n \t\t\t$uibModalInstance.dismiss('cancel');\r\n \t\t};\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction deleteUserCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n \t\tvar vm = this;\r\n \t\t$scope.item = item;\r\n\r\n \t\t$scope.ok = function () {\r\n \t\t\tif ($scope.item) {\r\n \t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n \t\t\t\thttpService.deleteUser($scope.item.uuid, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\t// console.log(resp);\r\n \t\t\t\t\t\t$uibModalInstance.close(resp);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t};\r\n\r\n \t\t$scope.cancel = function () {\r\n \t\t\t$uibModalInstance.dismiss('cancel');\r\n \t\t};\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction userGatewaysCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item, $uibModal) {\r\n \t\tvar vm = this;\r\n \t\t$scope.item = item;\r\n \t\tvar page = 0;\r\n \t\tvar size = 100;\r\n \t\tvar sort = \"\";\r\n \t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\tvm.tableParams = function(){\r\n\t\t\thttpService.getGatewayListByUserid(page, size, sort, $scope.item.uuid, token)\r\n\t\t\t.success(function (resp) {\r\n\t\t\t\t// console.log(resp);\r\n\t\t\t\t$scope.gateway_list = resp.data;\r\n\t\t\t}).error(function (resp, status) {\r\n\t\t\t\tconsole.log(resp);\r\n\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t$scope.openDeleteModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/users/deleteGateway.html',\r\n\t\t\t\tcontroller: 'deleteGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.tableParams();\r\n\t }\r\n\t \r\n\t /** @ngInject */\r\n\tfunction deleteGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.deleteGateway($scope.item.uuid, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n })();\n/**\r\n * @author chris\r\n * created on 15.12.2015\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .config(toastrLibConfig);\r\n\r\n    /** @ngInject */\r\n    function toastrLibConfig(toastrConfig) {\r\n        angular.extend(toastrConfig, {\r\n            closeButton: true,\r\n            closeHtml: '<button>&times;</button>',\r\n            timeOut: 5000,\r\n            autoDismiss: false,\r\n            containerId: 'toast-container',\r\n            maxOpened: 0,\r\n            newestOnTop: true,\r\n            positionClass: 'toast-top-right',\r\n            preventDuplicates: false,\r\n            preventOpenDuplicates: false,\r\n            target: 'body'\r\n        });\r\n    }\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').factory('AuthInterceptor', function AuthInterceptor(AuthTokenFactory) {\r\n    'use strict';\r\n    return {\r\n      request: addToken\r\n    };\r\n\r\n    function addToken(config) {\r\n      var token = AuthTokenFactory.getToken();\r\n      if (token) {\r\n        config.headers = config.headers || {};\r\n        config.headers.Authorization = 'Bearer ' + token;\r\n      }\r\n      return config;\r\n    }\r\n  });\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').factory('AuthTokenFactory', function AuthTokenFactory($window) {\r\n    'use strict';\r\n    var store = $window.sessionStorage; // $window.localStorage;\r\n    var key = 'currentUser';\r\n\r\n    return {\r\n      getUserInfo: getUserInfo,\r\n      storeUserInfo: storeUserInfo,\r\n      removeUserInfo: removeUserInfo,\r\n      isLoggedIn : isLoggedIn,\r\n      getUserName : getUserName,\r\n      getUserId : getUserId,\r\n      getToken : getToken,\r\n      getRole : getRole,\r\n      getEmail : getEmail\r\n    };\r\n\r\n    function getUserInfo() {\r\n\r\n      if (!isLoggedIn()){\r\n        return null;\r\n      }\r\n      return _unserialize(store.getItem(key));\r\n    }\r\n\r\n    function storeUserInfo(userInfo) {\r\n      if (userInfo) {\r\n        store.setItem(key, _serialize(userInfo));\r\n      } else {\r\n        store.removeItem(key);\r\n      }\r\n    }\r\n\r\n    function removeUserInfo () {\r\n\r\n        store.removeItem(key);\r\n    }\r\n\r\n    function isLoggedIn (){\r\n       return store.getItem(key)?true:false;\r\n    }\r\n\r\n    function getUserName(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.name;\r\n      }\r\n      return \"not login\";\r\n    }\r\n\r\n    function getUserId(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.userId;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function getToken(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.token;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function getRole(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.role;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function getEmail(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.email;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     * Try to encode value as json, or just return the value upon failure\r\n     *\r\n     * @private\r\n     *\r\n     * @param  {Mixed}  value  The value to serialize\r\n     *\r\n     * @return {Mixed}\r\n     */\r\n    function _serialize(value) {\r\n                        try {\r\n                            return JSON.stringify(value);\r\n                        } catch (e) {\r\n                            return value;\r\n                        }\r\n                    };\r\n\r\n      /**\r\n       * Try to parse value as json, if it fails then it probably isn't json\r\n       * so just return it\r\n       *\r\n       * @private\r\n       *\r\n       * @param  {String}  value  The value to unserialize\r\n       *\r\n       * @return {Mixed}\r\n       */\r\n       function _unserialize(value) {\r\n                        try {\r\n                            return JSON.parse(value);\r\n                        } catch (e) {\r\n                            return value;\r\n                        }\r\n                    };\r\n  });\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').service('baUtil', baUtil);\r\n\r\n    /** @ngInject */\r\n    function baUtil() {\r\n\r\n        this.isDescendant = function (parent, child) {\r\n            var node = child.parentNode;\r\n            while (node != null) {\r\n                if (node == parent) {\r\n                    return true;\r\n                }\r\n                node = node.parentNode;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        this.hexToRGB = function (hex, alpha) {\r\n            var r = parseInt(hex.slice(1, 3), 16);\r\n            var g = parseInt(hex.slice(3, 5), 16);\r\n            var b = parseInt(hex.slice(5, 7), 16);\r\n            return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\r\n        };\r\n\r\n        this.hasAttr = function (elem, attrName) {\r\n            var attr = $(elem).attr(attrName);\r\n            return (typeof attr !== typeof undefined && attr !== false);\r\n        }\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin').service('httpService', httpService);\r\n\r\n\r\n    /** @ngInject */\r\n    function httpService($http, API_URL, AuthTokenFactory, $q, $state) {\r\n\r\n\r\n        /* User List*/\r\n        this.getUserList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/users?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get User */\r\n        this.getUser = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/users/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add User */\r\n        this.addUser = function (user, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/users\",\r\n                data: user,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update User */\r\n        this.updateUser = function (user, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/users/\" + user.uuid,\r\n                data: user,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete User */\r\n        this.deleteUser = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/users/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Gateway List*/\r\n        this.getGatewayList = function (page, size, sort, token) {\r\n            var user_id = window.sessionStorage.getItem('id');\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/gateways?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Gateway List By UserId*/\r\n        this.getGatewayListByUserid = function (page, size, sort, user, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/gateways?page=\" + page + \"&size=\" + size + \"&user=\" + user,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Gateway */\r\n        this.getGateway = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/gateways/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Gateway */\r\n        this.addGateway = function (center, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/gateways\",\r\n                data: center,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Gateway */\r\n        this.updateGateway = function (center, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/gateways/\" + center.uuid,\r\n                data: center,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Gateway */\r\n        this.deleteGateway = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/gateways/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Operation List*/\r\n        this.getOperationList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/operations?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Operation */\r\n        this.getOperation = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/operations/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Operation */\r\n        this.addOperation = function (node, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/operations\",\r\n                data: node,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Operation */\r\n        this.updateOperation = function (node, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/operations/\" + node.uuid,\r\n                data: node,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Operation */\r\n        this.deleteOperation = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/operations/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Device List*/\r\n        this.getDeviceList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/devices?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Device List By Type*/\r\n        this.getDeviceListByType = function (page, size, sort, type, gatewayMac, token) {\r\n            var queryUrl = \"\";\r\n            if (gatewayMac == \"Select Gateway\")\r\n                queryUrl = \"/devices?page=\" + page + \"&size=\" + size + \"&type=\" + type;\r\n            else if (gatewayMac == \"All\")\r\n                queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type;\r\n            else\r\n                queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac;\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + queryUrl,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* DeviceListByGateway List*/\r\n        this.getDeviceListByGateway = function (gateway, page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/devices?gatway=\" + gateway + \"&page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Get Device */\r\n        this.getDevice = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/devices/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Device */\r\n        this.addDevice = function (device, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/devices\",\r\n                data: device,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Device */\r\n        this.updateDevice = function (device, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/devices/\" + device.uuid,\r\n                data: device,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Device */\r\n        this.deleteDevice = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/devices/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Status List*/\r\n        this.getStatusList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&sort\" + sort,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Status */\r\n        this.getStatus = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Status */\r\n        this.addStatus = function (message, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/statuses\",\r\n                data: message,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Status */\r\n        this.updateStatus = function (message, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/statuses/\" + message.uuid,\r\n                data: message,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Status */\r\n        this.deleteStatus = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/statuses/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        this.getTypeStatus = function (page, size, sort, type, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        this.getDeviceStatus = function (page, size, sort, excludeType, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&excludeType=\" + excludeType,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Device By Gateway*/\r\n        this.getSensor = function (page, size, sort, type, gatewayMac, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n        /* Get one Sensor */\r\n        this.getOneSensor = function (page, size, sort, type, gatewayMac, mac, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac + \"&mac=\" + mac,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Device By Gateway*/\r\n        this.getDeviceByGateway = function (page, size, sort, gatewayMac, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&gatewayMac=\" + gatewayMac,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get status By DeviceType By Gateway By device*/\r\n        this.getStatusBy = function (page, size, sort, type, gatewayMac, mac, token) {\r\n\r\n            var queryUrl = \"\";\r\n            if ((gatewayMac == \"All\") || (gatewayMac == \"Select Gateway\")) {\r\n                if ((mac == \"All\") || (mac == \"Select Device\")) {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type;\r\n                } else {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&mac=\" + mac;\r\n                }\r\n            } else {\r\n                if ((mac == \"All\") || (mac == \"Select Device\")) {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac;\r\n                } else {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&mac=\" + mac + \"&gatewayMac=\" + gatewayMac;\r\n                }\r\n            }\r\n\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + queryUrl,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Device By Gateway By timeRange*/\r\n        this.getDeviceByGatewayBytimeRange = function (page, size, sort, type, gatewayMac, timeRange, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac + \"&timeRange=\" + timeRange,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        this.getMinewdbData = function (gatewayMac, mac, startTime, endTime, token) {\r\n            var influxDBUrl = \"http://178.128.97.136:8080/query?\"\r\n            // var influxDBUrl = \"http://192.168.0.132:8080/query?\"\r\n            var timeBy = Math.floor((startTime - endTime) / 100);\r\n            if ((startTime - endTime) >= 1800) {\r\n                timeBy = 10;\r\n            }\r\n            if ((startTime - endTime) >= 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 300);\r\n            }\r\n            if ((startTime - endTime) >= 7 * 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 600);\r\n            }\r\n\r\n            startTime = startTime + \"s\";\r\n            endTime = endTime + \"s\";\r\n            gatewayMac = \"'\" + gatewayMac + \"'\";\r\n            mac = \"'\" + mac + \"'\";\r\n            // var url = influxDBUrl + \"&q=SELECT MEAN(temperature),MEAN(humidity),MEAN(battery)  FROM sensor WHERE gatewayMac=\" + gatewayMac + \"AND mac=\"+ mac + \"AND time >= '2017-07-10T05:00:00Z' AND time <= '2017-07-10T06:00:00Z' GROUP BY time(100s)\";\r\n            var url = influxDBUrl + \"&q=SELECT MEAN(temperature),MEAN(humidity),MEAN(battery)  FROM sensor WHERE gatewayMac=\" + gatewayMac + \" AND mac=\" + mac + \" AND time > now() - \" + startTime + \" AND time < now() - \" + endTime + \" GROUP BY time(\" + timeBy + \"s)\";\r\n            // console.log(url);\r\n            return ($http({\r\n                method: 'GET',\r\n                url: url,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n        \r\n        this.getMinewdbData2 = function (gatewayMac, mac, startTime, endTime, token) {\r\n            var influxDBUrl = \"http://178.128.97.136:8080/query?\"\r\n            // var influxDBUrl = \"http://192.168.0.132:8080/query?\"\r\n\r\n            var timeBy = Math.floor((startTime - endTime) / 100);\r\n            \r\n            if ((startTime - endTime) > 1800) {\r\n                timeBy = 10;\r\n            }\r\n            if ((startTime - endTime) >= 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 300);\r\n            }\r\n            if ((startTime - endTime) >= 7 * 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 600);\r\n            }\r\n\r\n            startTime = startTime + \"s\";\r\n            endTime = endTime + \"s\";\r\n            gatewayMac = \"'\" + gatewayMac + \"'\";\r\n            mac = \"'\" + mac + \"'\";\r\n            var url = influxDBUrl + \"&q=SELECT MEAN(battery), MEAN(rssi)  FROM iBeacon WHERE gatewayMac=\" + gatewayMac + \" AND mac=\" + mac + \" AND time > now() - \" + startTime + \" AND time < now() - \" + endTime + \" GROUP BY time(\" + timeBy + \"s)\";\r\n            if(startTime == 10+'s' || startTime==120+'s'){\r\n                console.log(\"ss\");\r\n                url = influxDBUrl + \"&q=SELECT MEAN(battery), MEAN(rssi)  FROM iBeacon WHERE gatewayMac=\" + gatewayMac + \" AND mac=\" + mac + \" AND time > now() - \" + startTime + \" AND time < now() - \" + endTime + \" GROUP BY time(\" + 1 + \"s)\"; \r\n            }\r\n            console.log(url);\r\n            return ($http({\r\n                method: 'GET',\r\n                url: url,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n        // SELECT MEAN(temperature),MEAN(humidity),MEAN(battery) FROM beacon WHERE \"Name\"='S1' AND \"MAC\"='AC:23:3F:A0:00:05' AND time>now() - 300s GROUP BY \"MAC\",time(5s)\r\n\r\n        this.httpStatusCode = function (status) {\r\n            if(status === 401)\r\n                $state.go('user.login');\r\n            else\r\n                return;\r\n        };\r\n    }\r\n})();\n/**\r\n * @author a.demeshko\r\n * created on 3/1/16\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').service('preloader', preloader);\r\n\r\n    /** @ngInject */\r\n    function preloader($q) {\r\n        return {\r\n            loadImg: function (src) {\r\n                var d = $q.defer();\r\n                var img = new Image();\r\n                img.src = src;\r\n                img.onload = function () {\r\n                    d.resolve();\r\n                };\r\n                return d.promise;\r\n            },\r\n            loadAmCharts: function () {\r\n                var d = $q.defer();\r\n                AmCharts.ready(function () {\r\n                    d.resolve();\r\n                });\r\n                return d.promise;\r\n            }\r\n        }\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin').service('UserService', UserService);\r\n\r\n\r\n    /** @ngInject */\r\n    function UserService($http, API_URL, AuthTokenFactory, $q) {\r\n\r\n        /* REGISTER */\r\n        this.register = function(user){\r\n            return ($http({\r\n                method: 'post',\r\n                data: user,\r\n                url: API_URL + \"/account/register\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }));\r\n        }\r\n        \r\n        /* LOGIN */\r\n        this.login = function (user) {\r\n            return ($http({\r\n                method: 'post',\r\n                data: user,\r\n                url: API_URL + \"/token\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* LOGOUT */\r\n        this.logout = function () {\r\n            AuthTokenFactory.removeUserInfo();\r\n        };\r\n\r\n        // this.getUser = function () {\r\n        //   if (AuthTokenFactory.getToken()) {\r\n        //       return ($http({\r\n        //         method: 'post',\r\n        //         data: user,\r\n        //         url: API_URL + \"/token\",\r\n        //         headers: {\r\n        //             'Content-Type': 'application/json'\r\n        //         }\r\n        //     }));\r\n        //   } else {\r\n        //     return $q.reject({ data: 'client has no auth token' });\r\n        //   }\r\n            \r\n        // }\r\n\r\n    }\r\n\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-02-14\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    var os = angular.module('BlurAdmin.theme');\r\n\r\n    os.filter(\"beaconType\", function () {\r\n        return function (input) {\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"iBeacon\";\r\n            } else if (input == 2) {\r\n                output = \"Eddystone\";\r\n            } else if (input == 3) {\r\n                output = \"Hybird\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n    os.filter(\"beaconStatus\", function () {\r\n        return function (input) {\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"Active\";\r\n            } else if (input == 2) {\r\n                output = \"Inactive\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n    os.filter(\"bstFrameType\", function () {\r\n        //<!-- 1=UID;2=EID;3=TLM;4=URL;0=empty -->\r\n        return function (input) {\r\n            input += 1;\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"empty\";\r\n            } else if (input == 2) {\r\n                output = \"UID\";\r\n            } else if (input == 3) {\r\n                output = \"EID\";\r\n            } else if (input == 4) {\r\n                output = \"TLM\";\r\n            } else if (input == 5) {\r\n                output = \"URL\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n\r\n    os.filter(\"applyStatusFilter\", function () {\r\n        //<!-- 1=UID;2=EID;3=TLM;4=URL;0=empty -->\r\n        return function (input) {\r\n            if (typeof(input) == 'undefined') {\r\n                input = 0;\r\n            }\r\n            input += 1;\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"未同步\";\r\n            } else if (input == 2) {\r\n                output = \"已同步\";\r\n            } else if (input == 3) {\r\n                output = \"已删除\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.login')\r\n    .controller('LoginCtrl', LoginCtrl)\r\n    .controller('openmsgCtrl', OpenMsgCtrl);\r\n\r\n    /** @ngInject */\r\n    function LoginCtrl($scope, $state, httpService, UserService, AuthTokenFactory, $uibModal) {\r\n        $scope.LoginStatus = null;\r\n        $scope.loginData = {};\r\n        var emailReg = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@([a-zA-Z0-9]+[-.])+[a-zA-Z]{2,5}$/;\r\n        $scope.animationsEnabled = true;\r\n\r\n        //    /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\r\n        $scope.login = function () {\r\n            UserService.login($scope.loginData).success(function (response) {\r\n                AuthTokenFactory.storeUserInfo(response.data);\r\n                // console.log(\"login\" + JSON.stringify(response.data));\r\n                // console.log(\"login2\" + JSON.stringify(AuthTokenFactory.getUserInfo()));\r\n                // console.log(\"token\" + AuthTokenFactory.getToken());\r\n                $scope.LoginStatus = false;\r\n                window.sessionStorage.setItem('username', response.data.name);\r\n                window.sessionStorage.setItem('email', response.data.email);\r\n                $state.go('dashboard');\r\n            }).error(function (response, status) {\r\n                if(response.message){\r\n                    if(response.message.indexOf(\"User is not activated\") != -1){\r\n                        $scope.item = \"The account is not activated, please login mailbox to activate\";\r\n                        $scope.openMsgModel('sm');\r\n                    }else{\r\n                        $scope.LoginStatus = true;\r\n                    }\r\n                }else{\r\n                    $scope.LoginStatus = true;\r\n                }\r\n            });\r\n        };\r\n\r\n        $scope.openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/user/login/msg.html',\r\n                controller: 'openmsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n        };\r\n    }\r\n\r\n    function OpenMsgCtrl($scope, $uibModalInstance, item) {\r\n        $scope.data = item;\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.profile')\r\n    .controller('ProfileCtrl', ProfileCtrl)\r\n    .controller('OpenMsgCtrl', OpenMsgCtrl);\r\n\r\n    /** @ngInject */\r\n    function ProfileCtrl($scope, httpService, AuthTokenFactory, $uibModal, $state) {\r\n        $scope.profile = {};\r\n        var token = AuthTokenFactory.getToken();\r\n        $scope.uuid = AuthTokenFactory.getUserInfo().userId;\r\n        $scope.isSame = true;\r\n        $scope.animationsEnabled = true;\r\n        $scope.item = {};\r\n\r\n        httpService.getUser($scope.uuid, token)\r\n            .success(function (resp) {\r\n                console.log(resp);\r\n                $scope.profile.name = resp.data.name;\r\n                $scope.profile.email = resp.data.email;\r\n                $scope.profile.uuid = resp.data.uuid;\r\n                $scope.profile.userId = resp.data.userId;\r\n                $scope.profile.nationcode = resp.data.nationcode;\r\n                $scope.profile.mobile_phone = resp.data.mobile_phone;\r\n                $scope.Mphone = resp.data.nationcode + resp.data.mobile_phone;\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $scope.updateProfile = function () {\r\n            if ($scope.profile.password != $scope.profile.confirm_password) {\r\n                $scope.isSame = false;\r\n                return;\r\n            }else{\r\n                var dialCode = $(\"#Mphone\").intlTelInput(\"getSelectedCountryData\").dialCode;\r\n                var phoneNumber = $(\"#Mphone\").intlTelInput(\"getNumber\");\r\n                var len = phoneNumber.indexOf(dialCode) + dialCode.length;\r\n                $scope.profile.nationcode = dialCode;\r\n                $scope.profile.mobile_phone = phoneNumber.slice(len);\r\n                $scope.isSame = true;\r\n                console.log($scope.profile);\r\n                httpService.updateUser($scope.profile, token)\r\n                    .success(function (resp) {\r\n                        console.log(resp);\r\n                        if(resp.status === 200){\r\n                            window.sessionStorage.setItem('username', resp.data.name);\r\n                            $scope.item.msg = \"Successfully modified!\";\r\n                            $scope.openMsgModel('sm');\r\n                        }else if(resp.status === 400){\r\n                            $scope.item.msg = \"The name already exists!\";\r\n                            $scope.openMsgModel('sm');\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/user/profile/msg.html',\r\n                controller: 'OpenMsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                console.log(result);\r\n\t\t\t}, function () {\r\n                $state.reload('user.profile');\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n        }\r\n\r\n    }\r\n\r\n    function OpenMsgCtrl($scope, $uibModalInstance, item){\r\n        $scope.data  = item;\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.register')\r\n        .controller('RegisterCtrl', RegisterCtrl)\r\n        .controller('openmsgCtrl', OpenMsgCtrl);\r\n    \r\n    angular.module('BlurAdmin.pages.register')\r\n        .config(function (ngIntlTelInputProvider) {\r\n            ngIntlTelInputProvider.set({\r\n                preferredCountries: [\"cn\",\"us\",\"gb\"],\r\n                initialCountry: 'cn',\r\n                // separateDialCode: true,\r\n                nationalMode: false,\r\n                utilsScript: \"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.4/js/utils.js\"\r\n            });\r\n        });\r\n\r\n    /** @ngInject */\r\n    function RegisterCtrl($scope, $state, httpService, $uibModal, UserService) {\r\n\r\n        $scope.emailReg = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@([a-zA-Z0-9]+[-.])+[a-zA-Z]{2,5}$/;\r\n        $scope.registerData = {};\r\n        $scope.registerData.name = \"\";\r\n        $scope.registerData.mobile_phone = \"\";\r\n        $scope.registerData.email = \"\";\r\n        $scope.registerData.password = \"\";\r\n        $scope.Mphone = \"\";\r\n        $scope.item = {};\r\n        $scope.item.result = null;\r\n        // $scope.animationsEnabled = true;\r\n\r\n        $scope.register = function () {\r\n            var dialCode = $(\"#Mphone\").intlTelInput(\"getSelectedCountryData\").dialCode;\r\n            var phoneNumber = $(\"#Mphone\").intlTelInput(\"getNumber\");\r\n            var len = phoneNumber.indexOf(dialCode) + dialCode.length;\r\n\r\n            $scope.registerData.nationcode = dialCode;\r\n            $scope.registerData.mobile_phone = phoneNumber.slice(len);\r\n            console.log($scope.registerData);\r\n            UserService.register($scope.registerData).success(function (resp) {\r\n                console.log(resp);\r\n                if(resp.status === 200){\r\n                    $scope.item.result = true;\r\n                    $scope.item.msg = \"We have sent an activation email to your email address, \"+ $scope.registerData.email +\". Please click the link in the email to complete the registration. If you do not receive the email, please check the spam!\";\r\n                    $scope.openMsgModel('md');\r\n                }else if(resp.status === 450){\r\n                    $scope.item.result = false;\r\n                    $scope.item.msg = \"The account already exists!\";\r\n                    $scope.openMsgModel('sm');\r\n                }else if(resp.status === 400){\r\n                    $scope.item.result = false;\r\n                    $scope.item.msg = \"The name already exists!\";\r\n                    $scope.openMsgModel('sm');\r\n                }else{\r\n                    $scope.item.result = false;\r\n                    console.log(resp);\r\n                }\r\n            }).error(function (resp) {\r\n                console.log(resp);\r\n            });          \r\n        };\r\n\r\n        $scope.openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/user/register/msg.html',\r\n                controller: 'openmsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n    }\r\n\r\n    function OpenMsgCtrl($scope, $uibModalInstance, item, $state) {\r\n        $scope.data = item;\r\n        $scope.goLogin = function () {\r\n            $state.go('user.login');\r\n        }\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('backTop', backTop);\r\n\r\n    /** @ngInject */\r\n    function backTop() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/backTop/backTop.html',\r\n            controller: function () {\r\n                $('#backTop').backTop({\r\n                    'position': 200,\r\n                    'speed': 100\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').directive('baSidebar', baSidebar);\r\n\r\n    /** @ngInject */\r\n    function baSidebar($timeout, baSidebarService, baUtil, layoutSizes) {\r\n        var jqWindow = $(window);\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/baSidebar/ba-sidebar.html',\r\n            controller: 'BaSidebarCtrl',\r\n            link: function (scope, el) {\r\n\r\n                scope.menuHeight = el[0].childNodes[0].clientHeight - 84;\r\n                jqWindow.on('click', _onWindowClick);\r\n                jqWindow.on('resize', _onWindowResize);\r\n\r\n                scope.$on('$destroy', function () {\r\n                    jqWindow.off('click', _onWindowClick);\r\n                    jqWindow.off('resize', _onWindowResize);\r\n                });\r\n\r\n                function _onWindowClick($evt) {\r\n                    if (!baUtil.isDescendant(el[0], $evt.target) && !$evt.originalEvent.$sidebarEventProcessed && !baSidebarService.isMenuCollapsed() &&\r\n                        baSidebarService.canSidebarBeHidden()) {\r\n                        $evt.originalEvent.$sidebarEventProcessed = true;\r\n                        $timeout(function () {\r\n                            baSidebarService.setMenuCollapsed(true);\r\n                        }, 10);\r\n                    }\r\n                }\r\n\r\n                // watch window resize to change menu collapsed state if needed\r\n                function _onWindowResize() {\r\n                    var newMenuCollapsed = baSidebarService.shouldMenuBeCollapsed();\r\n                    var newMenuHeight = _calculateMenuHeight();\r\n                    if (newMenuCollapsed != baSidebarService.isMenuCollapsed() || scope.menuHeight != newMenuHeight) {\r\n                        scope.$apply(function () {\r\n                            scope.menuHeight = newMenuHeight;\r\n                            baSidebarService.setMenuCollapsed(newMenuCollapsed)\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function _calculateMenuHeight() {\r\n                    return el[0].childNodes[0].clientHeight - 84;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').provider('baSidebarService', baSidebarServiceProvider);\r\n\r\n    /** @ngInject */\r\n    function baSidebarServiceProvider() {\r\n        var staticMenuItems = [];\r\n\r\n        this.addStaticItem = function () {\r\n            staticMenuItems.push.apply(staticMenuItems, arguments);\r\n        };\r\n\r\n        /** @ngInject */\r\n        this.$get = function ($state, layoutSizes) {\r\n\r\n            return new _factory();\r\n\r\n            function _factory() {\r\n                var isMenuCollapsed = shouldMenuBeCollapsed();\r\n\r\n                this.getMenuItems = function () {\r\n                    var states = defineMenuItemStates();\r\n                    // console.log(\"states:\" +states);\r\n                    var menuItems = states.filter(function (item) {\r\n                        return item.level == 0;\r\n                    });\r\n\r\n                    menuItems.forEach(function (item) {\r\n                        var children = states.filter(function (child) {\r\n                            return child.level == 1 && child.name.indexOf(item.name) === 0;\r\n                        });\r\n                        item.subMenu = children.length ? children : null;\r\n                    });\r\n\r\n                    return menuItems.concat(staticMenuItems);\r\n                };\r\n\r\n                this.shouldMenuBeCollapsed = shouldMenuBeCollapsed;\r\n                this.canSidebarBeHidden = canSidebarBeHidden;\r\n\r\n                this.setMenuCollapsed = function (isCollapsed) {\r\n                    isMenuCollapsed = isCollapsed;\r\n                };\r\n\r\n                this.isMenuCollapsed = function () {\r\n                    return isMenuCollapsed;\r\n                };\r\n\r\n                this.toggleMenuCollapsed = function () {\r\n                    isMenuCollapsed = !isMenuCollapsed;\r\n                };\r\n\r\n                this.getAllStateRefsRecursive = function (item) {\r\n                    var result = [];\r\n                    _iterateSubItems(item);\r\n                    return result;\r\n\r\n                    function _iterateSubItems(currentItem) {\r\n                        currentItem.subMenu && currentItem.subMenu.forEach(function (subItem) {\r\n                            subItem.stateRef && result.push(subItem.stateRef);\r\n                            _iterateSubItems(subItem);\r\n                        });\r\n                    }\r\n                };\r\n\r\n                function defineMenuItemStates() {\r\n                    return $state.get()\r\n                        .filter(function (s) {\r\n                            return s.sidebarMeta;\r\n                        })\r\n                        .map(function (s) {\r\n                            var name = s.name;\r\n                            var pages = s.name.substring(0, 5);\r\n                            if ( pages == \"pages\" ) {\r\n                                name = name.substring(5);\r\n                            }\r\n                            var meta = s.sidebarMeta;\r\n                            return {\r\n                                name: name,\r\n                                title: s.title,\r\n                                level: (s.name.match(/\\./g) || []).length,\r\n                                order: meta.order,\r\n                                icon: meta.icon,\r\n                                stateRef: s.name,\r\n                            };\r\n                        })\r\n                        .sort(function (a, b) {\r\n                            return (a.level - b.level) * 100 + a.order - b.order;\r\n                        });\r\n                }\r\n\r\n                function shouldMenuBeCollapsed() {\r\n                    return window.innerWidth <= layoutSizes.resWidthCollapseSidebar;\r\n                }\r\n\r\n                function canSidebarBeHidden() {\r\n                    return window.innerWidth <= layoutSizes.resWidthHideSidebar;\r\n                }\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').controller('BaSidebarCtrl', BaSidebarCtrl);\r\n\r\n    /** @ngInject */\r\n    function BaSidebarCtrl($scope, baSidebarService, $state) {\r\n        $scope.menuItems = baSidebarService.getMenuItems();\r\n\r\n        $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\r\n\r\n        $scope.hoverItem = function ($event) {\r\n            $scope.showHoverElem = true;\r\n            $scope.hoverElemHeight = $event.currentTarget.clientHeight;\r\n            var menuTopValue = 66;\r\n            $scope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\r\n        };\r\n\r\n        $scope.$on('$stateChangeSuccess', function () {\r\n            if (baSidebarService.canSidebarBeHidden()) {\r\n                baSidebarService.setMenuCollapsed(true);\r\n            }\r\n        });\r\n\r\n        $scope.email = window.sessionStorage.getItem('email');\r\n        \r\n        if ($scope.email == null) {\r\n            $state.go('user.login');\r\n        }\r\n    }\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('baSidebarToggleMenu', baSidebarToggleMenu)\r\n        .directive('baSidebarCollapseMenu', baSidebarCollapseMenu)\r\n        .directive('baSidebarTogglingItem', baSidebarTogglingItem)\r\n        .controller('BaSidebarTogglingItemCtrl', BaSidebarTogglingItemCtrl)\r\n        .directive('baUiSrefTogglingSubmenu', baUiSrefTogglingSubmenu)\r\n        .directive('baUiSrefToggler', baUiSrefToggler);\r\n\r\n    /** @ngInject */\r\n    function baSidebarToggleMenu(baSidebarService) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, elem) {\r\n                elem.on('click', function ($evt) {\r\n                    $evt.originalEvent.$sidebarEventProcessed = true;\r\n                    scope.$apply(function () {\r\n                        baSidebarService.toggleMenuCollapsed();\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baSidebarCollapseMenu(baSidebarService) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, elem) {\r\n                elem.on('click', function ($evt) {\r\n                    $evt.originalEvent.$sidebarEventProcessed = true;\r\n                    if (!baSidebarService.isMenuCollapsed()) {\r\n                        scope.$apply(function () {\r\n                            baSidebarService.setMenuCollapsed(true);\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baSidebarTogglingItem() {\r\n        return {\r\n            restrict: 'A',\r\n            controller: 'BaSidebarTogglingItemCtrl'\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function BaSidebarTogglingItemCtrl($scope, $element, $attrs, $state, baSidebarService) {\r\n        var vm = this;\r\n        var menuItem = vm.$$menuItem = $scope.$eval($attrs.baSidebarTogglingItem);\r\n        if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {\r\n            vm.$$expandSubmenu = function () {\r\n                console.warn('$$expandMenu should be overwritten by baUiSrefTogglingSubmenu')\r\n            };\r\n            vm.$$collapseSubmenu = function () {\r\n                console.warn('$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu')\r\n            };\r\n\r\n            var subItemsStateRefs = baSidebarService.getAllStateRefsRecursive(menuItem);\r\n\r\n            vm.$expand = function () {\r\n                vm.$$expandSubmenu();\r\n                $element.addClass('ba-sidebar-item-expanded');\r\n            };\r\n\r\n            vm.$collapse = function () {\r\n                vm.$$collapseSubmenu();\r\n                $element.removeClass('ba-sidebar-item-expanded');\r\n            };\r\n\r\n            vm.$toggle = function () {\r\n                $element.hasClass('ba-sidebar-item-expanded') ?\r\n                    vm.$collapse() :\r\n                    vm.$expand();\r\n            };\r\n\r\n            if (_isState($state.current)) {\r\n                $element.addClass('ba-sidebar-item-expanded');\r\n            }\r\n\r\n            $scope.$on('$stateChangeStart', function (event, toState) {\r\n                if (!_isState(toState) && $element.hasClass('ba-sidebar-item-expanded')) {\r\n                    vm.$collapse();\r\n                    $element.removeClass('ba-sidebar-item-expanded');\r\n                }\r\n            });\r\n\r\n            $scope.$on('$stateChangeSuccess', function (event, toState) {\r\n                if (_isState(toState) && !$element.hasClass('ba-sidebar-item-expanded')) {\r\n                    vm.$expand();\r\n                    $element.addClass('ba-sidebar-item-expanded');\r\n                }\r\n            });\r\n        }\r\n\r\n        function _isState(state) {\r\n            return state && subItemsStateRefs.some(function (subItemState) {\r\n                    return state.name.indexOf(subItemState) == 0;\r\n                });\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baUiSrefTogglingSubmenu($state) {\r\n        return {\r\n            restrict: 'A',\r\n            require: '^baSidebarTogglingItem',\r\n            link: function (scope, el, attrs, baSidebarTogglingItem) {\r\n                baSidebarTogglingItem.$$expandSubmenu = function () {\r\n                    el.slideDown();\r\n                };\r\n                baSidebarTogglingItem.$$collapseSubmenu = function () {\r\n                    el.slideUp();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baUiSrefToggler(baSidebarService) {\r\n        return {\r\n            restrict: 'A',\r\n            require: '^baSidebarTogglingItem',\r\n            link: function (scope, el, attrs, baSidebarTogglingItem) {\r\n                el.on('click', function () {\r\n                    if (baSidebarService.isMenuCollapsed()) {\r\n                        // If the whole sidebar is collapsed and this item has submenu. We need to open sidebar.\r\n                        // This should not affect mobiles, because on mobiles sidebar should be hidden at all\r\n                        scope.$apply(function () {\r\n                            baSidebarService.setMenuCollapsed(false);\r\n                        });\r\n                        baSidebarTogglingItem.$expand();\r\n                    } else {\r\n                        baSidebarTogglingItem.$toggle();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('contentTop', contentTop);\r\n\r\n    /** @ngInject */\r\n    function contentTop($location, $state) {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/contentTop/contentTop.html',\r\n            link: function ($scope) {\r\n                $scope.$watch(function () {\r\n                    $scope.activePageTitle = $state.current.title;\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').directive('pageTop', pageTop);\r\n\r\n    /** @ngInject */\r\n    function pageTop() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/pageTop/pageTop.html',\r\n            controller: 'PageTopCtrl',\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').controller('PageTopCtrl', PageTopCtrl);\r\n\r\n    /** @ngInject */\r\n    function PageTopCtrl($scope, baSidebarService, $state, UserService, AuthTokenFactory, httpService) {\r\n\r\n        $scope.isChange = false;\r\n        var token = AuthTokenFactory.getToken();\r\n        $scope.uuid = AuthTokenFactory.getUserInfo().userId;\r\n\r\n        httpService.getUser($scope.uuid,token)\r\n            .success(function(resp){\r\n                $scope.username = resp.data.name;\r\n            }).error(function(resp, status){\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $scope.signOut = function () {\r\n            UserService.logout();\r\n            // TODO\r\n            window.sessionStorage.removeItem('email');\r\n            window.sessionStorage.removeItem('username');\r\n            $state.go(\"user.login\");  \r\n        };\r\n\r\n        $scope.changeLogo = function(){\r\n            if(window.innerWidth > 1200)\r\n                $scope.isChange = !$scope.isChange;\r\n            if(window.innerWidth <=1200)\r\n                $scope.isChange = true;\r\n        };\r\n        \r\n    }\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('widgets', widgets);\r\n\r\n    /** @ngInject */\r\n    function widgets() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n                ngModel: '='\r\n            },\r\n            templateUrl: 'app/theme/components/widgets/widgets.html',\r\n            replace: true\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 10.12.2016\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.inputs')\r\n        .directive('baSwitcher', baSwitcher);\r\n\r\n    /** @ngInject */\r\n    function baSwitcher() {\r\n        return {\r\n            templateUrl: 'app/theme/inputs/baSwitcher/baSwitcher.html',\r\n            scope: {\r\n                switcherStyle: '@',\r\n                switcherValue: '='\r\n            }\r\n        };\r\n    }\r\n\r\n})();\r\n\n/* Minified js for jQuery BackTop */\r\n!function(o){o.fn.backTop=function(e){var n=this,i=o.extend({position:400,speed:500,color:\"white\"},e),t=i.position,c=i.speed,d=i.color;n.addClass(\"white\"==d?\"white\":\"red\"==d?\"red\":\"green\"==d?\"green\":\"black\"),n.css({right:40,bottom:40,position:\"fixed\"}),o(document).scroll(function(){var e=o(window).scrollTop();e>=t?n.fadeIn(c):n.fadeOut(c)}),n.click(function(){o(\"html, body\").animate({scrollTop:0},{duration:1200})})}}(jQuery);\nangular.module('BlurAdmin').run(['$templateCache', function($templateCache) {$templateCache.put('app/pages/pages.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ui-view=\"\" autoscroll=\"true\" autoscroll-body-top=\"\"></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/activate/activate.html','<div class=\"page-not-found-modal\" style=\"margin-top:300px;\"><h1 ng-if=\"isValid\">Verification Success!</h1><h1 ng-if=\"isValid == false\">Verification Failure!</h1><p><a href=\"/\">The Link Is Going To Home Page.</a></p></div>');\n$templateCache.put('app/pages/assetDemo/asset.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div ba-panel=\"\" class=\"ba-panel\"><div><img src=\"assets/img/app/pages/map.jpg\" style=\"width: 100%;\"></div><div class=\"wsl-tag-1\"><span style=\"color: #000000;\">{{vm.gateway1_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist1.countNew\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist1.countNew }}</span> <span ng-show=\"vm.devicelist1.countDelete\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist1.countDelete }}</span></div><div class=\"wsl-tag-2\"><span style=\"color: #000000;\">{{vm.gateway2_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist2.countNew\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist2.countNew }}</span> <span ng-show=\"vm.devicelist2.countDelete\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist2.countDelete }}</span></div><div class=\"wsl-tag-3\"><span style=\"color: #000000;\">{{vm.gateway3_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist3.countNew\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist3.countNew }}</span> <span ng-show=\"vm.devicelist3.countDelete\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist3.countDelete }}</span></div><div class=\"wsl-tag-4\"><span style=\"color: #000000;\">{{vm.gateway4_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist4.countNew\" class=\"animated bounceInRight\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist4.countNew }}</span> <span ng-show=\"vm.devicelist4.countDelete\" class=\"animated bounceInRight\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist4.countDelete }}</span></div></div><div class=\"row panel-assets\"><div class=\"col-md-3 wsl-col-md-3\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway1_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist1\" ng-click=\"vm.selectGateway1(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway1_new\" ng-if=\"vm.devicelist1.countNew\" style=\"color: green;\">+{{ vm.devicelist1.countNew }}</span> <span id=\"gateway1_delete\" ng-if=\"vm.devicelist1.countDelete\" style=\"color: red;\">-{{ vm.devicelist1.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams1\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div><div class=\"col-md-3 wsl-col-md-3 wsl-div-2\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway2_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist2\" ng-click=\"vm.selectGateway2(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway2_new\" ng-if=\"vm.devicelist2.countNew\" style=\"color: green;\">+{{ vm.devicelist2.countNew }}</span> <span id=\"gateway2_delete\" ng-if=\"vm.devicelist2.countDelete\" style=\"color: red;\">-{{ vm.devicelist2.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams2\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div><div class=\"col-md-3 wsl-col-md-3 wsl-div-4\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway3_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist3\" ng-click=\"vm.selectGateway3(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway3_new\" ng-if=\"vm.devicelist3.countNew\" style=\"color: green;\">+{{ vm.devicelist3.countNew }}</span> <span id=\"gateway3_delete\" ng-if=\"vm.devicelist3.countDelete\" style=\"color: red;\">-{{ vm.devicelist3.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams3\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div><div class=\"col-md-3 wsl-col-md-3 wsl-div-4\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway4_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist4\" ng-click=\"vm.selectGateway4(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway4_new\" ng-if=\"vm.devicelist4.countNew\" style=\"color: green;\">+{{ vm.devicelist4.countNew }}</span> <span id=\"gateway4_delete\" ng-if=\"vm.devicelist4.countDelete\" style=\"color: red;\">-{{ vm.devicelist4.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams4\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/dashboard/dashboard.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row pie-charts\"><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/sensor.png\" style=\"height:86px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Devices</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.devices_total}}</b></span>/ <span>{{vm.devices_total}}</span></div></div></div></div></div><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/gateway.png\" style=\"height:80px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Gateways</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.gateways_total}}</b></span>/ <span>{{vm.gateways_total}}</span></div></div></div></div></div><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/server.png\" style=\"height:83px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Servers</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.servers_chart.nows}}</b></span>/ <span>{{vm.servers_chart.totals}}</span></div></div></div></div></div><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/message.png\" style=\"height:83px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Messages</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.messages_chart.totals}}</b></span></div></div></div></div></div></div><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">Last Updated Gateways Statuses</div><div class=\"panel-body\"><div class=\"dashboard-body\"><table class=\"table table-striped table-hover table-condensed\"><thead><tr><th>Name</th><th>Mac</th><th>Last updated time</th></tr></thead><tr ng-repeat=\"row in vm.GatewayList | limitTo:10\"><td class=\"col-sm-4 col-xs-4\" style=\"word-break:break-all;\">{{row.gateway.name}}</td><td>{{row.gatewayMac}}</td><td class=\"col-sm-5 col-xs-5 col-time\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td></tr></table></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">Last Updated Devices Statuses</div><div class=\"panel-body\"><div class=\"dashboard-body\"><table class=\"table table-striped table-hover table-condensed\"><thead><tr><th>Name</th><th>Mac</th><th>Last updated time</th></tr></thead><tr ng-repeat=\"row in vm.DeviceList | limitTo:10\"><td class=\"col-sm-4 col-xs-4\" style=\"word-break:break-all;\">{{row.device != null ? row.device.name : \\'Unknown\\'}}</td><td>{{row.mac}}</td><td class=\"col-sm-5 col-xs-5 col-time\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td></tr></table></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/device/createDevice.html','<div class=\"modal-content\" style=\"margin-top:130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Create Device</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"deviceForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"type\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>DeviceType</label><div class=\"col-sm-10\"><select class=\"form-control\" id=\"type\" ng-init=\"select = type_list[0]\" ng-model=\"select\" ng-options=\"item for item in type_list\" required=\"\"></select></div></div><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" style=\"text-transform:uppercase;\" class=\"form-control\" id=\"mac\" name=\"mac\" placeholder=\"eg.AABBCCDDEEFF\" ng-model=\"item.mac\" ng-pattern=\"/^[a-fA-F0-9]{12}$/\" required=\"\"> <span ng-if=\"deviceForm.mac.$dirty && deviceForm.mac.$invalid\"><span ng-if=\"deviceForm.mac.$error.required\" class=\"error\">Mac can\\'t be blank</span> <span ng-if=\"deviceForm.mac.$error.pattern\" class=\"error\">Mac is invalid</span></span></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" placeholder=\"Name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"deviceForm.name.$dirty && deviceForm.name.$invalid\"><span ng-if=\"deviceForm.name.$error.required\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Decription</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" placeholder=\"Decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"deviceForm.$invalid\">&nbsp;Create&nbsp;</button></div></div>');\n$templateCache.put('app/pages/device/deleteDevice.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this device {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/device/device.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"panel traffic-panel\"><div class=\"panel-body device-body\"><div class=\"row wsl-row-padding-15\"><div class=\"row\"><div class=\"col-md-6 col-create\"><div class=\"modal-buttons clearfix\" style=\"float: left;\"><button type=\"button\" class=\"btn btn-default\" data-toggle=\"modal\" ng-click=\"openCreateModel(\\'md\\')\">Create</button></div></div></div></div><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped table-th-text\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Device Type\\'\" style=\"text-align: left;\">{{ row.type==\"S1\"?\"Sensor\":row.type }}</td><td data-title=\"\\'Name\\'\" style=\"text-align: left;\">{{ row.name }}</td><td data-title=\"\\'Mac\\'\"><span ng-if=\"row.mac!=null\">{{row.mac}}</span> <span ng-if=\"row.mac==null\">\\u65E0</span></td><td data-title=\"\\'Last updated time\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Operation\\'\"><button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"openEditModel(row,\\'md\\')\">Edit</button> <button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(row,\\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/device/editDevice.html','<div class=\"modal-content\" style=\"margin-top:130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Edit Device</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"DeviceForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"type\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>DeviceType</label><div class=\"col-sm-10\"><select class=\"form-control\" id=\"type\" ng-init=\"item.type\" ng-model=\"item.type\" ng-options=\"item for item in type_list\" required=\"\" disabled=\"\" style=\"background:#E7E7E7\"></select></div></div><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"mac\" ng-model=\"item.mac\" disabled=\"\" style=\"background:#E7E7E7\"></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"DeviceForm.name.$dirty && DeviceForm.name.$invalid\"><span ng-if=\"DeviceForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"DeviceForm.$invalid\">&nbsp;Save&nbsp;</button></div></div>');\n$templateCache.put('app/pages/gateway/createGateway.html','<div class=\"modal-content\" style=\"margin-top:130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Create Gateway</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"gatewayForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" style=\"text-transform:uppercase;\" class=\"form-control\" name=\"mac\" id=\"mac\" placeholder=\"eg.AABBCCDDEEFF\" ng-model=\"item.mac\" ng-pattern=\"/^[a-fA-F0-9]{12}$/\" required=\"\"> <span ng-if=\"gatewayForm.mac.$dirty && gatewayForm.mac.$invalid\"><span ng-if=\"gatewayForm.mac.$error.required\" class=\"error\">Mac can\\'t be blank</span> <span ng-if=\"gatewayForm.mac.$error.pattern\" class=\"error\">Mac is invalid</span></span></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" placeholder=\"Name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"gatewayForm.name.$dirty && gatewayForm.name.$invalid\"><span ng-if=\"gatewayForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Decription</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" placeholder=\"Decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"gatewayForm.$invalid\">&nbsp;Create&nbsp;</button></div></div>');\n$templateCache.put('app/pages/gateway/deleteGateway.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this gateway {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/gateway/editGateway.html','<div class=\"modal-content\" style=\"margin-top:150px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Edit Gateway</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"GatewayForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000;\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"mac\" ng-model=\"item.mac\" disabled=\"\" style=\"background:#E7E7E7;\"></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"GatewayForm.name.$dirty && GatewayForm.name.$invalid\"><span ng-if=\"GatewayForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"GatewayForm.$invalid\">&nbsp;Save&nbsp;</button></div></div>');\n$templateCache.put('app/pages/gateway/gateway.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"panel traffic-panel\"><div class=\"panel-body\"><div class=\"row wsl-row-padding-15\"><div class=\"row\"><div class=\"col-md-6 col-create\"><div class=\"modal-buttons clearfix\" style=\"float: left;\"><button type=\"button\" class=\"btn btn-default\" data-toggle=\"modal\" ng-click=\"openCreateModel(\\'md\\')\">Create</button></div></div></div></div><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped table-th-text wsl-table\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"text-align: left;\">{{ row.name }}</td><td data-title=\"\\'Mac\\'\"><span ng-if=\"row.mac!=null\">{{row.mac}}</span> <span ng-if=\"row.mac==null\">\\u65E0</span></td><td data-title=\"\\'Last updated time\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Operation\\'\"><button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"openEditModel(row,\\'md\\')\">Edit</button> <button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(row,\\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/gateway/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">{{data}}</p></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" ng-click=\"$close()\">ok</button></div></div>');\n$templateCache.put('app/pages/gateway/rebootGateway.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">REBOOT</h4></div><div class=\"modal-body text-center\">Are you sure to reboot this gateway {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/ibeaconDemo/ibeacon.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\" ng-controller=\"ibeaconCtrl as vm\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line Gateways</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsGateway\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.name}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line iBeacons</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsSensor\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectiBeacon(row, $data)\">{{row.device != null ?row.device.name:\"Unknown\"}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectiBeacon(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div></div><div class=\"row\"><div class=\"col-lg-12 col-md-12 col-sm-12 wsl-1024\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"form-group clearfix\"><div class=\"wsl-select-float wsl-select-lable2-size\" id=\"selectTime\"><label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 1)\">10second&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color wsl-label-active-color\" ng-click=\"vm.selectTime($event, 2)\">2minute&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 3)\">1hour&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 4)\">Today&nbsp;</a></label></div></div></div><div class=\"panel-body\"><div id=\"LINE_2\"></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/sensorDemo/sensor.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\" ng-controller=\"sensorsCtrl as vm\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line Gateways</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsGateway\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.name}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line Sensors</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsSensor\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectSensor(row, $data)\">{{row.device != null ?row.device.name:\"Unknown\"}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectSensor(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div></div><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6 wsl-1024\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\"><span>Last Updated Time :&nbsp;</span> <span>{{vm.sensor_th.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</span></div><div class=\"panel-body\"><div class=\"col-md-6 col-sm-6\"><div id=\"GAUGE_1\"></div></div><div class=\"col-md-6 col-sm-6\"><div id=\"GAUGE_2\"></div></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6 wsl-1024\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"form-group clearfix\"><div class=\"wsl-select-float wsl-select-form-size wsl-input\"><input type=\"text\" id=\"time_input\" class=\"form-control wsl-form-select wsl-input\" name=\"datefilter\" value=\"yyyy-mm-dd to yyyy-mm-dd\"></div><div class=\"wsl-select-float wsl-select-lable2-size\" id=\"selectTime\"><label><a href=\"javascript:;\" class=\"wsl-label-default-color wsl-label-active-color\" ng-click=\"vm.selectTime($event, 1)\">1hour&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 2)\">Today&nbsp;</a></label><label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 4)\">7days&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 5)\">14days&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 6)\">30days&nbsp;</a></label></div></div></div><div class=\"panel-body\"><div id=\"LINE_1\"></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/status/status.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"panel panel-default panel-status\"><div class=\"panel-body\"><div class=\"select-group\"><span>Device Tpye :&nbsp;</span><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default dropdown-wsl-css\">{{vm.deviceTypeName}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\"><li ng-click=\"vm.selectDeviceType(\\'Sensor\\')\"><a href=\"\">Sensor</a></li><li ng-click=\"vm.selectDeviceType(\\'iBeacon\\')\"><a href=\"\">iBeacon</a></li><li ng-click=\"vm.selectDeviceType(\\'Other\\')\"><a href=\"\">Other</a></li></ul></div></div><div class=\"select-group\"><span class=\"alldevice-span\">Gateway Name :&nbsp;</span><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default dropdown-wsl-css\">{{vm.gateway_value}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" style=\"max-height:400px;overflow:auto;\"><li ng-click=\"vm.select_gateway(\\'All\\')\"><a href=\"\">All</a></li><li role=\"separator\" class=\"divider\"></li><li ng-repeat=\"item in vm.gateway_list\" ng-click=\"vm.select_gateway(item.mac)\"><a href=\"\">{{item.name}}--{{item.mac | uppercase}}</a></li></ul></div></div><div class=\"select-group\"><span class=\"alldevice-span\">Device Name :&nbsp;</span><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default dropdown-wsl-css\">{{vm.device_value}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" style=\"max-height:400px;overflow:auto;\"><li ng-click=\"vm.select_device(\\'All\\')\"><a href=\"\">All</a></li><li role=\"separator\" class=\"divider\"></li><li ng-if=\"vm.gateway_value == \\'Select Gateway\\'\" ng-repeat=\"item in vm.device_list | unique: \\'mac\\'\" ng-click=\"vm.select_device(item.mac)\"><a href=\"\">{{item.name}}--{{item.mac | uppercase}}</a></li><li ng-if=\"vm.gateway_value != \\'Select Gateway\\'\" ng-repeat=\"item in vm.device_list | unique: \\'mac\\'\" ng-click=\"vm.select_device(item.mac)\"><a href=\"\">{{item.device != null ? item.device.name : \\'Unknown\\'}}--{{item.mac | uppercase}}</a></li></ul></div></div><div class=\"wsl-overflow wsl-alldevice\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped table-th-text\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Device Name\\'\" class=\"wsl-md-1 col-time\" style=\"word-break:break-all;\">{{ row.device != null ? row.device.name : \\'Unknown\\' }}</td><td data-title=\"\\'Gateway Mac\\'\">{{ row.gatewayMac }}</td><td data-title=\"\\'Device Mac\\'\"><span ng-if=\"row.mac!=null\">{{row.mac}}</span> <span ng-if=\"row.mac==null\">\\u65E0</span></td><td data-title=\"\\'UUID\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\" class=\"col-md-2 alldevice-td col-time\">{{row.ibeaconUuid}}</td><td data-title=\"\\'Major\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\"><span ng-if=\"row.ibeaconMajor !== null\">{{row.ibeaconMajor}}</span> <span ng-if=\"row.ibeaconMajor === null\">\\u65E0</span></td><td data-title=\"\\'Minor\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\"><span ng-if=\"row.ibeaconMinor!=null\">{{row.ibeaconMinor}}</span> <span ng-if=\"row.ibeaconMinor==null\">\\u65E0</span></td><td data-title=\"\\'TxPower\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\"><span ng-if=\"row.ibeaconTxPower!=null\">{{row.ibeaconTxPower}}</span> <span ng-if=\"row.ibeaconTxPower==null\">\\u65E0</span></td><td data-title=\"\\'Temperature(\\u2103)\\'\" ng-if=\"vm.deviceTypeName == \\'Sensor\\'\"><span ng-if=\"row.temperature === null\">\\u65E0</span> <span ng-if=\"row.temperature !== null\">{{row.temperature.toFixed(2)}}</span></td><td data-title=\"\\'Humidity(%)\\'\" ng-if=\"vm.deviceTypeName == \\'Sensor\\'\"><span ng-if=\"row.humidity === null\">\\u65E0</span> <span ng-if=\"row.humidity !== null\">{{row.humidity.toFixed(2)}}</span></td><td data-title=\"\\'RawData\\'\" ng-if=\"vm.deviceTypeName == \\'Other\\'\"><span ng-if=\"row.rawData === null\">\\u65E0</span> <span ng-if=\"row.rawData !== null\">{{row.rawData}}</span></td><td data-title=\"\\'Rssi\\'\"><span ng-if=\"row.rssi === null\">\\u65E0</span> <span ng-if=\"row.rssi !== null\">{{row.rssi}}</span></td><td data-title=\"\\'Battery(%)\\'\" ng-if=\"vm.deviceTypeName != \\'Other\\'\"><span ng-if=\"row.battery === null\">\\u65E0</span> <span ng-if=\"row.battery !== null\">{{row.battery}}</span></td><td data-title=\"\\'Last updated time\\'\" sortable=\"\\'updatedAt\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td></tr></table></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/users/createUser.html','<div class=\"modal-content\" style=\"margin-top: 130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Create User</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"User Name\" ng-model=\"item.name\"></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Email</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"email\" placeholder=\"Email\" ng-model=\"item.email\"></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Password</label><div class=\"col-sm-10\"><input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\" ng-model=\"item.password\"></div></div><div class=\"form-group\"><label for=\"description\" class=\"col-sm-2 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"Description\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">&nbsp;Create&nbsp;</button></div></div>');\n$templateCache.put('app/pages/users/deleteGateway.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this gateway {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/users/deleteUser.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this user {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/users/editUser.html','<div class=\"modal-content\" style=\"margin-top: 130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Edit User</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" id=\"name\" ng-model=\"item.name\"></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Email</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" id=\"email\" ng-model=\"item.email\" disabled=\"\" style=\"background:#E7E7E7;\"></div></div><div class=\"form-group\"><label for=\"Mphone\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mobile Phone</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" id=\"Mphone\" ng-model=\"Mphone\" style=\"background:#E7E7E7;\" ng-intl-tel-input=\"\"></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>New Password</label><div class=\"col-sm-9\"><input type=\"password\" class=\"form-control\" id=\"password\" ng-model=\"item.password\"></div></div><div class=\"form-group\"><label for=\"confirm_password\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Confirm Password</label><div class=\"col-sm-9\"><input type=\"password\" class=\"form-control\" id=\"confirm_password\" ng-model=\"item.confirm_password\"></div></div><div class=\"form-group\"><label for=\"description\" class=\"col-sm-3 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-9\"><textarea type=\"text\" class=\"form-control\" id=\"description\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">&nbsp;Save&nbsp;</button></div></div>');\n$templateCache.put('app/pages/users/gateways.html','<div class=\"modal-content\" style=\"margin-top: 130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">{{item.name}}\\'s Gateway List</h4></div><div class=\"modal-body\"><div class=\"widgets\"><div class=\"row\"></div><div class=\"panel-wls\"><div class=\"panel-body-wsl\"><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table class=\"table table-hover table-condensed gateway-table\"><tr><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Name</td><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Mac</td><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Last updated time</td><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Operation</td></tr><tr ng-repeat=\"item in gateway_list\" class=\"editable-row\"><td><span editable-text=\"one.name\" e-name=\"name\" e-form=\"rowform\" e-required=\"\">{{ item.name || \\'empty\\' }}</span></td><td><span editable-text=\"one.GateWayMAC\" e-name=\"GateWayMAC\" e-form=\"rowform\" e-required=\"\">{{ item.mac || \\'empty\\' }}</span></td><td><span editable-text=\"one.major\" e-name=\"major\" e-form=\"rowform\" e-requried=\"\">{{ item.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\" || \\'empty\\' }}</span></td><td><button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(item,\\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div>');\n$templateCache.put('app/pages/users/users.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\" ng-if=\"vm.isAdmin\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"panel traffic-panel\"><div class=\"panel-body\"><div class=\"row wsl-row-padding-15\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"modal-buttons clearfix\" style=\"float: left;\"><button type=\"button\" class=\"btn btn-default\" data-toggle=\"modal\" ng-click=\"openCreateModel(\\'md\\')\">Create</button></div></div></div></div><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped\"><tr ng-repeat=\"row in $data track by row.uuid\"><td data-title=\"\\'Name\\'\">{{row.name}}</td><td data-title=\"\\'Email\\'\">{{row.email}}</td><td data-title=\"\\'Dial Code\\'\">{{row.nationcode}}</td><td data-title=\"\\'Mobile Phone\\'\">{{row.mobile_phone}}</td><td data-title=\"\\'Active\\'\">{{row.active ? \\'1\\' : \\'0\\'}}</td><td data-title=\"\\'Description\\'\">{{row.description}}</td><td data-title=\"\\'Created time\\'\">{{row.createdAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Last updated time\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Operation\\'\"><button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"userGatewaysCtrl(row, \\'md\\')\">Gateways</button> <button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"openEditModel(row, \\'md\\')\">Edit</button> <button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(row, \\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/user/login/login.html','<main class=\"auth-main\"><div class=\"auth-block\"><h1>Welcome to BeaconYun</h1><a href=\"javascript:;\" ui-sref=\"user.register\" class=\"auth-link\">New to BeaconYun? Sign up!</a><form class=\"form-horizontal\" name=\"loginForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"username\" class=\"col-sm-2 control-label\">Email</label><div class=\"col-sm-10\"><input type=\"email\" class=\"form-control\" name=\"email\" id=\"username\" placeholder=\"Email\" ng-model=\"loginData.username\" required=\"\"> <span ng-show=\"loginForm.email.$dirty && loginForm.email.$invalid\"><span ng-show=\"loginForm.email.$error.required\" class=\"error\">Email can\\'t be blank</span> <span ng-show=\"!loginForm.email.$error.required && loginForm.email.$error.email\" class=\"error\">Email is invalid</span></span></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-2 control-label\">Password</label><div class=\"col-sm-10\"><input type=\"password\" class=\"form-control\" name=\"password\" id=\"password\" placeholder=\"Password\" ng-minlength=\"5\" ng-model=\"loginData.password\" required=\"\"> <span ng-show=\"loginForm.password.$dirty && loginForm.password.$invalid\"><span ng-show=\"loginForm.password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"loginForm.password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span></div></div><div class=\"form-group\"><div class=\"col-sm-offset-2 col-sm-10\"><button type=\"submit\" class=\"btn btn-default btn-auth signIn\" ng-disabled=\"loginForm.$invalid\" ng-click=\"login()\">Sign in</button> <a href=\"\" class=\"forgot-pass\">Forgot password?</a><div class=\"flash-error\" ng-show=\"LoginStatus\"><span>Incorrect email or password.</span></div></div></div></form></div></main>');\n$templateCache.put('app/pages/user/login/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">{{data}}</p></div><div class=\"modal-footer\"></div></div>');\n$templateCache.put('app/pages/user/profile/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">{{data.msg}}</p></div><div class=\"modal-footer\"></div></div>');\n$templateCache.put('app/pages/user/profile/profile.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"panel traffic-panel\"><div class=\"panel-body\"><div class=\"col-md-6\"><form class=\"form-horizontal\" name=\"profileForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-4 control-label\">Name</label><div class=\"col-sm-8\"><input type=\"text\" class=\"form-control\" name=\"name\" id=\"name\" ng-model=\"profile.name\" required=\"\"> <span ng-show=\"profileForm.name.$dirty && profileForm.name.$invalid\"><span ng-show=\"profileForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-4 control-label\">Email</label><div class=\"col-sm-8\"><input type=\"text\" class=\"form-control\" id=\"email\" ng-model=\"profile.email\" disabled=\"\" style=\"background:rgba(231,231,231,0.2)\"></div></div><div class=\"form-group\"><label for=\"Mphone\" class=\"col-sm-4 control-label\">Mobile Phone</label><div class=\"col-sm-8\"><input type=\"text\" class=\"form-control\" name=\"Mphone\" id=\"Mphone\" ng-model=\"Mphone\" required=\"\" ng-intl-tel-input=\"\"> <span ng-show=\"profileForm.Mphone.$dirty && profileForm.Mphone.$invalid\"><span ng-show=\"profileForm.Mphone.$error.required\" class=\"error\">Mobile Phone can\\'t be blank</span> <span ng-show=\"profileForm.Mphone.$invalid && !profileForm.Mphone.$error.required\" class=\"error\">Please enter a correct phone number!</span></span></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-4 control-label\">New Password</label><div class=\"col-sm-8\"><input type=\"password\" class=\"form-control\" name=\"password\" id=\"password\" ng-minlength=\"5\" ng-model=\"profile.password\" required=\"\"> <span ng-show=\"profileForm.password.$dirty && profileForm.password.$invalid\"><span ng-show=\"profileForm.password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"profileForm.password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span></div></div><div class=\"form-group\"><label for=\"confirm_password\" class=\"col-sm-4 control-label\">Confirm Password</label><div class=\"col-sm-8\"><input type=\"password\" class=\"form-control\" name=\"confirm_password\" id=\"confirm_password\" ng-minlength=\"5\" ng-model=\"profile.confirm_password\" required=\"\"> <span ng-show=\"profileForm.confirm_password.$dirty && profileForm.confirm_password.$invalid\"><span ng-show=\"profileForm.confirm_password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"profileForm.confirm_password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span> <span ng-show=\"!isSame\" class=\"error\">The two passwords differ</span></div></div><div class=\"form-group\"><div class=\"col-sm-offset-2 col-sm-10\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" style=\"float:right;\" ng-click=\"updateProfile()\" ng-disabled=\"profileForm.$invalid\">&nbsp;Save&nbsp;</button></div></div></form></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/user/register/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">{{data.msg}}</p></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" ng-click=\"$close(goLogin())\" ng-if=\"data.result\">ok</button></div></div>');\n$templateCache.put('app/pages/user/register/register.html','<main class=\"auth-main\"><div class=\"auth-block\"><h1>Sign up to BeaconYun</h1><a href=\"javascript:;\" ui-sref=\"user.login\" class=\"auth-link\">Already have a BeaconYun account? Sign in!</a><form class=\"form-horizontal\" name=\"registerForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-3 control-label\">Name</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" name=\"name\" id=\"name\" placeholder=\"Name\" ng-model=\"registerData.name\" required=\"\"> <span ng-show=\"registerForm.name.$dirty && registerForm.name.$invalid\"><span ng-show=\"registerForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-3 control-label\">Email</label><div class=\"col-sm-9\"><input type=\"email\" class=\"form-control\" name=\"email\" id=\"email\" placeholder=\"Email\" ng-model=\"registerData.email\" required=\"\"> <span ng-show=\"registerForm.email.$dirty && registerForm.email.$invalid\"><span ng-show=\"registerForm.email.$error.required\" class=\"error\">Email can\\'t be blank</span> <span ng-show=\"!registerForm.email.$error.required && registerForm.email.$error.email\" class=\"error\">Email is invalid</span></span></div></div><div class=\"form-group\"><label for=\"Mphone\" class=\"col-sm-3 control-label\">Mobile Phone</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" name=\"Mphone\" id=\"Mphone\" ng-model=\"Mphone\" required=\"\" ng-intl-tel-input=\"\"> <span ng-show=\"registerForm.Mphone.$dirty && registerForm.Mphone.$invalid\"><span ng-show=\"registerForm.Mphone.$error.required\" class=\"error\">Mobile Phone can\\'t be blank</span> <span ng-show=\"registerForm.Mphone.$invalid && !registerForm.Mphone.$error.required\" class=\"error\">Please enter a correct phone number!</span></span></div></div><div class=\"form-group\"><label for=\"Password\" class=\"col-sm-3 control-label\">Password</label><div class=\"col-sm-9\"><input type=\"password\" class=\"form-control\" name=\"password\" id=\"Password\" placeholder=\"Password\" ng-minlength=\"5\" ng-model=\"registerData.password\" required=\"\"> <span ng-show=\"registerForm.password.$dirty && registerForm.password.$invalid\"><span ng-show=\"registerForm.password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"registerForm.password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span></div></div><div class=\"form-group\"><div class=\"col-sm-offset-3 col-sm-10\"><button type=\"submit\" class=\"btn btn-default btn-auth signUp\" ng-click=\"register()\" ng-disabled=\"registerForm.$invalid\">Sign up</button></div></div></form></div></main>');\n$templateCache.put('app/theme/components/baSidebar/ba-sidebar.html','<aside class=\"al-sidebar\" ng-swipe-right=\"$baSidebarService.setMenuCollapsed(false)\" ng-swipe-left=\"$baSidebarService.setMenuCollapsed(true)\" ng-mouseleave=\"hoverElemTop=selectElemTop\"><ul class=\"al-sidebar-list\" slimscroll=\"{height: \\'{{menuHeight}}px\\'}\" slimscroll-watch=\"menuHeight\"><li ng-repeat=\"item in ::menuItems\" class=\"al-sidebar-list-item\" ng-class=\"::{\\'with-sub-menu\\': item.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"item\"><a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"item.stateRef || \\'\\'\" ng-href=\"{{::(item.fixedHref ? item.fixedHref: \\'\\')}}\" ng-if=\"::!item.subMenu\" class=\"al-sidebar-list-link\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::item.subMenu\" class=\"al-sidebar-list-link\" ba-ui-sref-toggler=\"\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span> <b class=\"fa fa-angle-down\" ui-sref-active=\"fa-angle-up\" ng-if=\"::item.subMenu\"></b></a><ul ng-if=\"::item.subMenu\" class=\"al-sidebar-sublist\" ng-class=\"{\\'slide-right\\': item.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-repeat=\"subitem in ::item.subMenu\" ng-class=\"::{\\'with-sub-menu\\': subitem.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"subitem\" class=\"ba-sidebar-sublist-item\"><a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::subitem.subMenu\" ba-ui-sref-toggler=\"\" class=\"al-sidebar-list-link subitem-submenu-link\"><span>{{ ::subitem.title }}</span> <b class=\"fa\" ng-class=\"{\\'fa-angle-up\\': subitem.expanded, \\'fa-angle-down\\': !subitem.expanded}\" ng-if=\"::subitem.subMenu\"></b></a><ul ng-if=\"::subitem.subMenu\" class=\"al-sidebar-sublist subitem-submenu-list\" ng-class=\"{expanded: subitem.expanded, \\'slide-right\\': subitem.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-mouseenter=\"hoverItem($event, item)\" ng-repeat=\"subSubitem in ::subitem.subMenu\" ui-sref-active=\"selected\"><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::subSubitem.disabled\" class=\"al-sidebar-list-link\">{{ ::subSubitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"subSubitem.stateRef || \\'\\'\" ng-if=\"::!subSubitem.disabled\" ng-href=\"{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \\'\\')}}\">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::(!subitem.subMenu && subitem.disabled)\" class=\"al-sidebar-list-link\">{{ ::subitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" target=\"{{::(subitem.blank ? \\'_blank\\' : \\'_self\\')}}\" ng-if=\"::(!subitem.subMenu && !subitem.disabled)\" ui-state=\"subitem.stateRef || \\'\\'\" ng-href=\"{{::(subitem.fixedHref ? subitem.fixedHref: \\'\\')}}\">{{ ::subitem.title}}</a></li></ul></li></ul><div class=\"sidebar-hover-elem\" ng-style=\"{top: hoverElemTop + \\'px\\', height: hoverElemHeight + \\'px\\'}\" ng-class=\"{\\'show-hover-elem\\': showHoverElem }\"></div></aside>');\n$templateCache.put('app/theme/components/backTop/backTop.html','<i class=\"fa fa-angle-up back-top\" id=\"backTop\" title=\"Back to Top\"></i>');\n$templateCache.put('app/theme/components/contentTop/contentTop.html','<div class=\"content-top clearfix\"><h1 class=\"al-title\">{{ activePageTitle }}</h1><ul class=\"breadcrumb al-breadcrumb\"><li><a href=\"#/dashboard\">Home</a></li><li>{{ activePageTitle }}</li></ul></div>');\n$templateCache.put('app/theme/components/pageTop/pageTop.html','<div class=\"page-top clearfix\" scroll-position=\"scrolled\" max-height=\"50\" ng-class=\"{\\'scrolled\\': scrolled}\"><a href=\"#/dashboard\" class=\"al-logo clearfix\"><span class=\"comp-title\"><span>Yunli</span>Wuli</span> <span class=\"wsl-logo-span clearfix\"><img ng-src=\"assets/img/logo.png\"></span></a> <a href=\"\" class=\"collapse-menu-link ion-navicon\" ba-sidebar-toggle-menu=\"\" ng-click=\"changeLogo()\"></a><div class=\"user-profile\"><div uib-dropdown=\"\"><a uib-dropdown-toggle=\"\" class=\"profile-toggle-link clearfix\"><span style=\"font-size:18px;display:block;float:right;height:50px;line-height:50px;\">Hi,&nbsp;{{username}}</span></a><ul class=\"top-dropdown-menu profile-dropdown\" uib-dropdown-menu=\"\" style=\"left:auto;right:0;\"><li><i class=\"dropdown-arr\"></i></li><li><a href=\"#/user/profile\"><i class=\"fa fa-gear\"></i>Profile</a></li><li><a href=\"javascript:;\" ng-click=\"signOut()\" class=\"signout\"><i class=\"fa fa-power-off\"></i>Sign out</a></li></ul></div></div></div>');\n$templateCache.put('app/theme/components/widgets/widgets.html','<div class=\"widgets\"><div ng-repeat=\"widgetBlock in ngModel\" ng-class=\"{\\'row\\': widgetBlock.widgets.length > 1}\"><div ng-repeat=\"widgetCol in widgetBlock.widgets\" ng-class=\"{\\'col-md-6\\': widgetBlock.widgets.length === 2}\" ng-model=\"widgetCol\" class=\"widgets-block\"><div ba-panel=\"\" ba-panel-title=\"{{::widget.title}}\" ng-repeat=\"widget in widgetCol\" ba-panel-class=\"with-scroll {{widget.panelClass}}\"><div ng-include=\"widget.url\"></div></div></div></div></div>');\n$templateCache.put('app/theme/inputs/baSwitcher/baSwitcher.html','<label class=\"switcher-container\"><input type=\"checkbox\" ng-model=\"switcherValue\"><div class=\"switcher\" ng-class=\"::switcherStyle\"><div class=\"handle-container\"><span class=\"handle handle-on\">ON</span> <span class=\"handle\"></span> <span class=\"handle handle-off\">OFF</span></div></div></label>');}]);"],"sourceRoot":"/source/"}