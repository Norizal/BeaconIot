{"version":3,"sources":["scripts/app-657b897784.js"],"names":["angular","module","routeConfig","$urlRouterProvider","$stateProvider","baSidebarServiceProvider","state","url","templateUrl","otherwise","config","$echartsProvider","setGlobalOption","theme","driftPalette","title","left","top","padding","backgroundColor","textStyle","color","controller","sidebarMeta","icon","order","template","abstract","baConfigProvider","colorHelper","$provide","decorator","uiViewScrollDecorator","$delegate","$anchorScroll","baUtil","uiViewElement","hasAttr","configProvider","conf","blur","colors","default","basic","defaultText","border","borderDark","primary","colorScheme","info","success","warning","danger","primaryLight","tint","infoLight","successLight","warningLight","dangerLight","primaryDark","shade","infoDark","successDark","warningDark","dangerDark","dashboard","blueStone","dashboardColors","surfieGreen","silverTree","gossip","white","changeTheme","merge","changeColors","$get","provider","mix","color1","color2","weight","d2h","d","toString","h2d","h","parseInt","result","i","color1Part","substr","color2Part","resultPart","Math","floor","slice","IMAGES_ROOT","constant","resWidthCollapseSidebar","resWidthHideSidebar","images","root","profile","amMap","amChart","themeRun","$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings","whatToWait","loadAmCharts","mobile","unshift","loadImg","all","then","$pageFinishedLoading","$baSidebarService","run","baConfig","isMobile","test","navigator","userAgent","toLowerCase","mobileClass","blurClass","element","document","body","addClass","service","toastrLibConfig","toastrConfig","extend","closeButton","closeHtml","timeOut","autoDismiss","containerId","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","target","os","filter","input","output","factory","AuthTokenFactory","addToken","token","getToken","headers","Authorization","request","$window","getUserInfo","isLoggedIn","_unserialize","store","getItem","key","storeUserInfo","userInfo","setItem","_serialize","removeItem","removeUserInfo","getUserName","userObj","name","getUserId","userId","getRole","role","getEmail","email","value","JSON","stringify","e","parse","sessionStorage","this","isDescendant","parent","child","node","parentNode","hexToRGB","hex","alpha","r","g","b","elem","attrName","attr","$","httpService","$http","API_URL","$state","getUserList","page","size","sort","method","Content-Type","getUser","uuid","addUser","user","data","updateUser","deleteUser","getGatewayList","window","getGatewayListByUserid","getGateway","addGateway","center","updateGateway","deleteGateway","getOperationList","getOperation","addOperation","updateOperation","deleteOperation","getDeviceList","getDeviceListByType","type","gatewayMac","queryUrl","getDeviceListByGateway","gateway","getDevice","addDevice","device","updateDevice","deleteDevice","getStatusList","getStatus","addStatus","message","updateStatus","deleteStatus","getTypeStatus","getDeviceStatus","excludeType","getSensor","getOneSensor","mac","getDeviceByGateway","getStatusBy","getDeviceByGatewayBytimeRange","timeRange","getMinewdbData","startTime","endTime","influxDBUrl","timeBy","getMinewdbData2","console","log","httpStatusCode","status","go","src","defer","img","Image","onload","resolve","promise","AmCharts","ready","UserService","register","login","logout","app","$scope","oriUrl","location","href","arr","split","isValid","second","length","resp","inOldArr","rst","inNewArr","removeOldData","arrData","iArr","delete","push","splice","bijiaoData","oldData","newData","countNew","countDelete","isIn","isNew","$interval","NgTableParams","$uibModal","_init1","vm","First1","tableParams1","reload","_init2","First2","tableParams2","_init3","First3","tableParams3","_init4","First4","tableParams4","gatewaylist1","gatewaylist2","gatewaylist3","gatewaylist4","gateway1_value","gateway2_value","gateway3_value","gateway4_value","devicelist1","devicelist2","devicelist3","devicelist4","gateway1","gateway2","gateway3","gateway4","gateway1_old","gateway2_old","gateway3_old","gateway4_old","isFirst1","isFirst2","isFirst3","isFirst4","gatewayMsg","count","filterDelay","counts","getData","$defer","params","undefined","total","totalItems","error","selectGateway1","gatawayMac","selectGateway2","selectGateway3","selectGateway4","sil1","sil2","sil3","sil4","$on","cancel","_init","GatewayList","DeviceList","servers_chart","totals","nows","messages_chart","gateways_total","devices_total","sil","DeviceCtrl","$filter","editableOptions","editableThemes","animationsEnabled","tableParams","openCreateModel","modalInstance","open","animation","item","Date","openEditModel","openDeleteModel","createDeviceCtrl","$uibModalInstance","type_list","select","ok","toUpperCase","close","dismiss","editDeviceCtrl","deleteDeviceCtrl","GatewayCtrl","openMsgModel","openRebootModel","toggleAnimation","createGatewayCtrl","editGatewayCtrl","deleteGatewayCtrl","rebootGatewayCtrl","OpenMsgCtrl","iBeaconCtrl","$echarts","setTH_line","Values","values","k","t_line","h_line","time","t","toFixed","arrAll","LINE_2","setOption","series","sensor","sensor_th","th_line","th_data","tableParamsGateway","selected","tableParamsSensor","loadTH_lineData","selectTime","$event","div","parentElement","children","a_s","removeClass","nowTime","getTime","format","selectGateway","$data","forEach","selectiBeacon","tooltip","trigger","formatter","ticket","callback","param","seriesName","grid","x","y","width","height","xAxis","gridIndex","splitLine","show","yAxis","scale","interval","max","min","boundaryGap","lineStyle","axisLabel","index","xAxisIndex","yAxisIndex","showSymbol","hoverAnimation","itemStyle","normal","echarts","init","getElementById","onresize","resize","prototype","date","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","S+","getMilliseconds","replace","RegExp","$1","getFullYear","analysisGaugeData","serie","t_gauge","h_gauge","temperature","humidity","SensorsCtrl","setChart","allData","equals","axisLine","detail","GAUGE_1","GAUGE_2","LINE_1","loadGaugeData","oneDayTime","val","selectSensor","dataLoaded","splitNumber","radius","shadowColor","shadowBlur","fontWeight","axisTick","pointer","fontSize","fontStyle","borderWidth","borderColor","offsetCenter","innerWidth","daterangepicker","autoUpdateInput","cancelClass","locale","cancelLabel","on","ev","picker","startDate","endDate","find","StatusCtrl","deviceTypeValue","gateway_list","device_list","gateway_value","deviceTypeName","device_value","sorting","selectDeviceType","select_gateway","select_device","collection","keyname","keys","indexOf","UsersCtrl","UserInfo","isAdmin","userGatewaysCtrl","createUserCtrl","editUserCtrl","Mphone","nationcode","mobile_phone","dialCode","intlTelInput","phoneNumber","len","deleteUserCtrl","backTop","restrict","position","speed","directive","baSidebar","layoutSizes","jqWindow","link","scope","el","_onWindowClick","$evt","originalEvent","$sidebarEventProcessed","isMenuCollapsed","canSidebarBeHidden","setMenuCollapsed","_onWindowResize","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","menuHeight","$apply","childNodes","clientHeight","off","staticMenuItems","addStaticItem","apply","arguments","_factory","defineMenuItemStates","get","s","map","pages","substring","meta","level","match","stateRef","a","getMenuItems","states","menuItems","subMenu","concat","isCollapsed","toggleMenuCollapsed","getAllStateRefsRecursive","_iterateSubItems","currentItem","subItem","BaSidebarCtrl","defaultSidebarState","hoverItem","showHoverElem","hoverElemHeight","currentTarget","menuTopValue","hoverElemTop","getBoundingClientRect","baSidebarToggleMenu","baSidebarCollapseMenu","baSidebarTogglingItem","BaSidebarTogglingItemCtrl","$element","$attrs","_isState","subItemsStateRefs","some","subItemState","menuItem","$$menuItem","$eval","$$expandSubmenu","warn","$$collapseSubmenu","$expand","$collapse","$toggle","hasClass","current","event","toState","baUiSrefTogglingSubmenu","require","attrs","slideDown","slideUp","baUiSrefToggler","contentTop","$location","$watch","activePageTitle","pageTop","PageTopCtrl","isChange","username","signOut","changeLogo","widgets","ngModel","baSwitcher","switcherStyle","switcherValue","ProfileCtrl","isSame","updateProfile","password","confirm_password","msg","RegisterCtrl","emailReg","registerData","goLogin","ngIntlTelInputProvider","set","preferredCountries","initialCountry","nationalMode","utilsScript","LoginCtrl","LoginStatus","loginData","response","o","fn","n","c","css","right","bottom","scroll","scrollTop","fadeIn","fadeOut","click","animate","duration","jQuery","$templateCache","put"],"mappings":"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","file":"scripts/app-657b897784.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme', [\r\n        'toastr',\r\n        'chart.js',\r\n        'angular-chartist',\r\n        'angular.morris-chart',\r\n        'textAngular',\r\n        'BlurAdmin.theme.components',\r\n        'BlurAdmin.theme.inputs'\r\n    ]);\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages', [\r\n        'ui.router',\r\n\r\n        'BlurAdmin.pages.dashboard',\r\n        'BlurAdmin.pages.gateway',\r\n        'BlurAdmin.pages.device',\r\n        'BlurAdmin.pages.alldevice',\r\n        'BlurAdmin.pages.sensors',\r\n        'BlurAdmin.pages.asset_tags',\r\n        'BlurAdmin.pages.user',\r\n        'BlurAdmin.pages.users',\r\n        'BlurAdmin.pages.ibeacons',\r\n        'BlurAdmin.pages.activate'\r\n        \r\n    ]).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($urlRouterProvider, $stateProvider, baSidebarServiceProvider) {\r\n\r\n        $stateProvider\r\n            .state('pages', {\r\n                url: '/pages',\r\n                templateUrl: 'app/pages/pages.html'\r\n            });\r\n\r\n\r\n        // $urlRouterProvider.otherwise('/dashboard');\r\n        $urlRouterProvider.otherwise('/user/login');\r\n\r\n    }\r\n\r\n    angular.module('BlurAdmin.pages').config(function($echartsProvider) {\r\n        $echartsProvider.setGlobalOption({\r\n            theme: 'macarons',\r\n            driftPalette: true,\r\n            title: {\r\n                left: 'center',\r\n                top: 'top',\r\n                padding: [20, 10, 10, 10]\r\n            },\r\n            backgroundColor: '',\r\n            textStyle:{\r\n                color:\"#ffffff\"\r\n            }\r\n        })\r\n    });\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components', []);\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 10.12.2016\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.inputs', []);\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.activate', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('activate', {\r\n                url: '/activate',\r\n                templateUrl: 'app/pages/activate/activate.html',\r\n                title: 'Activate',\r\n                controller: 'ActivateCtrl as vm',\r\n            });\r\n        \r\n    }\r\n\r\n})();\r\n\r\n\n/**\r\n * @author wsl\r\n * created on 2017-04-19\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.asset_tags', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('asset', {\r\n                url: '/asset',\r\n                templateUrl: 'app/pages/assetDemo/asset.html',\r\n                title: 'Asset Demo',\r\n                controller: 'assetTagsCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-money',\r\n                    order: 20,\r\n                },\r\n            });\r\n        // $urlRouterProvider.when('/wsl', '/wsl/basic');\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.dashboard', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('dashboard', {\r\n                url: '/dashboard',\r\n                templateUrl: 'app/pages/dashboard/dashboard.html',\r\n                title: 'Dashboard',\r\n                controller: 'DashboardCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'ion-android-home',\r\n                    order: 0,\r\n                },\r\n            });\r\n        // $urlRouterProvider.when('/dashboard/dashboard', '/dashboard/dashboard');\r\n    }\r\n\r\n})();\r\n\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.device', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('device', {\r\n                url: '/device',\r\n                templateUrl: 'app/pages/device/device.html',\r\n                title: 'Device',\r\n                controller: 'deviceCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-desktop',\r\n                    order: 50,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.gateway', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('gateway', {\r\n                url: '/gateway',\r\n                templateUrl: 'app/pages/gateway/gateway.html',\r\n                title: 'Gateway',\r\n                controller: 'gatewayCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-hdd-o',\r\n                    order: 50,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.ibeacons', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('ibeacon', {\r\n                url: '/ibeacon',\r\n                templateUrl: 'app/pages/ibeaconDemo/ibeacon.html',\r\n                title: 'iBeacon Demo',\r\n                //  controller: 'ibeaconCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-feed',\r\n                    order: 12,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.sensors', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('sensor', {\r\n                url: '/sensor',\r\n                templateUrl: 'app/pages/sensorDemo/sensor.html',\r\n                title: 'Sensor Demo',\r\n                //  controller: 'sensorsCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-line-chart',\r\n                    order: 10,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.alldevice', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('status', {\r\n                url: '/status',\r\n                templateUrl: 'app/pages/status/status.html',\r\n                title: 'Status',\r\n                controller: 'statusCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-cubes',\r\n                    order: 150,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-2-9\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.user', [\r\n        'BlurAdmin.pages.login',\r\n        'BlurAdmin.pages.register',\r\n        'BlurAdmin.pages.profile'\r\n    ]).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user', {\r\n                url: '/user',\r\n                template: '<ui-view  autoscroll=\"true\" autoscroll-body-top></ui-view>',\r\n                abstract: true\r\n            });\r\n\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.users', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('users', {\r\n                url: '/users',\r\n                templateUrl: 'app/pages/users/users.html',\r\n                title: 'User',\r\n                controller: 'usersCtrl as vm',\r\n                sidebarMeta: {\r\n                    icon: 'fa fa-user',\r\n                    order: 200,\r\n                },\r\n            });\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.profile', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user.profile', {\r\n                url: '/profile',\r\n                templateUrl: 'app/pages/user/profile/profile.html',\r\n                title: 'Profile',\r\n                controller: 'ProfileCtrl as vm',\r\n            });\r\n    }\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.register', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user.register', {\r\n                url: '/register',\r\n                templateUrl: 'app/pages/user/register/register.html',\r\n                controller: 'RegisterCtrl as vm',\r\n            });\r\n    }\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.login', []).config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state('user.login', {\r\n                url: '/login',\r\n                templateUrl: 'app/pages/user/login/login.html',\r\n                controller: 'LoginCtrl as vm',\r\n            });\r\n    }\r\n\r\n})();\r\n\n'use strict';\r\n\r\nangular.module('BlurAdmin', [\r\n    'ngAnimate',\r\n    'ui.bootstrap',\r\n    'ui.sortable',\r\n    'ui.router',\r\n    'ngTouch',\r\n    'toastr',\r\n    'smart-table',\r\n    \"xeditable\",\r\n    'ui.slimscroll',\r\n    'ngJsTree',\r\n    'ngTable',\r\n    'angular-progress-button-styles',\r\n\r\n    'chart.js',\r\n    'echarts-ng',\r\n    // 'ng-echarts',\r\n    'ngIntlTelInput',\r\n    'BlurAdmin.theme',\r\n    'BlurAdmin.pages'\r\n]);\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').config(config);\r\n\r\n    /** @ngInject */\r\n    function config(baConfigProvider, colorHelper, $provide) {\r\n        $provide.decorator('$uiViewScroll', uiViewScrollDecorator);\r\n        //baConfigProvider.changeTheme({blur: true});\r\n        //\r\n        //baConfigProvider.changeColors({\r\n        //  default: 'rgba(#000000, 0.2)',\r\n        //  defaultText: '#ffffff',\r\n        //  dashboard: {\r\n        //    white: '#ffffff',\r\n        //  },\r\n        //});\r\n    }\r\n\r\n    /** @ngInject */\r\n    function uiViewScrollDecorator($delegate, $anchorScroll, baUtil) {\r\n        return function (uiViewElement) {\r\n            if (baUtil.hasAttr(uiViewElement, \"autoscroll-body-top\")) {\r\n                $anchorScroll();\r\n            } else {\r\n                $delegate(uiViewElement);\r\n            }\r\n        };\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    // var basic = {\r\n    //     default: '#ffffff',\r\n    //     defaultText: '#666666',\r\n    //     border: '#dddddd',\r\n    //     borderDark: '#aaaaaa',\r\n    // };\r\n\r\n    var basic = {\r\n        default: 'rgba(#000000, 0.2)',\r\n        defaultText: '#ffffff',\r\n        border: '#dddddd',\r\n        borderDark: '#aaaaaa',\r\n    };\r\n\r\n    // main functional color scheme\r\n    var colorScheme = {\r\n        primary: '#209e91',\r\n        info: '#2dacd1',\r\n        success: '#90b900',\r\n        warning: '#dfb81c',\r\n        danger: '#e85656',\r\n    };\r\n\r\n    // dashboard colors for charts\r\n    var dashboardColors = {\r\n        blueStone: '#005562',\r\n        surfieGreen: '#0e8174',\r\n        silverTree: '#6eba8c',\r\n        gossip: '#b9f2a1',\r\n        white: '#10c4b5',\r\n    };\r\n\r\n    angular.module('BlurAdmin.theme').provider('baConfig', configProvider);\r\n\r\n    /** @ngInject */\r\n    function configProvider(colorHelper) {\r\n        var conf = {\r\n            theme: {\r\n                blur: true,\r\n            },\r\n            colors: {\r\n                default: basic.default,\r\n                defaultText: basic.defaultText,\r\n                border: basic.border,\r\n                borderDark: basic.borderDark,\r\n\r\n                primary: colorScheme.primary,\r\n                info: colorScheme.info,\r\n                success: colorScheme.success,\r\n                warning: colorScheme.warning,\r\n                danger: colorScheme.danger,\r\n\r\n                primaryLight: colorHelper.tint(colorScheme.primary, 30),\r\n                infoLight: colorHelper.tint(colorScheme.info, 30),\r\n                successLight: colorHelper.tint(colorScheme.success, 30),\r\n                warningLight: colorHelper.tint(colorScheme.warning, 30),\r\n                dangerLight: colorHelper.tint(colorScheme.danger, 30),\r\n\r\n                primaryDark: colorHelper.shade(colorScheme.primary, 15),\r\n                infoDark: colorHelper.shade(colorScheme.info, 15),\r\n                successDark: colorHelper.shade(colorScheme.success, 15),\r\n                warningDark: colorHelper.shade(colorScheme.warning, 15),\r\n                dangerDark: colorHelper.shade(colorScheme.danger, 15),\r\n\r\n                dashboard: {\r\n                    blueStone: dashboardColors.blueStone,\r\n                    surfieGreen: dashboardColors.surfieGreen,\r\n                    silverTree: dashboardColors.silverTree,\r\n                    gossip: dashboardColors.gossip,\r\n                    white: dashboardColors.white,\r\n                },\r\n            }\r\n        };\r\n\r\n        conf.changeTheme = function (theme) {\r\n            angular.merge(conf.theme, theme)\r\n        };\r\n\r\n        conf.changeColors = function (colors) {\r\n            angular.merge(conf.colors, colors)\r\n        };\r\n\r\n        conf.$get = function () {\r\n            delete conf.$get;\r\n            return conf;\r\n        };\r\n        return conf;\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    var IMAGES_ROOT = 'assets/img/';\r\n\r\n    angular.module('BlurAdmin.theme')\r\n        .constant('API_URL', 'http://iot.beaconyun.com:8080')\r\n        // .constant('API_URL', 'http://139.196.110.136:8080')\r\n        .constant('layoutSizes', {\r\n            resWidthCollapseSidebar: 1200,\r\n            resWidthHideSidebar: 500\r\n        })\r\n        .constant('layoutPaths', {\r\n            images: {\r\n                root: IMAGES_ROOT,\r\n                profile: IMAGES_ROOT + 'app/profile/',\r\n                amMap: 'assets/img/theme/vendor/ammap//dist/ammap/images/',\r\n                amChart: 'assets/img/theme/vendor/amcharts/dist/amcharts/images/'\r\n            }\r\n        })\r\n        .constant('colorHelper', {\r\n            tint: function (color, weight) {\r\n                return mix('#ffffff', color, weight);\r\n            },\r\n            shade: function (color, weight) {\r\n                return mix('#000000', color, weight);\r\n            },\r\n        });\r\n\r\n    function shade(color, weight) {\r\n        return mix('#000000', color, weight);\r\n    }\r\n\r\n    function tint(color, weight) {\r\n        return mix('#ffffff', color, weight);\r\n    }\r\n\r\n    //SASS mix function\r\n    function mix(color1, color2, weight) {\r\n        // convert a decimal value to hex\r\n        function d2h(d) {\r\n            return d.toString(16);\r\n        }\r\n\r\n        // convert a hex value to decimal\r\n        function h2d(h) {\r\n            return parseInt(h, 16);\r\n        }\r\n\r\n        var result = \"#\";\r\n        for (var i = 1; i < 7; i += 2) {\r\n            var color1Part = h2d(color1.substr(i, 2));\r\n            var color2Part = h2d(color2.substr(i, 2));\r\n            var resultPart = d2h(Math.floor(color2Part + (color1Part - color2Part) * (weight / 100.0)));\r\n            result += ('0' + resultPart).slice(-2);\r\n        }\r\n        return result;\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').run(themeRun);\r\n\r\n    /** @ngInject */\r\n    function themeRun($timeout, $rootScope, layoutPaths, preloader, $q, baSidebarService, themeLayoutSettings) {\r\n\r\n        var whatToWait = [\r\n            preloader.loadAmCharts(),\r\n            // $timeout(3000) // 3000\r\n        ];\r\n\r\n        var theme = themeLayoutSettings;\r\n        if (theme.blur) {\r\n            if (theme.mobile) {\r\n                whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-mobile.jpg'));\r\n            } else {\r\n                whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg.jpg'));\r\n                whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-blurred.jpg'));\r\n            }\r\n        }\r\n\r\n        $q.all(whatToWait).then(function () {\r\n            $rootScope.$pageFinishedLoading = true;\r\n        });\r\n\r\n        $timeout(function () {\r\n            if (!$rootScope.$pageFinishedLoading) {\r\n                $rootScope.$pageFinishedLoading = true;\r\n            }\r\n        }, 3000);// 7000\r\n\r\n        $rootScope.$baSidebarService = baSidebarService;\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').service('themeLayoutSettings', themeLayoutSettings);\r\n\r\n    /** @ngInject */\r\n    function themeLayoutSettings(baConfig) {\r\n        var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|windows phone/).test(navigator.userAgent.toLowerCase());\r\n        var mobileClass = isMobile ? 'mobile' : '';\r\n        var blurClass = baConfig.theme.blur ? 'blur-theme' : '';\r\n        angular.element(document.body).addClass(mobileClass).addClass(blurClass);\r\n\r\n        return {\r\n            blur: baConfig.theme.blur,\r\n            mobile: isMobile,\r\n        }\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 15.12.2015\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .config(toastrLibConfig);\r\n\r\n    /** @ngInject */\r\n    function toastrLibConfig(toastrConfig) {\r\n        angular.extend(toastrConfig, {\r\n            closeButton: true,\r\n            closeHtml: '<button>&times;</button>',\r\n            timeOut: 5000,\r\n            autoDismiss: false,\r\n            containerId: 'toast-container',\r\n            maxOpened: 0,\r\n            newestOnTop: true,\r\n            positionClass: 'toast-top-right',\r\n            preventDuplicates: false,\r\n            preventOpenDuplicates: false,\r\n            target: 'body'\r\n        });\r\n    }\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-02-14\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    var os = angular.module('BlurAdmin.theme');\r\n\r\n    os.filter(\"beaconType\", function () {\r\n        return function (input) {\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"iBeacon\";\r\n            } else if (input == 2) {\r\n                output = \"Eddystone\";\r\n            } else if (input == 3) {\r\n                output = \"Hybird\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n    os.filter(\"beaconStatus\", function () {\r\n        return function (input) {\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"Active\";\r\n            } else if (input == 2) {\r\n                output = \"Inactive\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n    os.filter(\"bstFrameType\", function () {\r\n        //<!-- 1=UID;2=EID;3=TLM;4=URL;0=empty -->\r\n        return function (input) {\r\n            input += 1;\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"empty\";\r\n            } else if (input == 2) {\r\n                output = \"UID\";\r\n            } else if (input == 3) {\r\n                output = \"EID\";\r\n            } else if (input == 4) {\r\n                output = \"TLM\";\r\n            } else if (input == 5) {\r\n                output = \"URL\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n\r\n    os.filter(\"applyStatusFilter\", function () {\r\n        //<!-- 1=UID;2=EID;3=TLM;4=URL;0=empty -->\r\n        return function (input) {\r\n            if (typeof(input) == 'undefined') {\r\n                input = 0;\r\n            }\r\n            input += 1;\r\n            input = input || '';\r\n            if (!input) return '';\r\n\r\n            var output = '';\r\n            if (input == 1) {\r\n                output = \"未同步\";\r\n            } else if (input == 2) {\r\n                output = \"已同步\";\r\n            } else if (input == 3) {\r\n                output = \"已删除\";\r\n            } else {\r\n                output = \" \"\r\n            }\r\n\r\n            return output;\r\n        };\r\n    });\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').factory('AuthInterceptor', function AuthInterceptor(AuthTokenFactory) {\r\n    'use strict';\r\n    return {\r\n      request: addToken\r\n    };\r\n\r\n    function addToken(config) {\r\n      var token = AuthTokenFactory.getToken();\r\n      if (token) {\r\n        config.headers = config.headers || {};\r\n        config.headers.Authorization = 'Bearer ' + token;\r\n      }\r\n      return config;\r\n    }\r\n  });\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').factory('AuthTokenFactory', function AuthTokenFactory($window) {\r\n    'use strict';\r\n    var store = $window.sessionStorage; // $window.localStorage;\r\n    var key = 'currentUser';\r\n\r\n    return {\r\n      getUserInfo: getUserInfo,\r\n      storeUserInfo: storeUserInfo,\r\n      removeUserInfo: removeUserInfo,\r\n      isLoggedIn : isLoggedIn,\r\n      getUserName : getUserName,\r\n      getUserId : getUserId,\r\n      getToken : getToken,\r\n      getRole : getRole,\r\n      getEmail : getEmail\r\n    };\r\n\r\n    function getUserInfo() {\r\n\r\n      if (!isLoggedIn()){\r\n        return null;\r\n      }\r\n      return _unserialize(store.getItem(key));\r\n    }\r\n\r\n    function storeUserInfo(userInfo) {\r\n      if (userInfo) {\r\n        store.setItem(key, _serialize(userInfo));\r\n      } else {\r\n        store.removeItem(key);\r\n      }\r\n    }\r\n\r\n    function removeUserInfo () {\r\n\r\n        store.removeItem(key);\r\n    }\r\n\r\n    function isLoggedIn (){\r\n       return store.getItem(key)?true:false;\r\n    }\r\n\r\n    function getUserName(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.name;\r\n      }\r\n      return \"not login\";\r\n    }\r\n\r\n    function getUserId(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.userId;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function getToken(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.token;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function getRole(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.role;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function getEmail(){\r\n      var userObj = getUserInfo(key);\r\n      if (userObj !== null){\r\n        return userObj.email;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     * Try to encode value as json, or just return the value upon failure\r\n     *\r\n     * @private\r\n     *\r\n     * @param  {Mixed}  value  The value to serialize\r\n     *\r\n     * @return {Mixed}\r\n     */\r\n    function _serialize(value) {\r\n                        try {\r\n                            return JSON.stringify(value);\r\n                        } catch (e) {\r\n                            return value;\r\n                        }\r\n                    };\r\n\r\n      /**\r\n       * Try to parse value as json, if it fails then it probably isn't json\r\n       * so just return it\r\n       *\r\n       * @private\r\n       *\r\n       * @param  {String}  value  The value to unserialize\r\n       *\r\n       * @return {Mixed}\r\n       */\r\n       function _unserialize(value) {\r\n                        try {\r\n                            return JSON.parse(value);\r\n                        } catch (e) {\r\n                            return value;\r\n                        }\r\n                    };\r\n  });\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').service('baUtil', baUtil);\r\n\r\n    /** @ngInject */\r\n    function baUtil() {\r\n\r\n        this.isDescendant = function (parent, child) {\r\n            var node = child.parentNode;\r\n            while (node != null) {\r\n                if (node == parent) {\r\n                    return true;\r\n                }\r\n                node = node.parentNode;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        this.hexToRGB = function (hex, alpha) {\r\n            var r = parseInt(hex.slice(1, 3), 16);\r\n            var g = parseInt(hex.slice(3, 5), 16);\r\n            var b = parseInt(hex.slice(5, 7), 16);\r\n            return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\r\n        };\r\n\r\n        this.hasAttr = function (elem, attrName) {\r\n            var attr = $(elem).attr(attrName);\r\n            return (typeof attr !== typeof undefined && attr !== false);\r\n        }\r\n    }\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin').service('httpService', httpService);\r\n\r\n\r\n    /** @ngInject */\r\n    function httpService($http, API_URL, AuthTokenFactory, $q, $state) {\r\n\r\n\r\n        /* User List*/\r\n        this.getUserList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/users?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get User */\r\n        this.getUser = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/users/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add User */\r\n        this.addUser = function (user, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/users\",\r\n                data: user,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update User */\r\n        this.updateUser = function (user, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/users/\" + user.uuid,\r\n                data: user,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete User */\r\n        this.deleteUser = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/users/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Gateway List*/\r\n        this.getGatewayList = function (page, size, sort, token) {\r\n            var user_id = window.sessionStorage.getItem('id');\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/gateways?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Gateway List By UserId*/\r\n        this.getGatewayListByUserid = function (page, size, sort, user, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/gateways?page=\" + page + \"&size=\" + size + \"&user=\" + user,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Gateway */\r\n        this.getGateway = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/gateways/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Gateway */\r\n        this.addGateway = function (center, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/gateways\",\r\n                data: center,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Gateway */\r\n        this.updateGateway = function (center, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/gateways/\" + center.uuid,\r\n                data: center,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Gateway */\r\n        this.deleteGateway = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/gateways/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Operation List*/\r\n        this.getOperationList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/operations?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Operation */\r\n        this.getOperation = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/operations/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Operation */\r\n        this.addOperation = function (node, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/operations\",\r\n                data: node,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Operation */\r\n        this.updateOperation = function (node, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/operations/\" + node.uuid,\r\n                data: node,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Operation */\r\n        this.deleteOperation = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/operations/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Device List*/\r\n        this.getDeviceList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/devices?page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Device List By Type*/\r\n        this.getDeviceListByType = function (page, size, sort, type, gatewayMac, token) {\r\n            var queryUrl = \"\";\r\n            if (gatewayMac == \"Select Gateway\")\r\n                queryUrl = \"/devices?page=\" + page + \"&size=\" + size + \"&type=\" + type;\r\n            else if (gatewayMac == \"All\")\r\n                queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type;\r\n            else\r\n                queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac;\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + queryUrl,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* DeviceListByGateway List*/\r\n        this.getDeviceListByGateway = function (gateway, page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/devices?gatway=\" + gateway + \"&page=\" + page + \"&size=\" + size,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Get Device */\r\n        this.getDevice = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/devices/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Device */\r\n        this.addDevice = function (device, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/devices\",\r\n                data: device,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Device */\r\n        this.updateDevice = function (device, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/devices/\" + device.uuid,\r\n                data: device,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Device */\r\n        this.deleteDevice = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/devices/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Status List*/\r\n        this.getStatusList = function (page, size, sort, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&sort\" + sort,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Status */\r\n        this.getStatus = function (uuid, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        /* Add Status */\r\n        this.addStatus = function (message, token) {\r\n            return ($http({\r\n                method: 'POST',\r\n                url: API_URL + \"/statuses\",\r\n                data: message,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Update Status */\r\n        this.updateStatus = function (message, token) {\r\n            return ($http({\r\n                method: 'PUT',\r\n                url: API_URL + \"/statuses/\" + message.uuid,\r\n                data: message,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Delete Status */\r\n        this.deleteStatus = function (uuid, token) {\r\n            return ($http({\r\n                method: 'DELETE',\r\n                url: API_URL + \"/statuses/\" + uuid,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        this.getTypeStatus = function (page, size, sort, type, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        this.getDeviceStatus = function (page, size, sort, excludeType, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&excludeType=\" + excludeType,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Device By Gateway*/\r\n        this.getSensor = function (page, size, sort, type, gatewayMac, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n        /* Get one Sensor */\r\n        this.getOneSensor = function (page, size, sort, type, gatewayMac, mac, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac + \"&mac=\" + mac,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Device By Gateway*/\r\n        this.getDeviceByGateway = function (page, size, sort, gatewayMac, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&gatewayMac=\" + gatewayMac,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get status By DeviceType By Gateway By device*/\r\n        this.getStatusBy = function (page, size, sort, type, gatewayMac, mac, token) {\r\n\r\n            var queryUrl = \"\";\r\n            if ((gatewayMac == \"All\") || (gatewayMac == \"Select Gateway\")) {\r\n                if ((mac == \"All\") || (mac == \"Select Device\")) {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type;\r\n                } else {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&mac=\" + mac;\r\n                }\r\n            } else {\r\n                if ((mac == \"All\") || (mac == \"Select Device\")) {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac;\r\n                } else {\r\n                    queryUrl = \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&mac=\" + mac + \"&gatewayMac=\" + gatewayMac;\r\n                }\r\n            }\r\n\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + queryUrl,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* Get Device By Gateway By timeRange*/\r\n        this.getDeviceByGatewayBytimeRange = function (page, size, sort, type, gatewayMac, timeRange, token) {\r\n            return ($http({\r\n                method: 'GET',\r\n                url: API_URL + \"/statuses?page=\" + page + \"&size=\" + size + \"&type=\" + type + \"&gatewayMac=\" + gatewayMac + \"&timeRange=\" + timeRange,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n\r\n\r\n        this.getMinewdbData = function (gatewayMac, mac, startTime, endTime, token) {\r\n            var influxDBUrl = \"http://iot.beaconyun.com:8080/query?\"\r\n            // var influxDBUrl = \"http://192.168.0.132:8080/query?\"\r\n            var timeBy = Math.floor((startTime - endTime) / 100);\r\n            if ((startTime - endTime) >= 1800) {\r\n                timeBy = 10;\r\n            }\r\n            if ((startTime - endTime) >= 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 300);\r\n            }\r\n            if ((startTime - endTime) >= 7 * 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 600);\r\n            }\r\n\r\n            startTime = startTime + \"s\";\r\n            endTime = endTime + \"s\";\r\n            gatewayMac = \"'\" + gatewayMac + \"'\";\r\n            mac = \"'\" + mac + \"'\";\r\n            // var url = influxDBUrl + \"&q=SELECT MEAN(temperature),MEAN(humidity),MEAN(battery)  FROM sensor WHERE gatewayMac=\" + gatewayMac + \"AND mac=\"+ mac + \"AND time >= '2017-07-10T05:00:00Z' AND time <= '2017-07-10T06:00:00Z' GROUP BY time(100s)\";\r\n            var url = influxDBUrl + \"&q=SELECT MEAN(temperature),MEAN(humidity),MEAN(battery)  FROM sensor WHERE gatewayMac=\" + gatewayMac + \" AND mac=\" + mac + \" AND time > now() - \" + startTime + \" AND time < now() - \" + endTime + \" GROUP BY time(\" + timeBy + \"s)\";\r\n            // console.log(url);\r\n            return ($http({\r\n                method: 'GET',\r\n                url: url,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n        \r\n        this.getMinewdbData2 = function (gatewayMac, mac, startTime, endTime, token) {\r\n            var influxDBUrl = \"http://iot.beaconyun.com:8080/query?\"\r\n            // var influxDBUrl = \"http://192.168.0.132:8080/query?\"\r\n\r\n            var timeBy = Math.floor((startTime - endTime) / 100);\r\n            \r\n            if ((startTime - endTime) > 1800) {\r\n                timeBy = 10;\r\n            }\r\n            if ((startTime - endTime) >= 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 300);\r\n            }\r\n            if ((startTime - endTime) >= 7 * 3600) {\r\n                timeBy = Math.floor((startTime - endTime) / 600);\r\n            }\r\n\r\n            startTime = startTime + \"s\";\r\n            endTime = endTime + \"s\";\r\n            gatewayMac = \"'\" + gatewayMac + \"'\";\r\n            mac = \"'\" + mac + \"'\";\r\n            var url = influxDBUrl + \"&q=SELECT MEAN(battery), MEAN(rssi)  FROM iBeacon WHERE gatewayMac=\" + gatewayMac + \" AND mac=\" + mac + \" AND time > now() - \" + startTime + \" AND time < now() - \" + endTime + \" GROUP BY time(\" + timeBy + \"s)\";\r\n            if(startTime == 10+'s' || startTime==120+'s'){\r\n                console.log(\"ss\");\r\n                url = influxDBUrl + \"&q=SELECT MEAN(battery), MEAN(rssi)  FROM iBeacon WHERE gatewayMac=\" + gatewayMac + \" AND mac=\" + mac + \" AND time > now() - \" + startTime + \" AND time < now() - \" + endTime + \" GROUP BY time(\" + 1 + \"s)\"; \r\n            }\r\n            console.log(url);\r\n            return ($http({\r\n                method: 'GET',\r\n                url: url,\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            }));\r\n        };\r\n        // SELECT MEAN(temperature),MEAN(humidity),MEAN(battery) FROM beacon WHERE \"Name\"='S1' AND \"MAC\"='AC:23:3F:A0:00:05' AND time>now() - 300s GROUP BY \"MAC\",time(5s)\r\n\r\n        this.httpStatusCode = function (status) {\r\n            if(status === 401)\r\n                $state.go('user.login');\r\n            else\r\n                return;\r\n        };\r\n    }\r\n})();\n/**\r\n * @author a.demeshko\r\n * created on 3/1/16\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme').service('preloader', preloader);\r\n\r\n    /** @ngInject */\r\n    function preloader($q) {\r\n        return {\r\n            loadImg: function (src) {\r\n                var d = $q.defer();\r\n                var img = new Image();\r\n                img.src = src;\r\n                img.onload = function () {\r\n                    d.resolve();\r\n                };\r\n                return d.promise;\r\n            },\r\n            loadAmCharts: function () {\r\n                var d = $q.defer();\r\n                AmCharts.ready(function () {\r\n                    d.resolve();\r\n                });\r\n                return d.promise;\r\n            }\r\n        }\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin').service('UserService', UserService);\r\n\r\n\r\n    /** @ngInject */\r\n    function UserService($http, API_URL, AuthTokenFactory, $q) {\r\n\r\n        /* REGISTER */\r\n        this.register = function(user){\r\n            return ($http({\r\n                method: 'post',\r\n                data: user,\r\n                url: API_URL + \"/account/register\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }));\r\n        }\r\n        \r\n        /* LOGIN */\r\n        this.login = function (user) {\r\n            return ($http({\r\n                method: 'post',\r\n                data: user,\r\n                url: API_URL + \"/token\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }));\r\n        };\r\n\r\n        /* LOGOUT */\r\n        this.logout = function () {\r\n            AuthTokenFactory.removeUserInfo();\r\n        };\r\n\r\n        // this.getUser = function () {\r\n        //   if (AuthTokenFactory.getToken()) {\r\n        //       return ($http({\r\n        //         method: 'post',\r\n        //         data: user,\r\n        //         url: API_URL + \"/token\",\r\n        //         headers: {\r\n        //             'Content-Type': 'application/json'\r\n        //         }\r\n        //     }));\r\n        //   } else {\r\n        //     return $q.reject({ data: 'client has no auth token' });\r\n        //   }\r\n            \r\n        // }\r\n\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    var app = angular.module('BlurAdmin.pages.dashboard');\r\n\r\n    /** @ngInject */\r\n    app.controller('ActivateCtrl', ['$scope','$http','$state', '$timeout', function ($scope, $http, $state, $timeout) {\r\n\r\n            var oriUrl = window.location.href;\r\n            var arr = oriUrl.split(\"?\");\r\n            $scope.isValid = true;\r\n            $scope.second = 1;\r\n\r\n            if(arr.length == 2){\r\n                var url = \"http://iot.beaconyun.com:8080/account/activate?\" + arr[1];\r\n                console.log(url);\r\n                $http({\r\n                    method: 'GET',\r\n                    url: url,\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    }\r\n                }).then(function success(resp){\r\n                    console.log(resp);\r\n                    if(resp.data.status === 200){\r\n                        $scope.isValid = true;\r\n                        $timeout(function(){\r\n                            window.location= 'http://iot.beaconyun.com';\r\n                        },2000)\r\n                        \r\n                    }else if(resp.data.status === 400){\r\n                        $scope.isValid = false;\r\n                    }\r\n                },function error(resp){\r\n                    $scope.isValid = false\r\n                    console.log(resp);\r\n                });\r\n                \r\n            }\r\n            \r\n    }]);\r\n\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    function inOldArr(arr, value) {\r\n        var rst = null;\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (value == arr[i].mac) {\r\n                rst = arr[i];\r\n            }\r\n        }\r\n        return rst;\r\n    };\r\n\r\n    function inNewArr(arr, value) {\r\n        var rst = true;\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (value == arr[i].mac) {\r\n                rst = false;\r\n            }\r\n        }\r\n        return rst;\r\n    };\r\n\r\n    //根据delete参数为true，除去旧的数据\r\n    function removeOldData(arr) {\r\n        var arrData = arr;\r\n        var iArr = [];\r\n\r\n        for (var i = 0; i < arrData.length; i++) {\r\n            if (arrData[i].delete) {\r\n                iArr.push(i);\r\n            }\r\n        }\r\n\r\n        for (var i = 0; i < iArr.length; i++) {\r\n            arrData.splice(iArr[i], 1);\r\n        }\r\n        return arrData;\r\n    };\r\n\r\n    function bijiaoData(oldData, newData) {\r\n        var countNew = \"\";\r\n        var countDelete = \"\";\r\n        //判断哪些数据是消失的\r\n        for (var i = 0; i < oldData.length; i++) {\r\n            var isIn = inOldArr(newData, oldData[i].mac);\r\n            if (isIn == null) {\r\n                oldData[i].delete = true;\r\n                countDelete++;\r\n            } else {\r\n                oldData[i].delete = false;\r\n            }\r\n            oldData[i].isNew = false;\r\n        }\r\n        //判断哪些数据是新增的\r\n        for (var i = 0; i < newData.length; i++) {\r\n            newData[i].isNew = inNewArr(oldData, newData[i].mac);\r\n            if (newData[i].isNew) {\r\n                oldData.unshift(newData[i]); //往开头添加一个或者多个数组\r\n                countNew++;\r\n            }\r\n        }\r\n        oldData.countDelete = countDelete;\r\n        oldData.countNew = countNew;\r\n        return oldData;\r\n    }\r\n\r\n    var app = angular.module('BlurAdmin.pages.asset_tags');\r\n\r\n    /** @ngInject */\r\n    app.controller('assetTagsCtrl', ['$scope', '$interval', 'NgTableParams', '$timeout', 'httpService', '$uibModal', '$http', 'AuthTokenFactory', function ($scope, $interval, NgTableParams, $timeout, httpService, $uibModal, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n        vm.gatewaylist1 = [];\r\n        vm.gatewaylist2 = [];\r\n        vm.gatewaylist3 = [];\r\n        vm.gatewaylist4 = [];\r\n        vm.gateway1_value = \"\";\r\n        vm.gateway2_value = \"\";\r\n        vm.gateway3_value = \"\";\r\n        vm.gateway4_value = \"\";\r\n        vm.devicelist1 = [];\r\n        vm.devicelist2 = [];\r\n        vm.devicelist3 = [];\r\n        vm.devicelist4 = [];\r\n        vm.gateway1 = [];\r\n        vm.gateway2 = [];\r\n        vm.gateway3 = [];\r\n        vm.gateway4 = [];\r\n        vm.gateway1_old = [];\r\n        vm.gateway2_old = [];\r\n        vm.gateway3_old = [];\r\n        vm.gateway4_old = [];\r\n        vm.First1 = true;\r\n        vm.First2 = true;\r\n        vm.First3 = true;\r\n        vm.First4 = true;\r\n        vm.isFirst1 = true;\r\n        vm.isFirst2 = true;\r\n        vm.isFirst3 = true;\r\n        vm.isFirst4 = true;\r\n        vm.gatewayMsg = \"Select Gateway\";\r\n\r\n        var size = 100;\r\n        var page = 0;\r\n        var sort = \"\";\r\n        var token = AuthTokenFactory.getToken();\r\n\r\n        /**\r\n         * 初始化4个tableParams\r\n         * 获取网关列表以及每个网关所采集到的设备列表\r\n         */\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist1 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway1_value = vm.gatewaylist1[0];\r\n                    vm.tableParams1 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway1_value;\r\n                            // console.log(gatewayMac);\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway1 = resp.data;\r\n                                    if (!vm.isFirst1) {\r\n                                        vm.gateway1_old = removeOldData(vm.devicelist1);\r\n                                        vm.devicelist1 = bijiaoData(vm.gateway1_old, vm.gateway1);\r\n                                    }\r\n                                    if (vm.isFirst1) {\r\n                                        vm.devicelist1 = vm.gateway1;\r\n                                        vm.First1 = false;\r\n                                        vm.isFirst1 = false;\r\n                                    }\r\n                                    // console.log(vm.devicelist1);\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist1);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $(\"#gateway1_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway1_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway1_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway1_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist2 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway2_value = vm.gatewaylist2[0];\r\n                    vm.tableParams2 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway2_value;\r\n\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway2 = resp.data;\r\n                                    if (!vm.isFirst2) {\r\n                                        vm.gateway2_old = removeOldData(vm.devicelist2);\r\n                                        vm.devicelist2 = bijiaoData(vm.gateway2_old, vm.gateway2);\r\n                                    }\r\n                                    if (vm.isFirst2) {\r\n                                        vm.devicelist2 = vm.gateway2;\r\n                                        vm.isFirst2 = false;\r\n                                        vm.First2 = false;\r\n                                    }\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist2);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n\r\n        $(\"#gateway2_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway2_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway2_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway2_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist3 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway3_value = vm.gatewaylist3[0];\r\n                    vm.tableParams3 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway3_value;\r\n\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway3 = resp.data;\r\n                                    if (!vm.isFirst3) {\r\n                                        vm.gateway3_old = removeOldData(vm.devicelist3);\r\n                                        vm.devicelist3 = bijiaoData(vm.gateway3_old, vm.gateway3);\r\n                                    }\r\n                                    if (vm.isFirst3) {\r\n                                        vm.devicelist3 = vm.gateway3;\r\n                                        vm.isFirst3 = false;\r\n                                        vm.First3 = false;\r\n                                    }\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist3);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $(\"#gateway3_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway3_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway3_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway3_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gatewaylist4 = resp.data;\r\n                // console.log(resp);\r\n                if (resp.data.length > 0) {\r\n                    vm.gateway4_value = vm.gatewaylist4[0];\r\n                    vm.tableParams4 = new NgTableParams({\r\n                        page: 1,\r\n                        count: 1000\r\n                    }, {\r\n                        filterDelay: 300,\r\n                        counts: [],\r\n                        getData: function ($defer, params) {\r\n\r\n                            var filter = params.filter();\r\n                            var size = params.count();\r\n                            var page = params.page() - 1;\r\n                            var sort = \"\";\r\n                            var token = AuthTokenFactory.getToken();\r\n                            var gatewayMac = filter.gatewayMac;\r\n                            var timeRange = 1800;\r\n                            if (gatewayMac === undefined)\r\n                                gatewayMac = vm.gateway4_value;\r\n\r\n                            httpService.getDeviceByGatewayBytimeRange(page, size, sort, \"iBeacon\", gatewayMac.mac, timeRange, token)\r\n                                .success(function (resp) {\r\n                                    // console.log(resp.data);\r\n                                    vm.gateway4 = resp.data;\r\n                                    if (!vm.isFirst4) {\r\n                                        vm.gateway4_old = removeOldData(vm.devicelist4);\r\n                                        vm.devicelist4 = bijiaoData(vm.gateway4_old, vm.gateway4);\r\n                                        // console.log(vm.devicelist4);\r\n                                    }\r\n                                    if (vm.isFirst4) {\r\n                                        vm.devicelist4 = vm.gateway4;\r\n                                        vm.isFirst4 = false;\r\n                                        vm.First4 = false;\r\n                                    }\r\n                                    params.total(resp.totalItems);\r\n                                    $defer.resolve(vm.devicelist4);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                        }\r\n                    });\r\n                }\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $(\"#gateway4_new\").addClass(\"animated fadeInLeft wsl-new-title\");\r\n        $(\"#gateway4_delete\").addClass(\"animated fadeInLeft wsl-delete-title\");\r\n        // $timeout(function () {\r\n        //     $('#gateway4_new').removeAttr('class').attr('class', '');\r\n        //     $('#gateway4_delete').removeAttr('class').attr('class', '');\r\n        // }, 600);\r\n        function _init1() {\r\n            if (!vm.First1)\r\n                vm.tableParams1.reload();\r\n        };\r\n\r\n        function _init2() {\r\n            if (!vm.First2)\r\n                vm.tableParams2.reload();\r\n        };\r\n\r\n        function _init3() {\r\n            if (!vm.First3)\r\n                vm.tableParams3.reload();\r\n        };\r\n\r\n        function _init4() {\r\n            if (!vm.First4)\r\n                vm.tableParams4.reload();\r\n        };\r\n\r\n        vm.selectGateway1 = function (value) {\r\n            vm.gateway1_value = value;\r\n            vm.isFirst1 = true;\r\n            vm.tableParams1.filter({\r\n                gatawayMac: vm.gateway1_value\r\n            })\r\n        };\r\n\r\n        vm.selectGateway2 = function (value) {\r\n            vm.gateway2_value = value;\r\n            vm.isFirst2 = true;\r\n            vm.tableParams2.filter({\r\n                gatawayMac: vm.gateway2_value\r\n            })\r\n        };\r\n\r\n        vm.selectGateway3 = function (value) {\r\n            vm.gateway3_value = value;\r\n            vm.isFirst3 = true;\r\n            vm.tableParams3.filter({\r\n                gatawayMac: vm.gateway3_value\r\n            })\r\n        };\r\n\r\n        vm.selectGateway4 = function (value) {\r\n            vm.gateway4_value = value;\r\n            vm.isFirst4 = true;\r\n            vm.tableParams4.filter({\r\n                gatawayMac: vm.gateway4_value\r\n            })\r\n        };\r\n\r\n        $scope.sil1 = $interval(_init1, 5000);\r\n        $scope.sil2 = $interval(_init2, 5000);\r\n        $scope.sil3 = $interval(_init3, 5000);\r\n        $scope.sil4 = $interval(_init4, 5000);\r\n        // 在页面跳转时触发\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil1);\r\n            $interval.cancel($scope.sil2);\r\n            $interval.cancel($scope.sil3);\r\n            $interval.cancel($scope.sil4);\r\n        });\r\n\r\n    }]);\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    var app = angular.module('BlurAdmin.pages.dashboard');\r\n\r\n    /** @ngInject */\r\n    app.controller('DashboardCtrl', ['$scope', '$interval', 'NgTableParams', '$timeout', 'httpService', '$uibModal', '$http', 'AuthTokenFactory', function ($scope, $interval, NgTableParams, $timeout, httpService, $uibModal, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.servers_chart = {\r\n            totals: 2,\r\n            nows: 2\r\n        };\r\n        vm.messages_chart = {\r\n            totals: 23\r\n        };\r\n\r\n        vm.gateways_total = 0;\r\n        vm.devices_total = 0;\r\n        vm.GatewayList = {};\r\n        vm.DeviceList = {};\r\n\r\n        var token = AuthTokenFactory.getToken();\r\n        var page = \"\";\r\n        var size = \"\";\r\n        var sort = \"\";\r\n        /*\r\n         * 获取网关列表的总数\r\n         */\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gateways_total = resp.totalItems;\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n        \r\n        /*\r\n         * 获取设备列表的总数\r\n         */\r\n        httpService.getDeviceList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.devices_total = resp.totalItems;\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        /*\r\n         *在Statuses表中获取最新更新的网关以及设备信息\r\n         */\r\n        function _init() {\r\n\r\n            var size = 20;\r\n            var page = 0;\r\n            var sort = \"\";\r\n            var token = AuthTokenFactory.getToken();\r\n            var type = \"Gateway\";\r\n\r\n            httpService.getTypeStatus(page, size, sort, type, token)\r\n                .success(function (resp) {\r\n                    vm.GatewayList = resp.data;\r\n                    // console.log(vm.GatewayList);\r\n                }).error(function (resp, status) {\r\n                    console.log(resp);\r\n                    httpService.httpStatusCode(status);\r\n                });\r\n\r\n            var excludeType = \"Gateway\";\r\n            httpService.getDeviceStatus(page, size, sort, excludeType, token)\r\n                .success(function (resp) {\r\n                    vm.DeviceList = resp.data;\r\n                    // console.log(new Date(Date.parse(vm.DeviceList[0].updatedAt)));\r\n                }).error(function (resp, status) {\r\n                    console.log(resp);\r\n                    httpService.httpStatusCode(status);\r\n                });\r\n\r\n        };\r\n        _init();\r\n        /**\r\n         * 5s重新获取一次\r\n         */\r\n        $scope.sil = $interval(_init, 5000);\r\n        //在页面跳转时触发\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil);\r\n        });\r\n    }]);\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.device')\r\n        .controller('deviceCtrl', DeviceCtrl)\r\n        .controller('createDeviceCtrl', createDeviceCtrl)\r\n        .controller('editDeviceCtrl', editDeviceCtrl)\r\n        .controller('deleteDeviceCtrl', deleteDeviceCtrl);\r\n\r\n    function DeviceCtrl($scope, $filter, editableOptions, NgTableParams, editableThemes, $uibModal, httpService, AuthTokenFactory) {\r\n\r\n        var vm = this;\r\n\r\n        this.animationsEnabled = true;\r\n\r\n        vm.tableParams = new NgTableParams({\r\n            page: 1, // show first page\r\n            count: 10 // count per page\r\n        }, {\r\n            filterDelay: 300,\r\n            counts: [],\r\n            getData: function ($defer, params) {\r\n                // ajax request to api\r\n\r\n                var filter = params.filter();\r\n                // var term = filter.$;\r\n                // var sorting = params.sorting();\r\n                var size = params.count();\r\n                var page = params.page() - 1;\r\n                var sort = \"\";\r\n                // var order = \"\";\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.getDeviceList(page, size, sort, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        params.total(resp.totalItems);\r\n                        $defer.resolve(resp.data);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        });\r\n\r\n        $scope.openCreateModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/device/createDevice.html',\r\n                controller: 'createDeviceCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                $scope.result = result;\r\n                // console.log(result);\r\n                vm.tableParams.reload();\r\n            }, function () {\r\n                console.log('Modal dismissed at: ' + new Date());\r\n            });\r\n        };\r\n\r\n\r\n        $scope.openEditModel = function (item, size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/device/editDevice.html',\r\n                controller: 'editDeviceCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                $scope.result = result;\r\n                // console.log(result);\r\n                vm.tableParams.reload();\r\n            }, function () {\r\n                console.log('Modal dismissed at: ' + new Date());\r\n            });\r\n        };\r\n\r\n        $scope.openDeleteModel = function (item, size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/device/deleteDevice.html',\r\n                controller: 'deleteDeviceCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                $scope.result = result;\r\n                // console.log(result);\r\n                vm.tableParams.reload();\r\n            }, function () {\r\n                console.log('Modal dismissed at: ' + new Date());\r\n            });\r\n        };\r\n\r\n    }\r\n\r\n    /** @ngInject */\r\n    function createDeviceCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService) {\r\n        $scope.item = {};\r\n        $scope.type_list = [\"iBeacon\", \"Sensor\", \"Unknown\"];\r\n        if ($scope.select == \"Sensor\") {\r\n            $scope.item.type = \"S1\";\r\n        } else if ($scope.select == \"iBeacon\") {\r\n            $scope.item.type = \"iBeacon\";\r\n        } else {\r\n            $scope.item.type = \"Unknown\";\r\n        }\r\n\r\n\r\n        $scope.ok = function () {\r\n            if ($scope.item) {\r\n                var token = AuthTokenFactory.getToken();\r\n                $scope.item.mac = $scope.item.mac.toUpperCase();\r\n                if ($scope.select == \"Sensor\") {\r\n                    $scope.item.type = \"S1\";\r\n                } else if ($scope.select == \"iBeacon\") {\r\n                    $scope.item.type = \"iBeacon\";\r\n                } else {\r\n                    $scope.item.type = \"Unknown\";\r\n                }\r\n                httpService.addDevice($scope.item, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        $uibModalInstance.close(resp);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss('cancel');\r\n        };\r\n    }\r\n\r\n    function editDeviceCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n        var vm = this;\r\n        $scope.item = item;\r\n        $scope.type_list = [\"iBeacon\", \"Sensor\", \"Unknown\"];\r\n        if ($scope.item.type == \"S1\") {\r\n            $scope.item.type = \"Sensor\";\r\n        }\r\n        $scope.ok = function () {\r\n            if ($scope.item) {\r\n                var token = AuthTokenFactory.getToken();\r\n                if ($scope.item.type == \"Sensor\")\r\n                    $scope.item.type = \"S1\";\r\n                httpService.updateDevice($scope.item, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        $uibModalInstance.close(resp);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss('cancel');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function deleteDeviceCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n        var vm = this;\r\n        $scope.item = item;\r\n\r\n        $scope.ok = function () {\r\n            if ($scope.item) {\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.deleteDevice($scope.item.uuid, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        $uibModalInstance.close(resp);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.cancel = function () {\r\n            $uibModalInstance.dismiss('cancel');\r\n        };\r\n\r\n    }\r\n\r\n})();\n(function () {\r\n\t'use strict';\r\n\r\n\tangular.module('BlurAdmin.pages.gateway')\r\n\t\t.controller('gatewayCtrl', GatewayCtrl)\r\n\t\t.controller('createGatewayCtrl', createGatewayCtrl)\r\n\t\t.controller('editGatewayCtrl', editGatewayCtrl)\r\n\t\t.controller('deleteGatewayCtrl', deleteGatewayCtrl)\r\n\t\t.controller('rebootGatewayCtrl', rebootGatewayCtrl)\r\n\t\t.controller('OpenMsgCtrl',OpenMsgCtrl);\r\n\r\n\t/** @ngInject */\r\n\tfunction GatewayCtrl($scope, $filter, editableOptions, NgTableParams, editableThemes, $uibModal, httpService, AuthTokenFactory) {\r\n\r\n\t\tvar vm = this;\r\n\r\n\t\tthis.animationsEnabled = true;\r\n\r\n\t\tvm.tableParams = new NgTableParams({\r\n\t\t\tpage: 1, // show first page\r\n\t\t\tcount: 10 // count per page\r\n\t\t}, {\r\n\t\t\tfilterDelay: 300,\r\n\t\t\tcounts: [],\r\n\t\t\tgetData: function ($defer, params) {\r\n\t\t\t\t// ajax request to api\r\n\r\n\t\t\t\tvar filter = params.filter();\r\n\t\t\t\t// var term = filter.$;\r\n\t\t\t\t// var sorting = params.sorting();\r\n\t\t\t\tvar size = params.count();\r\n\t\t\t\tvar page = params.page() - 1;\r\n\t\t\t\tvar sort = \"\";\r\n\t\t\t\t// var order = \"\";\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.getGatewayList(page, size, sort, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\tparams.total(resp.totalItems);\r\n\t\t\t\t\t\t$defer.resolve(resp.data);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t$scope.openCreateModel = function (size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/createGateway.html',\r\n\t\t\t\tcontroller: 'createGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn $scope.item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tif(result.status === 404){\r\n\t\t\t\t\t$scope.item = result.message;\r\n\t\t\t\t\topenMsgModel('sm');\r\n\t\t\t\t}\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.openEditModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/editGateway.html',\r\n\t\t\t\tcontroller: 'editGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.openDeleteModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/deleteGateway.html',\r\n\t\t\t\tcontroller: 'deleteGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.openRebootModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/gateway/rebootGateway.html',\r\n\t\t\t\tcontroller: 'rebootGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams.reload();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$scope.toggleAnimation = function () {\r\n\t\t\t$scope.animationsEnabled = !$scope.animationsEnabled;\r\n\t\t};\r\n\r\n\t\tvar openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/gateway/msg.html',\r\n                controller: 'OpenMsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction createGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService) {\r\n\t\t$scope.item = {};\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\t\t\t\t$scope.item.status = \"Offline\";\r\n\t\t\t\t$scope.item.mac = $scope.item.mac.toUpperCase();\r\n\r\n\t\t\t\thttpService.addGateway($scope.item, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction editGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.updateGateway($scope.item, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction deleteGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.deleteGateway($scope.item.uuid, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t/** @ngInject */\r\n\tfunction rebootGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.addOperation($scope.item.uuid, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n\tfunction OpenMsgCtrl($scope, $uibModalInstance){\r\n\t\t$scope.data = item;\r\n\t}\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    Date.prototype.format = function (format) {\r\n        var date = {\r\n            \"M+\": this.getMonth() + 1,\r\n            \"d+\": this.getDate(),\r\n            \"h+\": this.getHours(),\r\n            \"m+\": this.getMinutes(),\r\n            \"s+\": this.getSeconds(),\r\n            \"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n            \"S+\": this.getMilliseconds()\r\n        };\r\n        if (/(y+)/i.test(format)) {\r\n            format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        for (var k in date) {\r\n            if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                format = format.replace(RegExp.$1, RegExp.$1.length == 1 ?\r\n                    date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    angular.module('BlurAdmin.pages.ibeacons')\r\n        .controller('ibeaconCtrl', iBeaconCtrl);\r\n\r\n    /** @ngInject */\r\n    function iBeaconCtrl($scope, $echarts, $interval, $timeout, NgTableParams, $filter, httpService, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.gateway = [];\r\n        vm.sensor = [];\r\n        vm.sensor_th = \"\";\r\n\r\n        vm.th_line = {};\r\n\r\n        vm.th_data = null;\r\n\r\n        vm.startTime = 60 * 2;\r\n        // vm.startTime = 10;\r\n        vm.endTime = 0;\r\n\r\n        vm.tableParamsGateway = new NgTableParams({\r\n            page: 1,\r\n            count: 100\r\n        }, {\r\n            filterDelay: 300,\r\n            counts: [],\r\n            getData: function ($defer, params) {\r\n\r\n                var filter = params.filter();\r\n                var size = params.count();\r\n                var page = params.page() - 1;\r\n                var sort = \"\";\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.getGatewayList(page, size, sort, token)\r\n                    .success(function (resp) {\r\n                        if (resp.data.length > 0) {\r\n                            vm.gateway = resp.data[0];\r\n                            resp.data[0].selected = true;\r\n\r\n                            vm.tableParamsSensor = new NgTableParams({\r\n                                page: 1,\r\n                                count: 100\r\n                            }, {\r\n                                filterDelay: 300,\r\n                                counts: [],\r\n                                getData: function ($defer, params) {\r\n                                    var filter = params.filter();\r\n                                    var gatewayMac = filter.gatewayMac;\r\n                                    var size = params.count();\r\n                                    var page = params.page() - 1;\r\n                                    var sort = \"\";\r\n                                    var token = AuthTokenFactory.getToken();\r\n                                    if (gatewayMac === undefined)\r\n                                        gatewayMac = vm.gateway.mac;\r\n\r\n                                    httpService.getSensor(page, size, sort, 'iBeacon', gatewayMac, token)\r\n                                        .success(function (resp) {\r\n                                            // console.log(resp);\r\n                                            if (resp.data.length > 0) {\r\n                                                vm.sensor = resp.data[0];\r\n                                                resp.data[0].selected = true;\r\n                                                loadTH_lineData();\r\n                                            } else {\r\n                                                vm.sensor = [];\r\n                                                loadTH_lineData();\r\n                                            }\r\n                                            params.total(resp.totalItems);\r\n                                            $defer.resolve(resp.data);\r\n                                        }).error(function (resp, status) {\r\n                                            console.log(resp);\r\n                                            httpService.httpStatusCode(status);\r\n                                        });\r\n                                }\r\n                            });\r\n                        }\r\n                        params.total(resp.totalItems);\r\n                        $defer.resolve(resp.data);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        });\r\n        //选择时间\r\n        vm.selectTime = function ($event, t) {\r\n            // console.log(Date.parse());\r\n            var div = $event.target.parentElement.parentElement,\r\n                children = div.children,\r\n                a_s = [];\r\n            for (var i = 0; i < children.length; i++) {\r\n                a_s.push(children[i].children[0]);\r\n                $(children[i].children[0]).addClass(\"wsl-label-default-color\");\r\n                $(children[i].children[0]).removeClass(\"wsl-label-active-color\");\r\n            }\r\n\r\n            $($event.target).removeClass(\"wsl-label-default-color\");\r\n            $($event.target).addClass(\"wsl-label-active-color\");\r\n\r\n            var oneDayTime = 24 * 60 * 60;\r\n            var nowTime = Math.floor(new Date().getTime() / 1000);\r\n            switch (t) {\r\n                case 1:\r\n                    vm.startTime = 10;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 2:\r\n                    vm.startTime = 60 * 2;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 3:\r\n                    vm.startTime = 60 * 60;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 4:\r\n                    vm.startTime = nowTime - Math.floor(Date.parse(new Date(new Date().format('yyyy/MM/dd'))) / 1000);\r\n                    vm.endTime = 0;\r\n                    break;\r\n            }\r\n            loadTH_lineData();\r\n        }\r\n        //选择网关\r\n        vm.selectGateway = function (item, $data) {\r\n            vm.gateway = item;\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n\r\n            vm.tableParamsSensor.filter({\r\n                gatewayMac: vm.gateway.mac\r\n            });\r\n        }\r\n        //选择设备传感器\r\n        vm.selectiBeacon = function (item, $data) {\r\n            vm.sensor = item;\r\n\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n            loadTH_lineData();\r\n        }\r\n\r\n        vm.th_line = {\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                formatter: function (params, ticket, callback) {\r\n                    var param = params[0];\r\n                    var name = param.seriesName;\r\n                    var value = param.value;\r\n                    //鼠标显示的数据\r\n                    return name + '<br/>' + 'Time : ' + $filter('date')(new Date(value[0]), 'yyyy-MM-dd HH:mm:ss') + '<br/>' + 'Value : ' + value[1];\r\n                }\r\n            },\r\n            grid: [{\r\n                    x: 45,\r\n                    y: 5,\r\n                    width: '95%',\r\n                    height: '92%'\r\n                }\r\n            ],\r\n            xAxis: [\r\n                {\r\n                    gridIndex: 0,\r\n                    type: 'time',\r\n                    splitLine: {\r\n                        show: false\r\n                    }\r\n                }\r\n            ],\r\n            yAxis: [\r\n                {\r\n                    gridIndex: 0,\r\n                    scale: true,\r\n                    interval: 5,\r\n                    max: -10,\r\n                    min: -100,\r\n                    type: 'value',\r\n                    boundaryGap: [0, '100%'],\r\n                    splitLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            // 使用深浅的间隔色\r\n                            type: 'dashed',\r\n                            color: 'rgba(255,255,255,0.24)'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: function (value, index) {\r\n                            // 格式化成月/日，只在第一个刻度显示年份\r\n                            return value.toFixed(1);\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            series: [{\r\n                    xAxisIndex: 0,\r\n                    yAxisIndex: 0,\r\n                    name: 'Rssi',\r\n                    type: 'line',\r\n                    showSymbol: false,\r\n                    animation: false, // 关闭动画\r\n                    hoverAnimation: false,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(30,144,255,0.8)'\r\n                        } // 自定义线条颜色\r\n                    },\r\n                    data: []\r\n                }\r\n            ]\r\n        };\r\n\r\n        $scope.LINE_2 = echarts.init(document.getElementById('LINE_2'));\r\n        //初始化，颜色为灰色\r\n        $scope.LINE_2.setOption(vm.th_line);\r\n\r\n        function setTH_line(data) {\r\n            // console.log(data);\r\n            if (!data) {\r\n                $scope.LINE_2.setOption({\r\n                    series: [{\r\n                        data: []\r\n                    }]\r\n                });\r\n            } else {\r\n                var Values = data[0].values;\r\n                var k = Values.length;\r\n                var t_line = [];\r\n                var h_line = [];\r\n                for (var i = 0; i < k; i++) {\r\n                    var value = Values[i];\r\n                    var time = value[0],\r\n                        t = value[1],\r\n                        h = value[2];\r\n\r\n                    if (t != null) {\r\n                        t = t.toFixed(2);\r\n                        t_line.push({\r\n                            name: \"battery\",\r\n                            value: [time, t]\r\n                        });\r\n                    }\r\n                    if (h != null) {\r\n                        h = h.toFixed(2);\r\n                        h_line.push({\r\n                            name: \"rssi\",\r\n                            value: [time, h]\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n                var arrAll = [];\r\n                arrAll['t_line'] = t_line;\r\n                arrAll['h_line'] = h_line;\r\n                // console.log(arrAll);\r\n                $scope.LINE_2.setOption({\r\n                    series: [{\r\n                        data: arrAll[\"h_line\"]\r\n                    }]\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n\r\n        $scope.sil1 = null;\r\n        $scope.sil2 = null;\r\n\r\n        var loadTH_lineData = function () {\r\n            if (vm.sensor.mac) {\r\n                var token = AuthTokenFactory.getToken();\r\n                httpService.getMinewdbData2(vm.gateway.mac, vm.sensor.mac, vm.startTime, vm.endTime, token)\r\n                    .success(function (resp) {\r\n                        console.log(resp);\r\n                        if (resp.data[0].series != null) {\r\n                            vm.th_data = resp.data[0].series;\r\n                            setTH_line(vm.th_data);\r\n                        } else {\r\n                            vm.th_data = null;\r\n                            setTH_line(vm.th_data);\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            } else {\r\n                vm.th_data = null;\r\n                setTH_line(vm.th_data);\r\n            }\r\n\r\n        };\r\n\r\n        $scope.sil2 = $interval(loadTH_lineData, 1 * 1000);\r\n\r\n        window.onresize = function () { //当窗口大小变化时\r\n            $scope.LINE_2.resize();\r\n        };\r\n\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil1);\r\n            $interval.cancel($scope.sil2);\r\n        });\r\n\r\n    }\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    function analysisGaugeData(serie) {\r\n        var t_gauge = {};\r\n        var h_gauge = {};\r\n        if (serie) {\r\n            var t = serie.temperature;\r\n            var h = serie.humidity;\r\n\r\n            if (t != null) t = t.toFixed(2); //四舍五入，保留两位小数\r\n            if (h != null) h = h.toFixed(2);\r\n            if (t != null && h != null) {\r\n                t_gauge = t;\r\n                h_gauge = h;\r\n            }\r\n        }\r\n\r\n        var arrAll = [];\r\n        arrAll['t_gauge'] = t_gauge;\r\n        arrAll['h_gauge'] = h_gauge;\r\n        return arrAll;\r\n    };\r\n\r\n    Date.prototype.format = function (format) {\r\n        var date = {\r\n            \"M+\": this.getMonth() + 1,\r\n            \"d+\": this.getDate(),\r\n            \"h+\": this.getHours(),\r\n            \"m+\": this.getMinutes(),\r\n            \"s+\": this.getSeconds(),\r\n            \"q+\": Math.floor((this.getMonth() + 3) / 3),\r\n            \"S+\": this.getMilliseconds()\r\n        };\r\n        if (/(y+)/i.test(format)) {\r\n            format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        for (var k in date) {\r\n            if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                format = format.replace(RegExp.$1, RegExp.$1.length == 1 ?\r\n                    date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    angular.module('BlurAdmin.pages.sensors')\r\n        .controller('sensorsCtrl', SensorsCtrl);\r\n\r\n    /** @ngInject */\r\n    function SensorsCtrl($scope, $echarts, $interval, $timeout, NgTableParams, $filter, httpService, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.gateway = [];\r\n        vm.sensor = [];\r\n        vm.sensor_th = \"\";\r\n\r\n        vm.t_gauge = {};\r\n        vm.h_gauge = {};\r\n        vm.th_line = {};\r\n\r\n        vm.th_data = null;\r\n\r\n        vm.startTime = 60 * 60;\r\n        vm.endTime = 0;\r\n\r\n        vm.tableParamsGateway = new NgTableParams({\r\n            page: 1,\r\n            count: 100\r\n        }, {\r\n            filterDelay: 300,\r\n            counts: [],\r\n            getData: function ($defer, params) {\r\n\r\n                var filter = params.filter();\r\n                var size = params.count();\r\n                var page = params.page() - 1;\r\n                var sort = \"\";\r\n                var token = AuthTokenFactory.getToken();\r\n\r\n                httpService.getGatewayList(page, size, sort, token)\r\n                    .success(function (resp) {\r\n                        if (resp.data.length > 0) {\r\n                            vm.gateway = resp.data[0];\r\n                            resp.data[0].selected = true;\r\n\r\n                            vm.tableParamsSensor = new NgTableParams({\r\n                                page: 1,\r\n                                count: 100\r\n                            }, {\r\n                                filterDelay: 300,\r\n                                counts: [],\r\n                                getData: function ($defer, params) {\r\n                                    var filter = params.filter();\r\n                                    var gatewayMac = filter.gatewayMac;\r\n                                    var size = params.count();\r\n                                    var page = params.page() - 1;\r\n                                    var sort = \"\";\r\n                                    var token = AuthTokenFactory.getToken();\r\n                                    if (gatewayMac === undefined)\r\n                                        gatewayMac = vm.gateway.mac;\r\n\r\n                                    httpService.getSensor(page, size, sort, 'S1', gatewayMac, token)\r\n                                        .success(function (resp) {\r\n                                            // console.log(resp);\r\n                                            if (resp.data.length > 0) {\r\n                                                vm.sensor = resp.data[0];\r\n                                                resp.data[0].selected = true;\r\n                                                loadGaugeData();\r\n                                                loadTH_lineData();\r\n                                            } else {\r\n                                                vm.sensor = [];\r\n                                                loadGaugeData();\r\n                                                loadTH_lineData();\r\n                                            }\r\n                                            params.total(resp.totalItems);\r\n                                            $defer.resolve(resp.data);\r\n                                        }).error(function (resp, status) {\r\n                                            console.log(resp);\r\n                                            httpService.httpStatusCode(status);\r\n                                        });\r\n                                }\r\n                            });\r\n                        } \r\n                        params.total(resp.totalItems);\r\n                        $defer.resolve(resp.data);\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        });\r\n        //选择时间\r\n        vm.selectTime = function ($event, t) {\r\n            // console.log(Date.parse());\r\n            var div = $event.target.parentElement.parentElement,\r\n                children = div.children,\r\n                a_s = [];\r\n            for (var i = 0; i < children.length; i++) {\r\n                a_s.push(children[i].children[0]);\r\n                $(children[i].children[0]).addClass(\"wsl-label-default-color\");\r\n                $(children[i].children[0]).removeClass(\"wsl-label-active-color\");\r\n            }\r\n\r\n            $($event.target).removeClass(\"wsl-label-default-color\");\r\n            $($event.target).addClass(\"wsl-label-active-color\");\r\n\r\n            var oneDayTime = 24 * 60 * 60;\r\n            var nowTime = Math.floor(new Date().getTime() / 1000);\r\n            switch (t) {\r\n                case 1:\r\n                    vm.startTime = 60 * 60;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 2:\r\n                    vm.startTime = nowTime - Math.floor(Date.parse(new Date(new Date().format('yyyy/MM/dd'))) / 1000);\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 3:\r\n                    vm.startTime = 2 * oneDayTime;\r\n                    vm.endTime = oneDayTime;\r\n                    break;\r\n                case 4:\r\n                    vm.startTime = 7 * oneDayTime;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 5:\r\n                    vm.startTime = 14 * oneDayTime;\r\n                    vm.endTime = 0;\r\n                    break;\r\n                case 6:\r\n                    vm.startTime = 30 * oneDayTime;\r\n                    vm.endTime = 0;\r\n                    break;\r\n            }\r\n            $('input[name=\"datefilter\"]').val('yyyy-mm-dd to yyyy-mm-dd');\r\n            loadTH_lineData();\r\n        }\r\n        //选择网关\r\n        vm.selectGateway = function (item, $data) {\r\n            vm.gateway = item;\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n\r\n            vm.tableParamsSensor.filter({\r\n                gatewayMac: vm.gateway.mac\r\n            });\r\n        }\r\n        //选择设备传感器\r\n        vm.selectSensor = function (item, $data) {\r\n            vm.sensor = item;\r\n\r\n            angular.forEach($data, function (data) {\r\n                data.selected = false;\r\n                if (data.uuid == item.uuid) {\r\n                    data.selected = true;\r\n                }\r\n            });\r\n            loadGaugeData();\r\n            loadTH_lineData();\r\n        }\r\n\r\n        // 指定图表的配置项和数据\r\n        vm.t_gauge = {\r\n            tooltip: {\r\n                formatter: \"{a} <br/>{c} {b}\"\r\n            },\r\n            // toolbox: {\r\n            //     show: true,\r\n            //     feature: {\r\n            //         mark: {\r\n            //             show: true\r\n            //         },\r\n            //         restore: {\r\n            //             show: true\r\n            //         },\r\n            //         saveAsImage: {\r\n            //             show: true\r\n            //         }\r\n            //     }\r\n            // },\r\n            dataLoaded: true,\r\n            series: [{\r\n                name: 'Temperature',\r\n                type: 'gauge',\r\n                min: -40,\r\n                max: 80,\r\n                splitNumber: 10,\r\n                radius: '95%',\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: [\r\n                            // [0.09, 'lime'],\r\n                            // [0.82, '#1e90ff'],\r\n                            // [1, '#ff4500']\r\n                            [0.09, 'rgba(255, 255, 255, 0.54)'],\r\n                            [0.82, 'rgba(255, 255, 255, 0.54)'],\r\n                            [1, 'rgba(255, 255, 255, 0.54)']\r\n                        ],\r\n                        width: 3,\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisLabel: { // 坐标轴小标记\r\n                    textStyle: { // 属性lineStyle控制线条样式\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    length: 15, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: 25, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        width: 3,\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                pointer: { // 分隔线\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 5\r\n                },\r\n                title: {\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        fontSize: 20,\r\n                        fontStyle: 'italic',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                detail: {\r\n                    width: 70,\r\n                    height: 35,\r\n                    // backgroundColor: 'rgba(30,144,255,0.8)',\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.54)',\r\n                    borderWidth: 0.5,\r\n                    borderColor: '#fff',\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 2.5,\r\n                    offsetCenter: [0, '80%'], // x, y，单位px\r\n                    formatter: function (value) {\r\n                        return value.toFixed(2) + \"°C\";\r\n                    },\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        fontSize: 16\r\n                    }\r\n                },\r\n                data: [{\r\n                    value: 0,\r\n                    name: '°C'\r\n                }]\r\n            }]\r\n        };\r\n\r\n        vm.h_gauge = {\r\n            tooltip: {\r\n                formatter: \"{a} <br/>{c} {b}\"\r\n            },\r\n            series: [{\r\n                name: 'Humidity',\r\n                type: 'gauge',\r\n                min: 0,\r\n                max: 100,\r\n                splitNumber: 10,\r\n                radius: '95%',\r\n                axisLine: { // 坐标轴线\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: [\r\n                            // [0.09, 'lime'],\r\n                            // [0.82, '#1e90ff'],\r\n                            // [1, '#ff4500']\r\n                            [0.09, 'rgba(255, 255, 255, 0.54)'],\r\n                            [0.82, 'rgba(255, 255, 255, 0.54)'],\r\n                            [1, 'rgba(255, 255, 255, 0.54)']\r\n                        ],\r\n                        width: 3,\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisLabel: { // 坐标轴小标记\r\n                    textStyle: { // 属性lineStyle控制线条样式\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                axisTick: { // 坐标轴小标记\r\n                    length: 15, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle控制线条样式\r\n                        color: 'auto',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                splitLine: { // 分隔线\r\n                    length: 25, // 属性length控制线长\r\n                    lineStyle: { // 属性lineStyle（详见lineStyle）控制线条样式\r\n                        width: 3,\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                pointer: { // 分隔线\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 5\r\n                },\r\n                title: {\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        fontSize: 20,\r\n                        fontStyle: 'italic',\r\n                        color: '#fff',\r\n                        shadowColor: '#fff', //默认透明\r\n                        shadowBlur: 10\r\n                    }\r\n                },\r\n                detail: {\r\n                    width: 70,\r\n                    height: 35,\r\n                    // backgroundColor: '#FBA92F',\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.54)',\r\n                    borderWidth: 0.5,\r\n                    borderColor: '#fff',\r\n                    shadowColor: '#fff', //默认透明\r\n                    shadowBlur: 2.5,\r\n                    offsetCenter: [0, '80%'], // x, y，单位px\r\n                    formatter: function (value) {\r\n                        return value.toFixed(2) + \"%\";\r\n                    },\r\n                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE\r\n                        fontWeight: 'bolder',\r\n                        color: '#fff',\r\n                        fontSize: 16\r\n                    }\r\n                },\r\n                data: [{\r\n                    value: 0,\r\n                    name: '%RH'\r\n                }]\r\n            }]\r\n        };\r\n\r\n        vm.th_line = {\r\n            // title: {\r\n            //     text: 'Temperature and humidity sensor',\r\n            //     textAlign:'center',\r\n            //     top:12,\r\n            //     left:'40%',\r\n            //     textStyle:{\r\n            //         color:'#fff'\r\n            //     }\r\n            // },\r\n            textStyle: {\r\n                color: \"#fff\"\r\n            },\r\n            // toolbox: {\r\n            //     show: true,\r\n            //     feature: {\r\n            //         mark: {\r\n            //             show: true\r\n            //         },\r\n            //         restore: {\r\n            //             show: true\r\n            //         },\r\n            //         saveAsImage: {\r\n            //             show: true\r\n            //         }\r\n            //     }\r\n            // },\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                formatter: function (params, ticket, callback) {\r\n                    var param = params[0];\r\n                    var name = param.seriesName;\r\n                    var value = param.value;\r\n                    //鼠标显示的数据\r\n                    return name + '<br/>' + 'Time : ' + $filter('date')(new Date(value[0]), 'yyyy-MM-dd HH:mm:ss') + '<br/>' + 'Value : ' + value[1];\r\n                }\r\n            },\r\n            grid: [{\r\n                    x: 38,\r\n                    y: 0,\r\n                    width: '92%',\r\n                    height: '40%'\r\n                },\r\n                {\r\n                    x: 38,\r\n                    y: '50%',\r\n                    width: '92%',\r\n                    height: '40%'\r\n                },\r\n            ],\r\n            xAxis: [{\r\n                    show: false,\r\n                    gridIndex: 0,\r\n                    splitNumber: 10,\r\n                    type: 'time',\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: function (value, index) {\r\n                            // 格式化成月/日，只在第一个刻度显示年份\r\n                            // var date = new Date(value);\r\n                            // console.log(date);\r\n                            // var texts = [(date.getMonth() + 1), date.getDate()];\r\n                            // if (index === 0) {\r\n                            //     texts.unshift(date.getYear());\r\n                            // }\r\n                            // return texts.join('/');\r\n                            return \"wsl \";\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    gridIndex: 1,\r\n                    type: 'time',\r\n                    splitLine: {\r\n                        show: false\r\n                    }\r\n                }\r\n            ],\r\n            yAxis: [{\r\n                    gridIndex: 0,\r\n                    // scale:true,\r\n                    type: 'value',\r\n                    boundaryGap: [0, '100%'],\r\n                    splitLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            // 使用深浅的间隔色\r\n                            type: 'dashed',\r\n                            color: 'rgba(255,255,255,0.24)'\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    gridIndex: 1,\r\n                    scale: true,\r\n                    type: 'value',\r\n                    boundaryGap: [0, '100%'],\r\n                    splitLine: {\r\n                        show: true,\r\n                        lineStyle: {\r\n                            // 使用深浅的间隔色\r\n                            type: 'dashed',\r\n                            color: 'rgba(255,255,255,0.24)'\r\n                        }\r\n                    },\r\n                    axisLabel: {\r\n                        formatter: function (value, index) {\r\n                            // 格式化成月/日，只在第一个刻度显示年份\r\n                            return value.toFixed(1);\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            series: [{\r\n                    xAxisIndex: 0,\r\n                    yAxisIndex: 0,\r\n                    name: 'Temperature',\r\n                    type: 'line',\r\n                    showSymbol: false,\r\n                    animation: false, // 关闭动画\r\n                    hoverAnimation: false,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: 'rgba(30,144,255,0.8)'\r\n                        } // 自定义线条颜色\r\n                    },\r\n                    data: []\r\n                },\r\n                {\r\n                    xAxisIndex: 1,\r\n                    yAxisIndex: 1,\r\n                    name: 'Humidity',\r\n                    type: 'line',\r\n                    showSymbol: false,\r\n                    animation: false, // 关闭动画\r\n                    hoverAnimation: false,\r\n                    itemStyle: {\r\n                        normal: {\r\n                            color: '#FBA92F'\r\n                        } // 自定义线条颜色\r\n                    },\r\n                    data: []\r\n                }\r\n            ]\r\n        };\r\n\r\n        $scope.GAUGE_1 = echarts.init(document.getElementById(\"GAUGE_1\"));\r\n        $scope.GAUGE_2 = echarts.init(document.getElementById(\"GAUGE_2\"));\r\n        $scope.LINE_1 = echarts.init(document.getElementById('LINE_1'));\r\n        if (window.innerWidth <= 1024) {\r\n            vm.t_gauge.series[0].title.textStyle.fontSize = 15;\r\n            vm.h_gauge.series[0].title.textStyle.fontSize = 14;\r\n        }\r\n        //初始化，颜色为灰色\r\n        $scope.LINE_1.setOption(vm.th_line);\r\n        $scope.GAUGE_1.setOption(vm.t_gauge);\r\n        $scope.GAUGE_2.setOption(vm.h_gauge);\r\n\r\n        function setChart(allData) {\r\n            if (!angular.equals({}, allData[\"t_gauge\"])) {\r\n                vm.t_gauge.series[0].data[0].value = allData[\"t_gauge\"];\r\n                //设置有数据的指针仪表盘颜色\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[0][1] = \"lime\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[1][1] = \"#1e90ff\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[2][1] = \"#ff4500\";\r\n                vm.t_gauge.series[0].detail.backgroundColor = \"rgba(30,144,255,0.8)\";\r\n\r\n                $scope.GAUGE_1.setOption(vm.t_gauge);\r\n            }\r\n            if (angular.equals({}, allData[\"t_gauge\"])) {\r\n                vm.t_gauge.series[0].data[0].value = 0;\r\n                //重置\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[0][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[1][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.t_gauge.series[0].axisLine.lineStyle.color[2][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.t_gauge.series[0].detail.backgroundColor = \"rgba(255, 255, 255, 0.54)\";\r\n\r\n                $scope.GAUGE_1.setOption(vm.t_gauge);\r\n            }\r\n            if (!angular.equals({}, allData[\"h_gauge\"])) {\r\n                vm.h_gauge.series[0].data[0].value = allData[\"h_gauge\"];\r\n                //设置有数据的指针仪表盘颜色\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[0][1] = \"lime\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[1][1] = \"#1e90ff\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[2][1] = \"#ff4500\";\r\n                vm.h_gauge.series[0].detail.backgroundColor = \"#FBA92F\";\r\n\r\n                $scope.GAUGE_2.setOption(vm.h_gauge);\r\n            }\r\n            if (angular.equals({}, allData[\"h_gauge\"])) {\r\n                vm.h_gauge.series[0].data[0].value = 0;\r\n                //重置\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[0][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[1][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.h_gauge.series[0].axisLine.lineStyle.color[2][1] = \"rgba(255, 255, 255, 0.54)\";\r\n                vm.h_gauge.series[0].detail.backgroundColor = \"rgba(255, 255, 255, 0.54)\";\r\n\r\n                $scope.GAUGE_2.setOption(vm.h_gauge);\r\n            }\r\n        }\r\n\r\n        function setTH_line(data) {\r\n            // console.log(data);\r\n            if (!data) {\r\n                $scope.LINE_1.setOption({\r\n                    series: [{\r\n                        data: []\r\n                    }, {\r\n                        data: []\r\n                    }]\r\n                });\r\n            } else {\r\n                var Values = data[0].values;\r\n                var k = Values.length;\r\n                var t_line = [];\r\n                var h_line = [];\r\n                for (var i = 0; i < k; i++) {\r\n                    var value = Values[i];\r\n                    var time = value[0],\r\n                        t = value[1],\r\n                        h = value[2];\r\n\r\n                    if (t != null) {\r\n                        t = t.toFixed(2);\r\n                        t_line.push({\r\n                            name: \"temperature\",\r\n                            value: [time, t]\r\n                        });\r\n                    }\r\n                    if (h != null) {\r\n                        h = h.toFixed(2);\r\n                        h_line.push({\r\n                            name: \"humidity\",\r\n                            value: [time, h]\r\n                        });\r\n                    }\r\n                    \r\n                }\r\n\r\n                var arrAll = [];\r\n                arrAll['t_line'] = t_line;\r\n                arrAll['h_line'] = h_line;\r\n                // console.log(arrAll);\r\n                $scope.LINE_1.setOption({\r\n                    series: [{\r\n                        data: arrAll[\"t_line\"]\r\n                    }, {\r\n                        data: arrAll[\"h_line\"]\r\n                    }]\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n \r\n        $scope.sil1 = null;\r\n        $scope.sil2 = null;\r\n        var loadGaugeData = function () {\r\n            var page = 0;\r\n            var size = 100;\r\n            var sort = \"\";\r\n            var token = AuthTokenFactory.getToken();\r\n            if (vm.sensor.mac) {\r\n                httpService.getOneSensor(page, size, sort, 'S1', vm.gateway.mac, vm.sensor.mac, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        if (resp.data.length > 0) {\r\n                            vm.sensor_th = resp.data[0];\r\n                            var allData = analysisGaugeData(vm.sensor_th);\r\n                            setChart(allData);\r\n                        } else {\r\n                            vm.sensor_th = \"\";\r\n                            var allData = analysisGaugeData(vm.sensor_th);\r\n                            setChart(allData);\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            } else {\r\n                vm.sensor_th = \"\";\r\n                var allData = analysisGaugeData(vm.sensor_th);\r\n                setChart(allData);\r\n            }\r\n\r\n        };\r\n\r\n        var loadTH_lineData = function () {\r\n            if (vm.sensor.mac) {\r\n                var token = AuthTokenFactory.getToken();\r\n                httpService.getMinewdbData(vm.gateway.mac, vm.sensor.mac, vm.startTime, vm.endTime, token)\r\n                    .success(function (resp) {\r\n                        // console.log(resp);\r\n                        if (resp.data[0].series != null) {\r\n                            vm.th_data = resp.data[0].series;\r\n                            setTH_line(vm.th_data);\r\n                        } else {\r\n                            vm.th_data = null;\r\n                            setTH_line(vm.th_data);\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            } else {\r\n                vm.th_data = null;\r\n                setTH_line(vm.th_data);\r\n            }\r\n\r\n        };\r\n\r\n        $scope.sil1 = $interval(loadGaugeData, 5 * 1000);\r\n        $scope.sil2 = $interval(loadTH_lineData, 5 * 1000);\r\n\r\n        window.onresize = function () { //当窗口大小变化时\r\n            $scope.LINE_1.resize();\r\n            $scope.GAUGE_1.resize();\r\n            $scope.GAUGE_2.resize();\r\n        };\r\n\r\n        /* 时间日历控件 */\r\n        $('input[name=\"datefilter\"]').daterangepicker({\r\n            autoUpdateInput: false,\r\n            cancelClass: '',\r\n            locale: {\r\n                cancelLabel: 'Clear'\r\n            }\r\n        });\r\n        /* apply */\r\n        $('input[name=\"datefilter\"]').on('apply.daterangepicker', function (ev, picker) {\r\n            // console.log(picker.startDate._d);\r\n            // console.log(picker.endDate._d);\r\n            var nowTime = Math.floor(new Date().getTime() / 1000);\r\n            vm.startTime = nowTime - (Math.floor(Date.parse(new Date(picker.startDate.format('MM/DD/YYYY'))) / 1000) - 1);\r\n            vm.endTime = nowTime - (Math.floor(Date.parse(new Date(picker.endDate.format('MM/DD/YYYY'))) / 1000) + 86400);\r\n            $(this).val(picker.startDate.format('MM/DD/YYYY') + ' to ' + picker.endDate.format('MM/DD/YYYY'));\r\n            $(this).removeClass('wsl-input');\r\n            var div = $('#selectTime').find(\"a\");\r\n            for (var i = 0; i < div.length; i++) {\r\n                $(div[i]).addClass(\"wsl-label-default-color\");\r\n                $(div[i]).removeClass(\"wsl-label-active-color\");\r\n            }\r\n\r\n            loadTH_lineData();\r\n        });\r\n        /* clear */\r\n        $('input[name=\"datefilter\"]').on('cancel.daterangepicker', function (ev, picker) {\r\n            $(this).val('yyyy-mm-dd to yyyy-mm-dd');\r\n        });\r\n\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil1);\r\n            $interval.cancel($scope.sil2);\r\n        });\r\n\r\n    }\r\n})();\n/**\r\n * @author wsl\r\n * created on 2017-04-26\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.alldevice')\r\n        .controller('statusCtrl', StatusCtrl);\r\n\r\n    var app = angular.module('BlurAdmin.pages.alldevice');\r\n\r\n    app.filter('unique', function () {\r\n        return function (collection, keyname) {\r\n            var output = [],\r\n                keys = [];\r\n            angular.forEach(collection, function (item) {\r\n                var key = item[keyname];\r\n                if (keys.indexOf(key) === -1) {\r\n                    keys.push(key);\r\n                    output.push(item);\r\n                }\r\n            });\r\n            return output;\r\n        };\r\n    });\r\n\r\n    /** @ngInject */\r\n    function StatusCtrl($scope, $echarts, $interval, $timeout, NgTableParams, $filter, httpService, $http, AuthTokenFactory) {\r\n        var vm = this;\r\n\r\n        vm.gateway_list = [];\r\n        vm.device_list = [];\r\n        vm.gateway_value = \"Select Gateway\";\r\n        vm.deviceTypeName = \"iBeacon\"\r\n        vm.device_value = \"Select Device\"\r\n        // vm.tableParamsGateway = {};\r\n        // vm.tableParamsDevice = {};\r\n        // vm.tableParams = {};\r\n        vm.deviceTypeValue = \"iBeacon\";\r\n        vm.tableParams = new NgTableParams({\r\n                page: 1,\r\n                count: 10\r\n            }, {\r\n                filterDelay: 300,\r\n                counts: [],\r\n                getData: function ($defer, params) {\r\n\r\n                    var filter = params.filter();\r\n                    var type = filter.type;\r\n                    var gatewayMac = filter.gatewayMac;\r\n                    var mac = filter.mac;\r\n                    var sorting = params.sorting();\r\n                    var size = params.count();\r\n                    var page = params.page() - 1;\r\n                    var sort = \"\";\r\n                    var token = AuthTokenFactory.getToken();\r\n                    if (vm.deviceTypeValue == \"Sensor\")\r\n                        vm.deviceTypeValue = \"S1\";\r\n                    if (type === undefined)\r\n                        type = vm.deviceTypeValue;\r\n                    if (gatewayMac === undefined)\r\n                        gatewayMac = vm.gateway_value;\r\n                    if (mac === undefined)\r\n                        mac = vm.device_value;\r\n\r\n                    for (var item in sorting) {\r\n                        sort = item + \",\" + sorting[item];\r\n                    }\r\n\r\n\r\n                    httpService.getStatusBy(page, size, sort, type, gatewayMac, mac, token)\r\n                        .success(function (resp) {\r\n                            // console.log(resp);\r\n                            httpService.getDeviceListByType(page, 1000, sort, type, gatewayMac, token)\r\n                                .success(function (resp) {\r\n                                    vm.device_list = resp.data;\r\n                                    // console.log(resp.data);\r\n                                }).error(function (resp, status) {\r\n                                    console.log(resp);\r\n                                    httpService.httpStatusCode(status);\r\n                                });\r\n                            params.total(resp.totalItems);\r\n                            $defer.resolve(resp.data);\r\n                        }).error(function (resp, status) {\r\n                            console.log(resp);\r\n                            httpService.httpStatusCode(status);\r\n                        });\r\n                }\r\n            });\r\n\r\n        function _init() {\r\n            vm.tableParams.reload();            \r\n        };\r\n        /* 获取网关列表*/\r\n        var size = 100;\r\n        var page = 0;\r\n        var sort = \"\";\r\n        var token = AuthTokenFactory.getToken();\r\n\r\n        httpService.getGatewayList(page, size, sort, token)\r\n            .success(function (resp) {\r\n                vm.gateway_list = resp.data\r\n            }).error(function (resp) {\r\n                console.log(resp);\r\n            });\r\n\r\n        function deviceTypeValue(value) {\r\n            var deviceTypeValue = \"iBeacon\";\r\n            if (value == \"Sensor\") {\r\n                deviceTypeValue = \"S1\"\r\n            } else if (value == \"Other\") {\r\n                deviceTypeValue = \"Unknown\";\r\n            }\r\n            return deviceTypeValue;\r\n        };\r\n\r\n        vm.selectDeviceType = function (value) {\r\n            vm.deviceTypeName = value;\r\n            vm.deviceTypeValue = deviceTypeValue(value);\r\n            vm.tableParams.filter({\r\n                type: vm.deviceTypeValue\r\n            });\r\n        };\r\n\r\n        vm.select_gateway = function (value) {\r\n            vm.gateway_value = value;\r\n            vm.tableParams.filter({\r\n                gatewayMac: vm.gateway_value\r\n            });\r\n        };\r\n\r\n        vm.select_device = function (value) {\r\n            vm.device_value = value;\r\n            vm.tableParams.filter({\r\n                mac: vm.device_value\r\n            });\r\n        };\r\n        $scope.sil = $interval(_init, 5000);\r\n        //在页面跳转时触发\r\n        $scope.$on('$destroy', function () {\r\n            $interval.cancel($scope.sil);\r\n        });\r\n\r\n    }\r\n})();\n (function () {\r\n \t'use strict';\r\n\r\n \tangular.module('BlurAdmin.pages.users')\r\n \t\t.controller('usersCtrl', UsersCtrl)\r\n \t\t.controller('createUserCtrl', createUserCtrl)\r\n \t\t.controller('editUserCtrl', editUserCtrl)\r\n \t\t.controller('deleteUserCtrl', deleteUserCtrl)\r\n\t\t .controller('userGatewaysCtrl', userGatewaysCtrl)\r\n\t\t .controller('deleteGatewayCtrl', deleteGatewayCtrl);\r\n\r\n \t/** @ngInject */\r\n \tfunction UsersCtrl($scope, $filter, editableOptions, NgTableParams, editableThemes, $uibModal, httpService, AuthTokenFactory) {\r\n\r\n \t\tvar vm = this;\r\n \t\tthis.UserInfo = AuthTokenFactory.getUserInfo();\r\n\r\n \t\tif (this.UserInfo.role == \"ADMIN\")\r\n \t\t\tthis.isAdmin = true;\r\n\r\n \t\tthis.animationsEnabled = true;\r\n\r\n \t\tvm.tableParams = new NgTableParams({\r\n \t\t\tpage: 1, // show first page\r\n \t\t\tcount: 10 // count per page\r\n \t\t}, {\r\n \t\t\tfilterDelay: 300,\r\n \t\t\tcounts: [],\r\n \t\t\tgetData: function ($defer, params) {\r\n \t\t\t\t// ajax request to api\r\n\r\n \t\t\t\tvar filter = params.filter();\r\n \t\t\t\t// var term = filter.$;\r\n \t\t\t\t// var sorting = params.sorting();\r\n \t\t\t\tvar size = params.count();\r\n \t\t\t\tvar page = params.page() - 1;\r\n \t\t\t\tvar sort = \"\";\r\n \t\t\t\t// var order = \"\";\r\n \t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n \t\t\t\thttpService.getUserList(page, size, sort, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\tparams.total(resp.totalItems);\r\n \t\t\t\t\t\t$defer.resolve(resp.data);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t});\r\n\r\n \t\t$scope.openCreateModel = function (size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/createUser.html',\r\n \t\t\t\tcontroller: 'createUserCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn $scope.item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\tmodalInstance.result.then(function (result) {\r\n \t\t\t\t$scope.result = result;\r\n \t\t\t\t// console.log(result);\r\n \t\t\t\tvm.tableParams.reload();\r\n \t\t\t}, function () {\r\n \t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t});\r\n \t\t};\r\n\r\n \t\t$scope.openEditModel = function (item, size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/editUser.html',\r\n \t\t\t\tcontroller: 'editUserCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\tmodalInstance.result.then(function (result) {\r\n \t\t\t\t$scope.result = result;\r\n \t\t\t\t// console.log(result);\r\n \t\t\t\tvm.tableParams.reload();\r\n \t\t\t}, function () {\r\n \t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t});\r\n \t\t};\r\n\r\n \t\t$scope.openDeleteModel = function (item, size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/deleteUser.html',\r\n \t\t\t\tcontroller: 'deleteUserCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\tmodalInstance.result.then(function (result) {\r\n \t\t\t\t$scope.result = result;\r\n \t\t\t\t// console.log(result);\r\n \t\t\t\tvm.tableParams.reload();\r\n \t\t\t}, function () {\r\n \t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t});\r\n \t\t};\r\n\r\n \t\t$scope.userGatewaysCtrl = function (item, size) {\r\n \t\t\tvar modalInstance = $uibModal.open({\r\n \t\t\t\tanimation: $scope.animationsEnabled,\r\n \t\t\t\ttemplateUrl: 'app/pages/users/gateways.html',\r\n \t\t\t\tcontroller: 'userGatewaysCtrl',\r\n \t\t\t\tsize: size,\r\n \t\t\t\tresolve: {\r\n \t\t\t\t\titem: function () {\r\n \t\t\t\t\t\treturn item;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n\r\n \t\t\t// modalInstance.result.then(function (result) {\r\n \t\t\t// \t$scope.result = result;\r\n \t\t\t// \t console.log(result);\r\n \t\t\t// \t vm.tableParams.reload();\r\n \t\t\t// }, function () {\r\n \t\t\t// \tconsole.log('Modal dismissed at: ' + new Date());\r\n \t\t\t// });\r\n \t\t};\r\n\r\n \t\t$scope.toggleAnimation = function () {\r\n \t\t\t$scope.animationsEnabled = !$scope.animationsEnabled;\r\n \t\t};\r\n\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction createUserCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService) {\r\n \t\t$scope.item = {};\r\n\r\n \t\t$scope.ok = function () {\r\n \t\t\tif ($scope.item) {\r\n \t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n \t\t\t\thttpService.addUser($scope.item, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\t// console.log(resp);\r\n \t\t\t\t\t\t$uibModalInstance.close(resp);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t};\r\n\r\n \t\t$scope.cancel = function () {\r\n \t\t\t$uibModalInstance.dismiss('cancel');\r\n \t\t};\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction editUserCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n \t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\t\t$scope.Mphone = item.nationcode + item.mobile_phone;\r\n\t\t//  console.log(item); \r\n\r\n \t\t$scope.ok = function () {\r\n \t\t\tif ($scope.item) {\r\n\t\t\t\tvar dialCode = $(\"#Mphone\").intlTelInput(\"getSelectedCountryData\").dialCode;\r\n\t\t\t\tvar phoneNumber = $(\"#Mphone\").intlTelInput(\"getNumber\");\r\n\t\t\t\tvar len = phoneNumber.indexOf(dialCode)+dialCode.length;\r\n\t\t\t\t$scope.item.nationcode = dialCode;\r\n\t\t\t\t$scope.item.mobile_phone = phoneNumber.slice(len);\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\t\t\t\tconsole.log(item);\r\n \t\t\t\thttpService.updateUser($scope.item, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\t// console.log(resp);\r\n \t\t\t\t\t\t$uibModalInstance.close(resp);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t};\r\n\r\n \t\t$scope.cancel = function () {\r\n \t\t\t$uibModalInstance.dismiss('cancel');\r\n \t\t};\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction deleteUserCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n \t\tvar vm = this;\r\n \t\t$scope.item = item;\r\n\r\n \t\t$scope.ok = function () {\r\n \t\t\tif ($scope.item) {\r\n \t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n \t\t\t\thttpService.deleteUser($scope.item.uuid, token)\r\n \t\t\t\t\t.success(function (resp) {\r\n \t\t\t\t\t\t// console.log(resp);\r\n \t\t\t\t\t\t$uibModalInstance.close(resp);\r\n \t\t\t\t\t}).error(function (resp, status) {\r\n \t\t\t\t\t\tconsole.log(resp);\r\n \t\t\t\t\t\thttpService.httpStatusCode(status);\r\n \t\t\t\t\t});\r\n \t\t\t}\r\n \t\t};\r\n\r\n \t\t$scope.cancel = function () {\r\n \t\t\t$uibModalInstance.dismiss('cancel');\r\n \t\t};\r\n \t}\r\n\r\n \t/** @ngInject */\r\n \tfunction userGatewaysCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item, $uibModal) {\r\n \t\tvar vm = this;\r\n \t\t$scope.item = item;\r\n \t\tvar page = 0;\r\n \t\tvar size = 100;\r\n \t\tvar sort = \"\";\r\n \t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\tvm.tableParams = function(){\r\n\t\t\thttpService.getGatewayListByUserid(page, size, sort, $scope.item.uuid, token)\r\n\t\t\t.success(function (resp) {\r\n\t\t\t\t// console.log(resp);\r\n\t\t\t\t$scope.gateway_list = resp.data;\r\n\t\t\t}).error(function (resp, status) {\r\n\t\t\t\tconsole.log(resp);\r\n\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t$scope.openDeleteModel = function (item, size) {\r\n\t\t\tvar modalInstance = $uibModal.open({\r\n\t\t\t\tanimation: $scope.animationsEnabled,\r\n\t\t\t\ttemplateUrl: 'app/pages/users/deleteGateway.html',\r\n\t\t\t\tcontroller: 'deleteGatewayCtrl',\r\n\t\t\t\tsize: size,\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\titem: function () {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmodalInstance.result.then(function (result) {\r\n\t\t\t\t$scope.result = result;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tvm.tableParams();\r\n\t\t\t}, function () {\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvm.tableParams();\r\n\t }\r\n\t \r\n\t /** @ngInject */\r\n\tfunction deleteGatewayCtrl($scope, $uibModalInstance, AuthTokenFactory, httpService, item) {\r\n\t\tvar vm = this;\r\n\t\t$scope.item = item;\r\n\r\n\t\t$scope.ok = function () {\r\n\t\t\tif ($scope.item) {\r\n\t\t\t\tvar token = AuthTokenFactory.getToken();\r\n\r\n\t\t\t\thttpService.deleteGateway($scope.item.uuid, token)\r\n\t\t\t\t\t.success(function (resp) {\r\n\t\t\t\t\t\t// console.log(resp);\r\n\t\t\t\t\t\t$uibModalInstance.close(resp);\r\n\t\t\t\t\t}).error(function (resp, status) {\r\n\t\t\t\t\t\tconsole.log(resp);\r\n\t\t\t\t\t\thttpService.httpStatusCode(status);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$scope.cancel = function () {\r\n\t\t\t$uibModalInstance.dismiss('cancel');\r\n\t\t};\r\n\t}\r\n\r\n })();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('backTop', backTop);\r\n\r\n    /** @ngInject */\r\n    function backTop() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/backTop/backTop.html',\r\n            controller: function () {\r\n                $('#backTop').backTop({\r\n                    'position': 200,\r\n                    'speed': 100\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').directive('baSidebar', baSidebar);\r\n\r\n    /** @ngInject */\r\n    function baSidebar($timeout, baSidebarService, baUtil, layoutSizes) {\r\n        var jqWindow = $(window);\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/baSidebar/ba-sidebar.html',\r\n            controller: 'BaSidebarCtrl',\r\n            link: function (scope, el) {\r\n\r\n                scope.menuHeight = el[0].childNodes[0].clientHeight - 84;\r\n                jqWindow.on('click', _onWindowClick);\r\n                jqWindow.on('resize', _onWindowResize);\r\n\r\n                scope.$on('$destroy', function () {\r\n                    jqWindow.off('click', _onWindowClick);\r\n                    jqWindow.off('resize', _onWindowResize);\r\n                });\r\n\r\n                function _onWindowClick($evt) {\r\n                    if (!baUtil.isDescendant(el[0], $evt.target) && !$evt.originalEvent.$sidebarEventProcessed && !baSidebarService.isMenuCollapsed() &&\r\n                        baSidebarService.canSidebarBeHidden()) {\r\n                        $evt.originalEvent.$sidebarEventProcessed = true;\r\n                        $timeout(function () {\r\n                            baSidebarService.setMenuCollapsed(true);\r\n                        }, 10);\r\n                    }\r\n                }\r\n\r\n                // watch window resize to change menu collapsed state if needed\r\n                function _onWindowResize() {\r\n                    var newMenuCollapsed = baSidebarService.shouldMenuBeCollapsed();\r\n                    var newMenuHeight = _calculateMenuHeight();\r\n                    if (newMenuCollapsed != baSidebarService.isMenuCollapsed() || scope.menuHeight != newMenuHeight) {\r\n                        scope.$apply(function () {\r\n                            scope.menuHeight = newMenuHeight;\r\n                            baSidebarService.setMenuCollapsed(newMenuCollapsed)\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function _calculateMenuHeight() {\r\n                    return el[0].childNodes[0].clientHeight - 84;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').provider('baSidebarService', baSidebarServiceProvider);\r\n\r\n    /** @ngInject */\r\n    function baSidebarServiceProvider() {\r\n        var staticMenuItems = [];\r\n\r\n        this.addStaticItem = function () {\r\n            staticMenuItems.push.apply(staticMenuItems, arguments);\r\n        };\r\n\r\n        /** @ngInject */\r\n        this.$get = function ($state, layoutSizes) {\r\n\r\n            return new _factory();\r\n\r\n            function _factory() {\r\n                var isMenuCollapsed = shouldMenuBeCollapsed();\r\n\r\n                this.getMenuItems = function () {\r\n                    var states = defineMenuItemStates();\r\n                    // console.log(\"states:\" +states);\r\n                    var menuItems = states.filter(function (item) {\r\n                        return item.level == 0;\r\n                    });\r\n\r\n                    menuItems.forEach(function (item) {\r\n                        var children = states.filter(function (child) {\r\n                            return child.level == 1 && child.name.indexOf(item.name) === 0;\r\n                        });\r\n                        item.subMenu = children.length ? children : null;\r\n                    });\r\n\r\n                    return menuItems.concat(staticMenuItems);\r\n                };\r\n\r\n                this.shouldMenuBeCollapsed = shouldMenuBeCollapsed;\r\n                this.canSidebarBeHidden = canSidebarBeHidden;\r\n\r\n                this.setMenuCollapsed = function (isCollapsed) {\r\n                    isMenuCollapsed = isCollapsed;\r\n                };\r\n\r\n                this.isMenuCollapsed = function () {\r\n                    return isMenuCollapsed;\r\n                };\r\n\r\n                this.toggleMenuCollapsed = function () {\r\n                    isMenuCollapsed = !isMenuCollapsed;\r\n                };\r\n\r\n                this.getAllStateRefsRecursive = function (item) {\r\n                    var result = [];\r\n                    _iterateSubItems(item);\r\n                    return result;\r\n\r\n                    function _iterateSubItems(currentItem) {\r\n                        currentItem.subMenu && currentItem.subMenu.forEach(function (subItem) {\r\n                            subItem.stateRef && result.push(subItem.stateRef);\r\n                            _iterateSubItems(subItem);\r\n                        });\r\n                    }\r\n                };\r\n\r\n                function defineMenuItemStates() {\r\n                    return $state.get()\r\n                        .filter(function (s) {\r\n                            return s.sidebarMeta;\r\n                        })\r\n                        .map(function (s) {\r\n                            var name = s.name;\r\n                            var pages = s.name.substring(0, 5);\r\n                            if ( pages == \"pages\" ) {\r\n                                name = name.substring(5);\r\n                            }\r\n                            var meta = s.sidebarMeta;\r\n                            return {\r\n                                name: name,\r\n                                title: s.title,\r\n                                level: (s.name.match(/\\./g) || []).length,\r\n                                order: meta.order,\r\n                                icon: meta.icon,\r\n                                stateRef: s.name,\r\n                            };\r\n                        })\r\n                        .sort(function (a, b) {\r\n                            return (a.level - b.level) * 100 + a.order - b.order;\r\n                        });\r\n                }\r\n\r\n                function shouldMenuBeCollapsed() {\r\n                    return window.innerWidth <= layoutSizes.resWidthCollapseSidebar;\r\n                }\r\n\r\n                function canSidebarBeHidden() {\r\n                    return window.innerWidth <= layoutSizes.resWidthHideSidebar;\r\n                }\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').controller('BaSidebarCtrl', BaSidebarCtrl);\r\n\r\n    /** @ngInject */\r\n    function BaSidebarCtrl($scope, baSidebarService, $state) {\r\n        $scope.menuItems = baSidebarService.getMenuItems();\r\n\r\n        $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\r\n\r\n        $scope.hoverItem = function ($event) {\r\n            $scope.showHoverElem = true;\r\n            $scope.hoverElemHeight = $event.currentTarget.clientHeight;\r\n            var menuTopValue = 66;\r\n            $scope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\r\n        };\r\n\r\n        $scope.$on('$stateChangeSuccess', function () {\r\n            if (baSidebarService.canSidebarBeHidden()) {\r\n                baSidebarService.setMenuCollapsed(true);\r\n            }\r\n        });\r\n\r\n        $scope.email = window.sessionStorage.getItem('email');\r\n        \r\n        if ($scope.email == null) {\r\n            $state.go('user.login');\r\n        }\r\n    }\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('baSidebarToggleMenu', baSidebarToggleMenu)\r\n        .directive('baSidebarCollapseMenu', baSidebarCollapseMenu)\r\n        .directive('baSidebarTogglingItem', baSidebarTogglingItem)\r\n        .controller('BaSidebarTogglingItemCtrl', BaSidebarTogglingItemCtrl)\r\n        .directive('baUiSrefTogglingSubmenu', baUiSrefTogglingSubmenu)\r\n        .directive('baUiSrefToggler', baUiSrefToggler);\r\n\r\n    /** @ngInject */\r\n    function baSidebarToggleMenu(baSidebarService) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, elem) {\r\n                elem.on('click', function ($evt) {\r\n                    $evt.originalEvent.$sidebarEventProcessed = true;\r\n                    scope.$apply(function () {\r\n                        baSidebarService.toggleMenuCollapsed();\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baSidebarCollapseMenu(baSidebarService) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, elem) {\r\n                elem.on('click', function ($evt) {\r\n                    $evt.originalEvent.$sidebarEventProcessed = true;\r\n                    if (!baSidebarService.isMenuCollapsed()) {\r\n                        scope.$apply(function () {\r\n                            baSidebarService.setMenuCollapsed(true);\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baSidebarTogglingItem() {\r\n        return {\r\n            restrict: 'A',\r\n            controller: 'BaSidebarTogglingItemCtrl'\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function BaSidebarTogglingItemCtrl($scope, $element, $attrs, $state, baSidebarService) {\r\n        var vm = this;\r\n        var menuItem = vm.$$menuItem = $scope.$eval($attrs.baSidebarTogglingItem);\r\n        if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {\r\n            vm.$$expandSubmenu = function () {\r\n                console.warn('$$expandMenu should be overwritten by baUiSrefTogglingSubmenu')\r\n            };\r\n            vm.$$collapseSubmenu = function () {\r\n                console.warn('$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu')\r\n            };\r\n\r\n            var subItemsStateRefs = baSidebarService.getAllStateRefsRecursive(menuItem);\r\n\r\n            vm.$expand = function () {\r\n                vm.$$expandSubmenu();\r\n                $element.addClass('ba-sidebar-item-expanded');\r\n            };\r\n\r\n            vm.$collapse = function () {\r\n                vm.$$collapseSubmenu();\r\n                $element.removeClass('ba-sidebar-item-expanded');\r\n            };\r\n\r\n            vm.$toggle = function () {\r\n                $element.hasClass('ba-sidebar-item-expanded') ?\r\n                    vm.$collapse() :\r\n                    vm.$expand();\r\n            };\r\n\r\n            if (_isState($state.current)) {\r\n                $element.addClass('ba-sidebar-item-expanded');\r\n            }\r\n\r\n            $scope.$on('$stateChangeStart', function (event, toState) {\r\n                if (!_isState(toState) && $element.hasClass('ba-sidebar-item-expanded')) {\r\n                    vm.$collapse();\r\n                    $element.removeClass('ba-sidebar-item-expanded');\r\n                }\r\n            });\r\n\r\n            $scope.$on('$stateChangeSuccess', function (event, toState) {\r\n                if (_isState(toState) && !$element.hasClass('ba-sidebar-item-expanded')) {\r\n                    vm.$expand();\r\n                    $element.addClass('ba-sidebar-item-expanded');\r\n                }\r\n            });\r\n        }\r\n\r\n        function _isState(state) {\r\n            return state && subItemsStateRefs.some(function (subItemState) {\r\n                    return state.name.indexOf(subItemState) == 0;\r\n                });\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baUiSrefTogglingSubmenu($state) {\r\n        return {\r\n            restrict: 'A',\r\n            require: '^baSidebarTogglingItem',\r\n            link: function (scope, el, attrs, baSidebarTogglingItem) {\r\n                baSidebarTogglingItem.$$expandSubmenu = function () {\r\n                    el.slideDown();\r\n                };\r\n                baSidebarTogglingItem.$$collapseSubmenu = function () {\r\n                    el.slideUp();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function baUiSrefToggler(baSidebarService) {\r\n        return {\r\n            restrict: 'A',\r\n            require: '^baSidebarTogglingItem',\r\n            link: function (scope, el, attrs, baSidebarTogglingItem) {\r\n                el.on('click', function () {\r\n                    if (baSidebarService.isMenuCollapsed()) {\r\n                        // If the whole sidebar is collapsed and this item has submenu. We need to open sidebar.\r\n                        // This should not affect mobiles, because on mobiles sidebar should be hidden at all\r\n                        scope.$apply(function () {\r\n                            baSidebarService.setMenuCollapsed(false);\r\n                        });\r\n                        baSidebarTogglingItem.$expand();\r\n                    } else {\r\n                        baSidebarTogglingItem.$toggle();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n})();\r\n\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('contentTop', contentTop);\r\n\r\n    /** @ngInject */\r\n    function contentTop($location, $state) {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/contentTop/contentTop.html',\r\n            link: function ($scope) {\r\n                $scope.$watch(function () {\r\n                    $scope.activePageTitle = $state.current.title;\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').directive('pageTop', pageTop);\r\n\r\n    /** @ngInject */\r\n    function pageTop() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'app/theme/components/pageTop/pageTop.html',\r\n            controller: 'PageTopCtrl',\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components').controller('PageTopCtrl', PageTopCtrl);\r\n\r\n    /** @ngInject */\r\n    function PageTopCtrl($scope, baSidebarService, $state, UserService, AuthTokenFactory, httpService) {\r\n\r\n        $scope.isChange = false;\r\n        var token = AuthTokenFactory.getToken();\r\n        $scope.uuid = AuthTokenFactory.getUserInfo().userId;\r\n\r\n        httpService.getUser($scope.uuid,token)\r\n            .success(function(resp){\r\n                $scope.username = resp.data.name;\r\n            }).error(function(resp, status){\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $scope.signOut = function () {\r\n            UserService.logout();\r\n            // TODO\r\n            window.sessionStorage.removeItem('email');\r\n            window.sessionStorage.removeItem('username');\r\n            $state.go(\"user.login\");  \r\n        };\r\n\r\n        $scope.changeLogo = function(){\r\n            if(window.innerWidth > 1200)\r\n                $scope.isChange = !$scope.isChange;\r\n            if(window.innerWidth <=1200)\r\n                $scope.isChange = true;\r\n        };\r\n        \r\n    }\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.components')\r\n        .directive('widgets', widgets);\r\n\r\n    /** @ngInject */\r\n    function widgets() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n                ngModel: '='\r\n            },\r\n            templateUrl: 'app/theme/components/widgets/widgets.html',\r\n            replace: true\r\n        };\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 10.12.2016\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.theme.inputs')\r\n        .directive('baSwitcher', baSwitcher);\r\n\r\n    /** @ngInject */\r\n    function baSwitcher() {\r\n        return {\r\n            templateUrl: 'app/theme/inputs/baSwitcher/baSwitcher.html',\r\n            scope: {\r\n                switcherStyle: '@',\r\n                switcherValue: '='\r\n            }\r\n        };\r\n    }\r\n\r\n})();\r\n\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.profile')\r\n    .controller('ProfileCtrl', ProfileCtrl)\r\n    .controller('OpenMsgCtrl', OpenMsgCtrl);\r\n\r\n    /** @ngInject */\r\n    function ProfileCtrl($scope, httpService, AuthTokenFactory, $uibModal, $state) {\r\n        $scope.profile = {};\r\n        var token = AuthTokenFactory.getToken();\r\n        $scope.uuid = AuthTokenFactory.getUserInfo().userId;\r\n        $scope.isSame = true;\r\n        $scope.animationsEnabled = true;\r\n        $scope.item = {};\r\n\r\n        httpService.getUser($scope.uuid, token)\r\n            .success(function (resp) {\r\n                console.log(resp);\r\n                $scope.profile.name = resp.data.name;\r\n                $scope.profile.email = resp.data.email;\r\n                $scope.profile.uuid = resp.data.uuid;\r\n                $scope.profile.userId = resp.data.userId;\r\n                $scope.profile.nationcode = resp.data.nationcode;\r\n                $scope.profile.mobile_phone = resp.data.mobile_phone;\r\n                $scope.Mphone = resp.data.nationcode + resp.data.mobile_phone;\r\n            }).error(function (resp, status) {\r\n                console.log(resp);\r\n                httpService.httpStatusCode(status);\r\n            });\r\n\r\n        $scope.updateProfile = function () {\r\n            if ($scope.profile.password != $scope.profile.confirm_password) {\r\n                $scope.isSame = false;\r\n                return;\r\n            }else{\r\n                var dialCode = $(\"#Mphone\").intlTelInput(\"getSelectedCountryData\").dialCode;\r\n                var phoneNumber = $(\"#Mphone\").intlTelInput(\"getNumber\");\r\n                var len = phoneNumber.indexOf(dialCode) + dialCode.length;\r\n                $scope.profile.nationcode = dialCode;\r\n                $scope.profile.mobile_phone = phoneNumber.slice(len);\r\n                $scope.isSame = true;\r\n                console.log($scope.profile);\r\n                httpService.updateUser($scope.profile, token)\r\n                    .success(function (resp) {\r\n                        console.log(resp);\r\n                        if(resp.status === 200){\r\n                            window.sessionStorage.setItem('username', resp.data.name);\r\n                            $scope.item.msg = \"Successfully modified!\";\r\n                            $scope.openMsgModel('sm');\r\n                        }else if(resp.status === 400){\r\n                            $scope.item.msg = \"The name already exists!\";\r\n                            $scope.openMsgModel('sm');\r\n                        }\r\n                    }).error(function (resp, status) {\r\n                        console.log(resp);\r\n                        httpService.httpStatusCode(status);\r\n                    });\r\n            }\r\n        };\r\n\r\n        $scope.openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/user/profile/msg.html',\r\n                controller: 'OpenMsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n\r\n            modalInstance.result.then(function (result) {\r\n                console.log(result);\r\n\t\t\t}, function () {\r\n                $state.reload('user.profile');\r\n\t\t\t\tconsole.log('Modal dismissed at: ' + new Date());\r\n\t\t\t});\r\n        }\r\n\r\n    }\r\n\r\n    function OpenMsgCtrl($scope, $uibModalInstance, item){\r\n        $scope.data  = item;\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.register')\r\n        .controller('RegisterCtrl', RegisterCtrl)\r\n        .controller('openmsgCtrl', OpenMsgCtrl);\r\n    \r\n    angular.module('BlurAdmin.pages.register')\r\n        .config(function (ngIntlTelInputProvider) {\r\n            ngIntlTelInputProvider.set({\r\n                preferredCountries: [\"cn\",\"us\",\"gb\"],\r\n                initialCountry: 'cn',\r\n                // separateDialCode: true,\r\n                nationalMode: false,\r\n                utilsScript: \"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.4/js/utils.js\"\r\n            });\r\n        });\r\n\r\n    /** @ngInject */\r\n    function RegisterCtrl($scope, $state, httpService, $uibModal, UserService) {\r\n\r\n        $scope.emailReg = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@([a-zA-Z0-9]+[-.])+[a-zA-Z]{2,5}$/;\r\n        $scope.registerData = {};\r\n        $scope.registerData.name = \"\";\r\n        $scope.registerData.mobile_phone = \"\";\r\n        $scope.registerData.email = \"\";\r\n        $scope.registerData.password = \"\";\r\n        $scope.Mphone = \"\";\r\n        $scope.item = {};\r\n        $scope.item.result = null;\r\n        // $scope.animationsEnabled = true;\r\n\r\n        $scope.register = function () {\r\n            var dialCode = $(\"#Mphone\").intlTelInput(\"getSelectedCountryData\").dialCode;\r\n            var phoneNumber = $(\"#Mphone\").intlTelInput(\"getNumber\");\r\n            var len = phoneNumber.indexOf(dialCode) + dialCode.length;\r\n\r\n            $scope.registerData.nationcode = dialCode;\r\n            $scope.registerData.mobile_phone = phoneNumber.slice(len);\r\n            console.log($scope.registerData);\r\n            UserService.register($scope.registerData).success(function (resp) {\r\n                console.log(resp);\r\n                if(resp.status === 200){\r\n                    $scope.item.result = true;\r\n                    $scope.item.msg = \"We have sent an activation email to your email address, \"+ $scope.registerData.email +\". Please click the link in the email to complete the registration. If you do not receive the email, please check the spam!\";\r\n                    $scope.openMsgModel('md');\r\n                }else if(resp.status === 450){\r\n                    $scope.item.result = false;\r\n                    $scope.item.msg = \"The account already exists!\";\r\n                    $scope.openMsgModel('sm');\r\n                }else if(resp.status === 400){\r\n                    $scope.item.result = false;\r\n                    $scope.item.msg = \"The name already exists!\";\r\n                    $scope.openMsgModel('sm');\r\n                }else{\r\n                    $scope.item.result = false;\r\n                    console.log(resp);\r\n                }\r\n            }).error(function (resp) {\r\n                console.log(resp);\r\n            });\r\n            \r\n        };\r\n\r\n        $scope.openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/user/register/msg.html',\r\n                controller: 'openmsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.item;\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n    }\r\n\r\n    function OpenMsgCtrl($scope, $uibModalInstance, item, $state) {\r\n        $scope.data = item;\r\n        $scope.goLogin = function () {\r\n            $state.go('user.login');\r\n        }\r\n    }\r\n\r\n})();\n/**\r\n * @author chris\r\n * created on 2017-04-20\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('BlurAdmin.pages.login')\r\n    .controller('LoginCtrl', LoginCtrl)\r\n    .controller('openmsgCtrl', OpenMsgCtrl);\r\n\r\n    /** @ngInject */\r\n    function LoginCtrl($scope, $state, httpService, UserService, AuthTokenFactory, $uibModal) {\r\n        $scope.LoginStatus = null;\r\n        $scope.loginData = {};\r\n        var emailReg = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@([a-zA-Z0-9]+[-.])+[a-zA-Z]{2,5}$/;\r\n\r\n        //    /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\r\n        $scope.login = function () {\r\n            UserService.login($scope.loginData).success(function (response) {\r\n                AuthTokenFactory.storeUserInfo(response.data);\r\n                // console.log(\"login\" + JSON.stringify(response.data));\r\n                // console.log(\"login2\" + JSON.stringify(AuthTokenFactory.getUserInfo()));\r\n                // console.log(\"token\" + AuthTokenFactory.getToken());\r\n                $scope.LoginStatus = false;\r\n                window.sessionStorage.setItem('username', response.data.name);\r\n                window.sessionStorage.setItem('email', response.data.email);\r\n                $state.go('dashboard');\r\n            }).error(function (response, status) {\r\n                if(response.message.indexOf(\"User is not activated\") != -1){\r\n                    $scope.msg = \"User is not activated\";\r\n                    $scope.openMsgModel('sm');\r\n                }else{\r\n                    $scope.LoginStatus = true;\r\n                }\r\n            });\r\n        };\r\n\r\n        $scope.openMsgModel = function (size) {\r\n            var modalInstance = $uibModal.open({\r\n                animation: $scope.animationsEnabled,\r\n                templateUrl: 'app/pages/user/login/msg.html',\r\n                controller: 'openmsgCtrl',\r\n                size: size,\r\n                resolve: {\r\n                    item: function () {\r\n                        return $scope.msg;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function OpenMsgCtrl($scope, $uibModalInstance, item){\r\n        $scope.msg = item;\r\n        console.log(item);\r\n    }\r\n\r\n})();\n/* Minified js for jQuery BackTop */\r\n!function(o){o.fn.backTop=function(e){var n=this,i=o.extend({position:400,speed:500,color:\"white\"},e),t=i.position,c=i.speed,d=i.color;n.addClass(\"white\"==d?\"white\":\"red\"==d?\"red\":\"green\"==d?\"green\":\"black\"),n.css({right:40,bottom:40,position:\"fixed\"}),o(document).scroll(function(){var e=o(window).scrollTop();e>=t?n.fadeIn(c):n.fadeOut(c)}),n.click(function(){o(\"html, body\").animate({scrollTop:0},{duration:1200})})}}(jQuery);\nangular.module('BlurAdmin').run(['$templateCache', function($templateCache) {$templateCache.put('app/pages/pages.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ui-view=\"\" autoscroll=\"true\" autoscroll-body-top=\"\"></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/activate/activate.html','<div class=\"page-not-found-modal\" style=\"margin-top:300px;\"><h1 ng-if=\"isValid\">Verification Success!</h1><h1 ng-if=\"isValid == false\">Verification Failure!</h1><p><a href=\"/\">The Link Is Going To Home Page.</a></p></div>');\n$templateCache.put('app/pages/assetDemo/asset.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div ba-panel=\"\" class=\"ba-panel\"><div><img src=\"assets/img/app/pages/map.jpg\" style=\"width: 100%;\"></div><div class=\"wsl-tag-1\"><span style=\"color: #000000;\">{{vm.gateway1_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist1.countNew\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist1.countNew }}</span> <span ng-show=\"vm.devicelist1.countDelete\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist1.countDelete }}</span></div><div class=\"wsl-tag-2\"><span style=\"color: #000000;\">{{vm.gateway2_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist2.countNew\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist2.countNew }}</span> <span ng-show=\"vm.devicelist2.countDelete\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist2.countDelete }}</span></div><div class=\"wsl-tag-3\"><span style=\"color: #000000;\">{{vm.gateway3_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist3.countNew\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist3.countNew }}</span> <span ng-show=\"vm.devicelist3.countDelete\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist3.countDelete }}</span></div><div class=\"wsl-tag-4\"><span style=\"color: #000000;\">{{vm.gateway4_value.name}}</span>&nbsp;&nbsp; <span ng-show=\"vm.devicelist4.countNew\" class=\"animated bounceInRight\" style=\"color: #1f9c8f;font-size: 22px;\">+ {{ vm.devicelist4.countNew }}</span> <span ng-show=\"vm.devicelist4.countDelete\" class=\"animated bounceInRight\" style=\"color: red;font-size: 22px;\">- {{ vm.devicelist4.countDelete }}</span></div></div><div class=\"row panel-assets\"><div class=\"col-md-3 wsl-col-md-3\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway1_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist1\" ng-click=\"vm.selectGateway1(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway1_new\" ng-if=\"vm.devicelist1.countNew\" style=\"color: green;\">+{{ vm.devicelist1.countNew }}</span> <span id=\"gateway1_delete\" ng-if=\"vm.devicelist1.countDelete\" style=\"color: red;\">-{{ vm.devicelist1.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams1\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div><div class=\"col-md-3 wsl-col-md-3 wsl-div-2\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway2_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist2\" ng-click=\"vm.selectGateway2(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway2_new\" ng-if=\"vm.devicelist2.countNew\" style=\"color: green;\">+{{ vm.devicelist2.countNew }}</span> <span id=\"gateway2_delete\" ng-if=\"vm.devicelist2.countDelete\" style=\"color: red;\">-{{ vm.devicelist2.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams2\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div><div class=\"col-md-3 wsl-col-md-3 wsl-div-4\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway3_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist3\" ng-click=\"vm.selectGateway3(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway3_new\" ng-if=\"vm.devicelist3.countNew\" style=\"color: green;\">+{{ vm.devicelist3.countNew }}</span> <span id=\"gateway3_delete\" ng-if=\"vm.devicelist3.countDelete\" style=\"color: red;\">-{{ vm.devicelist3.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams3\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div><div class=\"col-md-3 wsl-col-md-3 wsl-div-4\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default min-btn\">{{vm.gateway4_value.name || \\'Select Gateway\\'}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" class=\"wsl-uib-dropdown-lanel-width\"><li ng-repeat=\"row in vm.gatewaylist4\" ng-click=\"vm.selectGateway4(row)\"><a href=\"\">{{row.name}}</a></li></ul></div><span id=\"gateway4_new\" ng-if=\"vm.devicelist4.countNew\" style=\"color: green;\">+{{ vm.devicelist4.countNew }}</span> <span id=\"gateway4_delete\" ng-if=\"vm.devicelist4.countDelete\" style=\"color: red;\">-{{ vm.devicelist4.countDelete }}</span></div><div class=\"wsl-panel-body panel-body\"><div class=\"wsl-list-group-div\"><table ng-table=\"vm.tableParams4\" class=\"list-group\" style=\"width:100%\"><tr ng-repeat=\"item in $data\" class=\"list-group-item wsl-list-group-item\"><td class=\"col-md-9 col-sm-9 col-xs-9 wsl-col-10\"><div class=\"wsl-list-group-item-mac-text\"><span class=\"word-name\">{{item.device != null ? item.device.name : \\'Unknown\\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class=\"col-md-2 col-sm-2 col-xs-2 wsl-col-2\"><span ng-if=\"item.isNew\" class=\"animated fadeInLeft wsl-new\">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if=\"item.delete\" class=\"animated fadeInLeft wsl-delete\">Disappear</span></td></tr></table></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/dashboard/dashboard.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row pie-charts\"><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/sensor.png\" style=\"height:86px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Devices</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.devices_total}}</b></span>/ <span>{{vm.devices_total}}</span></div></div></div></div></div><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/gateway.png\" style=\"height:80px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Gateways</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.gateways_total}}</b></span>/ <span>{{vm.gateways_total}}</span></div></div></div></div></div><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/server.png\" style=\"height:83px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Servers</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.servers_chart.nows}}</b></span>/ <span>{{vm.servers_chart.totals}}</span></div></div></div></div></div><div class=\"pie-chart-item-container\"><div class=\"panel panel-default wsl-medium-panel traffic-panel\"><div class=\"panel-body\"><div class=\"wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size\"><img src=\"assets/img/dsimg/message.png\" style=\"height:83px;\"></div><div class=\"wsl-dashboardPieChart\"><div class=\"wsl-dashboardPieChart-title\">Messages</div><div class=\"wsl-dashboardPieChart-content\"><span style=\"font-size: 26px;\"><b>{{vm.messages_chart.totals}}</b></span></div></div></div></div></div></div><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">Last Updated Gateways Statuses</div><div class=\"panel-body\"><div class=\"dashboard-body\"><table class=\"table table-striped table-hover table-condensed\"><thead><tr><th>Name</th><th>Mac</th><th>Last updated time</th></tr></thead><tr ng-repeat=\"row in vm.GatewayList | limitTo:10\"><td class=\"col-sm-4 col-xs-4\" style=\"word-break:break-all;\">{{row.gateway.name}}</td><td>{{row.gatewayMac}}</td><td class=\"col-sm-5 col-xs-5 col-time\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td></tr></table></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">Last Updated Devices Statuses</div><div class=\"panel-body\"><div class=\"dashboard-body\"><table class=\"table table-striped table-hover table-condensed\"><thead><tr><th>Name</th><th>Mac</th><th>Last updated time</th></tr></thead><tr ng-repeat=\"row in vm.DeviceList | limitTo:10\"><td class=\"col-sm-4 col-xs-4\" style=\"word-break:break-all;\">{{row.device != null ? row.device.name : \\'Unknown\\'}}</td><td>{{row.mac}}</td><td class=\"col-sm-5 col-xs-5 col-time\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td></tr></table></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/device/createDevice.html','<div class=\"modal-content\" style=\"margin-top:130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Create Device</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"deviceForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"type\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>DeviceType</label><div class=\"col-sm-10\"><select class=\"form-control\" id=\"type\" ng-init=\"select = type_list[0]\" ng-model=\"select\" ng-options=\"item for item in type_list\" required=\"\"></select></div></div><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" style=\"text-transform:uppercase;\" class=\"form-control\" id=\"mac\" name=\"mac\" placeholder=\"eg.AABBCCDDEEFF\" ng-model=\"item.mac\" ng-pattern=\"/^[a-fA-F0-9]{12}$/\" required=\"\"> <span ng-if=\"deviceForm.mac.$dirty && deviceForm.mac.$invalid\"><span ng-if=\"deviceForm.mac.$error.required\" class=\"error\">Mac can\\'t be blank</span> <span ng-if=\"deviceForm.mac.$error.pattern\" class=\"error\">Mac is invalid</span></span></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" placeholder=\"Name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"deviceForm.name.$dirty && deviceForm.name.$invalid\"><span ng-if=\"deviceForm.name.$error.required\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Decription</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" placeholder=\"Decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"deviceForm.$invalid\">&nbsp;Create&nbsp;</button></div></div>');\n$templateCache.put('app/pages/device/deleteDevice.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this device {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/device/device.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"panel traffic-panel\"><div class=\"panel-body device-body\"><div class=\"row wsl-row-padding-15\"><div class=\"row\"><div class=\"col-md-6 col-create\"><div class=\"modal-buttons clearfix\" style=\"float: left;\"><button type=\"button\" class=\"btn btn-default\" data-toggle=\"modal\" ng-click=\"openCreateModel(\\'md\\')\">Create</button></div></div></div></div><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped table-th-text\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Device Type\\'\" style=\"text-align: left;\">{{ row.type==\"S1\"?\"Sensor\":row.type }}</td><td data-title=\"\\'Name\\'\" style=\"text-align: left;\">{{ row.name }}</td><td data-title=\"\\'Mac\\'\"><span ng-if=\"row.mac!=null\">{{row.mac}}</span> <span ng-if=\"row.mac==null\">\\u65E0</span></td><td data-title=\"\\'Last updated time\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Operation\\'\"><button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"openEditModel(row,\\'md\\')\">Edit</button> <button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(row,\\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/device/editDevice.html','<div class=\"modal-content\" style=\"margin-top:130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Edit Device</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"DeviceForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"type\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>DeviceType</label><div class=\"col-sm-10\"><select class=\"form-control\" id=\"type\" ng-init=\"item.type\" ng-model=\"item.type\" ng-options=\"item for item in type_list\" required=\"\" disabled=\"\" style=\"background:#E7E7E7\"></select></div></div><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"mac\" ng-model=\"item.mac\" disabled=\"\" style=\"background:#E7E7E7\"></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"DeviceForm.name.$dirty && DeviceForm.name.$invalid\"><span ng-if=\"DeviceForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"DeviceForm.$invalid\">&nbsp;Save&nbsp;</button></div></div>');\n$templateCache.put('app/pages/ibeaconDemo/ibeacon.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\" ng-controller=\"ibeaconCtrl as vm\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line Gateways</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsGateway\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.name}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line iBeacons</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsSensor\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectiBeacon(row, $data)\">{{row.device != null ?row.device.name:\"Unknown\"}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectiBeacon(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div></div><div class=\"row\"><div class=\"col-lg-12 col-md-12 col-sm-12 wsl-1024\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"form-group clearfix\"><div class=\"wsl-select-float wsl-select-lable2-size\" id=\"selectTime\"><label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 1)\">10second&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color wsl-label-active-color\" ng-click=\"vm.selectTime($event, 2)\">2minute&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 3)\">1hour&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 4)\">Today&nbsp;</a></label></div></div></div><div class=\"panel-body\"><div id=\"LINE_2\"></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/gateway/createGateway.html','<div class=\"modal-content\" style=\"margin-top:130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Create Gateway</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"gatewayForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" style=\"text-transform:uppercase;\" class=\"form-control\" name=\"mac\" id=\"mac\" placeholder=\"eg.AABBCCDDEEFF\" ng-model=\"item.mac\" ng-pattern=\"/^[a-fA-F0-9]{12}$/\" required=\"\"> <span ng-if=\"gatewayForm.mac.$dirty && gatewayForm.mac.$invalid\"><span ng-if=\"gatewayForm.mac.$error.required\" class=\"error\">Mac can\\'t be blank</span> <span ng-if=\"gatewayForm.mac.$error.pattern\" class=\"error\">Mac is invalid</span></span></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" placeholder=\"Name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"gatewayForm.name.$dirty && gatewayForm.name.$invalid\"><span ng-if=\"gatewayForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Decription</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" placeholder=\"Decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"gatewayForm.$invalid\">&nbsp;Create&nbsp;</button></div></div>');\n$templateCache.put('app/pages/gateway/deleteGateway.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this gateway {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/gateway/editGateway.html','<div class=\"modal-content\" style=\"margin-top:150px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Edit Gateway</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\" name=\"GatewayForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"mac\" class=\"col-sm-2 control-label\" style=\"color: #000;\"><span style=\"color: red;\">*</span>Mac</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"mac\" ng-model=\"item.mac\" disabled=\"\" style=\"background:#E7E7E7;\"></div></div><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" name=\"name\" ng-model=\"item.name\" required=\"\"> <span ng-if=\"GatewayForm.name.$dirty && GatewayForm.name.$invalid\"><span ng-if=\"GatewayForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"decription\" class=\"col-sm-2 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"decription\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\" ng-disabled=\"GatewayForm.$invalid\">&nbsp;Save&nbsp;</button></div></div>');\n$templateCache.put('app/pages/gateway/gateway.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"panel traffic-panel\"><div class=\"panel-body\"><div class=\"row wsl-row-padding-15\"><div class=\"row\"><div class=\"col-md-6 col-create\"><div class=\"modal-buttons clearfix\" style=\"float: left;\"><button type=\"button\" class=\"btn btn-default\" data-toggle=\"modal\" ng-click=\"openCreateModel(\\'md\\')\">Create</button></div></div></div></div><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped table-th-text wsl-table\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"text-align: left;\">{{ row.name }}</td><td data-title=\"\\'Mac\\'\"><span ng-if=\"row.mac!=null\">{{row.mac}}</span> <span ng-if=\"row.mac==null\">\\u65E0</span></td><td data-title=\"\\'Last updated time\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Operation\\'\"><button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"openEditModel(row,\\'md\\')\">Edit</button> <button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(row,\\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/gateway/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">The gateway has been bound by other user</p></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" ng-click=\"$close()\">ok</button></div></div>');\n$templateCache.put('app/pages/gateway/rebootGateway.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">REBOOT</h4></div><div class=\"modal-body text-center\">Are you sure to reboot this gateway {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/status/status.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"panel panel-default panel-status\"><div class=\"panel-body\"><div class=\"select-group\"><span>Device Tpye :&nbsp;</span><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default dropdown-wsl-css\">{{vm.deviceTypeName}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\"><li ng-click=\"vm.selectDeviceType(\\'Sensor\\')\"><a href=\"\">Sensor</a></li><li ng-click=\"vm.selectDeviceType(\\'iBeacon\\')\"><a href=\"\">iBeacon</a></li><li ng-click=\"vm.selectDeviceType(\\'Other\\')\"><a href=\"\">Other</a></li></ul></div></div><div class=\"select-group\"><span class=\"alldevice-span\">Gateway Name :&nbsp;</span><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default dropdown-wsl-css\">{{vm.gateway_value}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" style=\"max-height:400px;overflow:auto;\"><li ng-click=\"vm.select_gateway(\\'All\\')\"><a href=\"\">All</a></li><li role=\"separator\" class=\"divider\"></li><li ng-repeat=\"item in vm.gateway_list\" ng-click=\"vm.select_gateway(item.mac)\"><a href=\"\">{{item.name}}--{{item.mac | uppercase}}</a></li></ul></div></div><div class=\"select-group\"><span class=\"alldevice-span\">Device Name :&nbsp;</span><div class=\"btn-group\" uib-dropdown=\"\" dropdown-append-to-body=\"\"><button type=\"button\" class=\"btn btn-default dropdown-wsl-css\">{{vm.device_value}}</button> <button type=\"button\" class=\"btn btn-default\" uib-dropdown-toggle=\"\"><span class=\"caret\"></span> <span class=\"sr-only\">Toggle Dropdown</span></button><ul uib-dropdown-menu=\"\" style=\"max-height:400px;overflow:auto;\"><li ng-click=\"vm.select_device(\\'All\\')\"><a href=\"\">All</a></li><li role=\"separator\" class=\"divider\"></li><li ng-if=\"vm.gateway_value == \\'Select Gateway\\'\" ng-repeat=\"item in vm.device_list | unique: \\'mac\\'\" ng-click=\"vm.select_device(item.mac)\"><a href=\"\">{{item.name}}--{{item.mac | uppercase}}</a></li><li ng-if=\"vm.gateway_value != \\'Select Gateway\\'\" ng-repeat=\"item in vm.device_list | unique: \\'mac\\'\" ng-click=\"vm.select_device(item.mac)\"><a href=\"\">{{item.device != null ? item.device.name : \\'Unknown\\'}}--{{item.mac | uppercase}}</a></li></ul></div></div><div class=\"wsl-overflow wsl-alldevice\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped table-th-text\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Device Name\\'\" class=\"wsl-md-1 col-time\" style=\"word-break:break-all;\">{{ row.device != null ? row.device.name : \\'Unknown\\' }}</td><td data-title=\"\\'Gateway Mac\\'\">{{ row.gatewayMac }}</td><td data-title=\"\\'Device Mac\\'\"><span ng-if=\"row.mac!=null\">{{row.mac}}</span> <span ng-if=\"row.mac==null\">\\u65E0</span></td><td data-title=\"\\'UUID\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\" class=\"col-md-2 alldevice-td col-time\">{{row.ibeaconUuid}}</td><td data-title=\"\\'Major\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\"><span ng-if=\"row.ibeaconMajor !== null\">{{row.ibeaconMajor}}</span> <span ng-if=\"row.ibeaconMajor === null\">\\u65E0</span></td><td data-title=\"\\'Minor\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\"><span ng-if=\"row.ibeaconMinor!=null\">{{row.ibeaconMinor}}</span> <span ng-if=\"row.ibeaconMinor==null\">\\u65E0</span></td><td data-title=\"\\'TxPower\\'\" ng-if=\"vm.deviceTypeName == \\'iBeacon\\'\"><span ng-if=\"row.ibeaconTxPower!=null\">{{row.ibeaconTxPower}}</span> <span ng-if=\"row.ibeaconTxPower==null\">\\u65E0</span></td><td data-title=\"\\'Temperature(\\u2103)\\'\" ng-if=\"vm.deviceTypeName == \\'Sensor\\'\"><span ng-if=\"row.temperature === null\">\\u65E0</span> <span ng-if=\"row.temperature !== null\">{{row.temperature.toFixed(2)}}</span></td><td data-title=\"\\'Humidity(%)\\'\" ng-if=\"vm.deviceTypeName == \\'Sensor\\'\"><span ng-if=\"row.humidity === null\">\\u65E0</span> <span ng-if=\"row.humidity !== null\">{{row.humidity.toFixed(2)}}</span></td><td data-title=\"\\'RawData\\'\" ng-if=\"vm.deviceTypeName == \\'Other\\'\"><span ng-if=\"row.rawData === null\">\\u65E0</span> <span ng-if=\"row.rawData !== null\">{{row.rawData}}</span></td><td data-title=\"\\'Rssi\\'\"><span ng-if=\"row.rssi === null\">\\u65E0</span> <span ng-if=\"row.rssi !== null\">{{row.rssi}}</span></td><td data-title=\"\\'Battery(%)\\'\" ng-if=\"vm.deviceTypeName != \\'Other\\'\"><span ng-if=\"row.battery === null\">\\u65E0</span> <span ng-if=\"row.battery !== null\">{{row.battery}}</span></td><td data-title=\"\\'Last updated time\\'\" sortable=\"\\'updatedAt\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td></tr></table></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/sensorDemo/sensor.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\" ng-controller=\"sensorsCtrl as vm\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line Gateways</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsGateway\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.name}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectGateway(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\">On-line Sensors</div><div class=\"panel-body\"><div class=\"sensor-demo-body\"><table ng-table=\"vm.tableParamsSensor\" class=\"table table-striped\"><tr ng-repeat=\"row in $data\"><td data-title=\"\\'Name\\'\" style=\"word-break:break-all;\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectSensor(row, $data)\">{{row.device != null ?row.device.name:\"Unknown\"}}</td><td data-title=\"\\'Mac\\'\" class=\"{{row.selected?\\'col-sm-6 col-xs-6 wsl-gateway-active\\':\\'wsl-gateway-inactive\\'}}\" ng-click=\"vm.selectSensor(row, $data)\">{{row.mac}}</td><td></td></tr></table></div></div></div></div></div><div class=\"row\"><div class=\"col-lg-6 col-md-6 col-sm-6 wsl-1024\"><div class=\"panel traffic-panel\"><div class=\"panel-heading\"><span>Last Updated Time :&nbsp;</span> <span>{{vm.sensor_th.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</span></div><div class=\"panel-body\"><div class=\"col-md-6 col-sm-6\"><div id=\"GAUGE_1\"></div></div><div class=\"col-md-6 col-sm-6\"><div id=\"GAUGE_2\"></div></div></div></div></div><div class=\"col-lg-6 col-md-6 col-sm-6 wsl-1024\"><div class=\"panel traffic-panel\"><div class=\"panel-heading wsl-panel-heading\"><div class=\"form-group clearfix\"><div class=\"wsl-select-float wsl-select-form-size wsl-input\"><input type=\"text\" id=\"time_input\" class=\"form-control wsl-form-select wsl-input\" name=\"datefilter\" value=\"yyyy-mm-dd to yyyy-mm-dd\"></div><div class=\"wsl-select-float wsl-select-lable2-size\" id=\"selectTime\"><label><a href=\"javascript:;\" class=\"wsl-label-default-color wsl-label-active-color\" ng-click=\"vm.selectTime($event, 1)\">1hour&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 2)\">Today&nbsp;</a></label><label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 4)\">7days&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 5)\">14days&nbsp;</a></label> <label><a href=\"javascript:;\" class=\"wsl-label-default-color\" ng-click=\"vm.selectTime($event, 6)\">30days&nbsp;</a></label></div></div></div><div class=\"panel-body\"><div id=\"LINE_1\"></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/users/createUser.html','<div class=\"modal-content\" style=\"margin-top: 130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Create User</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"User Name\" ng-model=\"item.name\"></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Email</label><div class=\"col-sm-10\"><input type=\"text\" class=\"form-control\" id=\"email\" placeholder=\"Email\" ng-model=\"item.email\"></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-2 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Password</label><div class=\"col-sm-10\"><input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\" ng-model=\"item.password\"></div></div><div class=\"form-group\"><label for=\"description\" class=\"col-sm-2 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-10\"><textarea type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"Description\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">&nbsp;Create&nbsp;</button></div></div>');\n$templateCache.put('app/pages/users/deleteGateway.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this gateway {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/users/deleteUser.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">DELETE</h4></div><div class=\"modal-body text-center\">Are you sure to delete this user {{item.name}}?</div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">Ok</button> <button type=\"button\" class=\"btn btn-primary btn-auth\" ng-click=\"cancel()\">Cancel</button></div></div>');\n$templateCache.put('app/pages/users/editUser.html','<div class=\"modal-content\" style=\"margin-top: 130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"cancel()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">Edit User</h4></div><div class=\"modal-body\"><form class=\"form-horizontal\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Name</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" id=\"name\" ng-model=\"item.name\"></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Email</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" id=\"email\" ng-model=\"item.email\" disabled=\"\" style=\"background:#E7E7E7;\"></div></div><div class=\"form-group\"><label for=\"Mphone\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Mobile Phone</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" id=\"Mphone\" ng-model=\"Mphone\" style=\"background:#E7E7E7;\" ng-intl-tel-input=\"\"></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>New Password</label><div class=\"col-sm-9\"><input type=\"password\" class=\"form-control\" id=\"password\" ng-model=\"item.password\"></div></div><div class=\"form-group\"><label for=\"confirm_password\" class=\"col-sm-3 control-label\" style=\"color: #000\"><span style=\"color: red;\">*</span>Confirm Password</label><div class=\"col-sm-9\"><input type=\"password\" class=\"form-control\" id=\"confirm_password\" ng-model=\"item.confirm_password\"></div></div><div class=\"form-group\"><label for=\"description\" class=\"col-sm-3 control-label\" style=\"color: #000\">Description</label><div class=\"col-sm-9\"><textarea type=\"text\" class=\"form-control\" id=\"description\" ng-model=\"item.description\"></textarea></div></div></form></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" ng-click=\"ok()\">&nbsp;Save&nbsp;</button></div></div>');\n$templateCache.put('app/pages/users/gateways.html','<div class=\"modal-content\" style=\"margin-top: 130px;\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button><h4 class=\"modal-title\" id=\"myModalLabel\" style=\"text-align:center;\">{{item.name}}\\'s Gateway List</h4></div><div class=\"modal-body\"><div class=\"widgets\"><div class=\"row\"></div><div class=\"panel-wls\"><div class=\"panel-body-wsl\"><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table class=\"table table-hover table-condensed gateway-table\"><tr><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Name</td><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Mac</td><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Last updated time</td><td style=\"border-top:1px solid rgba(0, 0, 0, 0.2);\">Operation</td></tr><tr ng-repeat=\"item in gateway_list\" class=\"editable-row\"><td><span editable-text=\"one.name\" e-name=\"name\" e-form=\"rowform\" e-required=\"\">{{ item.name || \\'empty\\' }}</span></td><td><span editable-text=\"one.GateWayMAC\" e-name=\"GateWayMAC\" e-form=\"rowform\" e-required=\"\">{{ item.mac || \\'empty\\' }}</span></td><td><span editable-text=\"one.major\" e-name=\"major\" e-form=\"rowform\" e-requried=\"\">{{ item.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\" || \\'empty\\' }}</span></td><td><button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(item,\\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div>');\n$templateCache.put('app/pages/users/users.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\" ng-if=\"vm.isAdmin\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"row\"><div class=\"panel traffic-panel\"><div class=\"panel-body\"><div class=\"row wsl-row-padding-15\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"modal-buttons clearfix\" style=\"float: left;\"><button type=\"button\" class=\"btn btn-default\" data-toggle=\"modal\" ng-click=\"openCreateModel(\\'md\\')\">Create</button></div></div></div></div><div class=\"wsl-overflow\" style=\"margin-top: 15px;overflow: auto;\"><table ng-table=\"vm.tableParams\" class=\"table table-condensed table-bordered table-striped\"><tr ng-repeat=\"row in $data track by row.uuid\"><td data-title=\"\\'Name\\'\">{{row.name}}</td><td data-title=\"\\'Email\\'\">{{row.email}}</td><td data-title=\"\\'Dial Code\\'\">{{row.nationcode}}</td><td data-title=\"\\'Mobile Phone\\'\">{{row.mobile_phone}}</td><td data-title=\"\\'Active\\'\">{{row.active ? \\'1\\' : \\'0\\'}}</td><td data-title=\"\\'Description\\'\">{{row.description}}</td><td data-title=\"\\'Created time\\'\">{{row.createdAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Last updated time\\'\">{{row.updatedAt | date:\"yyyy-MM-dd HH:mm:ss\"}}</td><td data-title=\"\\'Operation\\'\"><button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"userGatewaysCtrl(row, \\'md\\')\">Gateways</button> <button class=\"btn btn-primary editable-table-button btn-xs\" ng-click=\"openEditModel(row, \\'md\\')\">Edit</button> <button class=\"btn btn-danger editable-table-button btn-xs\" ng-click=\"openDeleteModel(row, \\'md\\')\">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/user/login/login.html','<main class=\"auth-main\"><div class=\"auth-block\"><h1>Welcome to BeaconYun</h1><a href=\"javascript:;\" ui-sref=\"user.register\" class=\"auth-link\">New to BeaconYun? Sign up!</a><form class=\"form-horizontal\" name=\"loginForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"username\" class=\"col-sm-2 control-label\">Email</label><div class=\"col-sm-10\"><input type=\"email\" class=\"form-control\" name=\"email\" id=\"username\" placeholder=\"Email\" ng-model=\"loginData.username\" required=\"\"> <span ng-show=\"loginForm.email.$dirty && loginForm.email.$invalid\"><span ng-show=\"loginForm.email.$error.required\" class=\"error\">Email can\\'t be blank</span> <span ng-show=\"!loginForm.email.$error.required && loginForm.email.$error.email\" class=\"error\">Email is invalid</span></span></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-2 control-label\">Password</label><div class=\"col-sm-10\"><input type=\"password\" class=\"form-control\" name=\"password\" id=\"password\" placeholder=\"Password\" ng-minlength=\"5\" ng-model=\"loginData.password\" required=\"\"> <span ng-show=\"loginForm.password.$dirty && loginForm.password.$invalid\"><span ng-show=\"loginForm.password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"loginForm.password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span></div></div><div class=\"form-group\"><div class=\"col-sm-offset-2 col-sm-10\"><button type=\"submit\" class=\"btn btn-default btn-auth signIn\" ng-disabled=\"loginForm.$invalid\" ng-click=\"login()\">Sign in</button> <a href=\"\" class=\"forgot-pass\">Forgot password?</a><div class=\"flash-error\" ng-show=\"LoginStatus\"><span>Incorrect email or password.</span></div></div></div></form></div></main>');\n$templateCache.put('app/pages/user/login/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">The account is not activated, please login mailbox to activate</p></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" ng-click=\"$close(goLogin())\" ng-if=\"data.result\">Sign in</button> <button type=\"button\" class=\"btn btn-primary\" ng-click=\"$close()\" ng-if=\"!data.result\">ok</button></div></div>');\n$templateCache.put('app/pages/user/profile/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">{{data.msg}}</p></div><div class=\"modal-footer\"></div></div>');\n$templateCache.put('app/pages/user/profile/profile.html','<main ng-if=\"$pageFinishedLoading\" ng-class=\"{ \\'menu-collapsed\\': $baSidebarService.isMenuCollapsed() }\"><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div autoscroll=\"true\" autoscroll-body-top=\"\"><div class=\"widgets\"><div class=\"panel traffic-panel\"><div class=\"panel-body\"><div class=\"col-md-6\"><form class=\"form-horizontal\" name=\"profileForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-4 control-label\">Name</label><div class=\"col-sm-8\"><input type=\"text\" class=\"form-control\" name=\"name\" id=\"name\" ng-model=\"profile.name\" required=\"\"> <span ng-show=\"profileForm.name.$dirty && profileForm.name.$invalid\"><span ng-show=\"profileForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-4 control-label\">Email</label><div class=\"col-sm-8\"><input type=\"text\" class=\"form-control\" id=\"email\" ng-model=\"profile.email\" disabled=\"\" style=\"background:rgba(231,231,231,0.2)\"></div></div><div class=\"form-group\"><label for=\"Mphone\" class=\"col-sm-4 control-label\">Mobile Phone</label><div class=\"col-sm-8\"><input type=\"text\" class=\"form-control\" name=\"Mphone\" id=\"Mphone\" ng-model=\"Mphone\" required=\"\" ng-intl-tel-input=\"\"> <span ng-show=\"profileForm.Mphone.$dirty && profileForm.Mphone.$invalid\"><span ng-show=\"profileForm.Mphone.$error.required\" class=\"error\">Mobile Phone can\\'t be blank</span> <span ng-show=\"profileForm.Mphone.$invalid && !profileForm.Mphone.$error.required\" class=\"error\">Please enter a correct phone number!</span></span></div></div><div class=\"form-group\"><label for=\"password\" class=\"col-sm-4 control-label\">New Password</label><div class=\"col-sm-8\"><input type=\"password\" class=\"form-control\" name=\"password\" id=\"password\" ng-minlength=\"5\" ng-model=\"profile.password\" required=\"\"> <span ng-show=\"profileForm.password.$dirty && profileForm.password.$invalid\"><span ng-show=\"profileForm.password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"profileForm.password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span></div></div><div class=\"form-group\"><label for=\"confirm_password\" class=\"col-sm-4 control-label\">Confirm Password</label><div class=\"col-sm-8\"><input type=\"password\" class=\"form-control\" name=\"confirm_password\" id=\"confirm_password\" ng-minlength=\"5\" ng-model=\"profile.confirm_password\" required=\"\"> <span ng-show=\"profileForm.confirm_password.$dirty && profileForm.confirm_password.$invalid\"><span ng-show=\"profileForm.confirm_password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"profileForm.confirm_password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span> <span ng-show=\"!isSame\" class=\"error\">The two passwords differ</span></div></div><div class=\"form-group\"><div class=\"col-sm-offset-2 col-sm-10\"><button type=\"submit\" class=\"btn btn-primary btn-auth\" style=\"float:right;\" ng-click=\"updateProfile()\" ng-disabled=\"profileForm.$invalid\">&nbsp;Save&nbsp;</button></div></div></form></div></div></div></div></div></div></div><back-top></back-top></main><div id=\"preloader\" ng-show=\"!$pageFinishedLoading\"><div></div></div>');\n$templateCache.put('app/pages/user/register/msg.html','<div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" ng-click=\"$dismiss()\" aria-label=\"Close\"><em class=\"ion-ios-close-empty sn-link-close\"></em></button></div><div class=\"modal-body\"><p style=\"text-align:center;\">{{data.msg}}</p></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-primary\" ng-click=\"$close(goLogin())\" ng-if=\"data.result\">ok</button></div></div>');\n$templateCache.put('app/pages/user/register/register.html','<main class=\"auth-main\"><div class=\"auth-block\"><h1>Sign up to BeaconYun</h1><a href=\"javascript:;\" ui-sref=\"user.login\" class=\"auth-link\">Already have a BeaconYun account? Sign in!</a><form class=\"form-horizontal\" name=\"registerForm\" novalidate=\"\"><div class=\"form-group\"><label for=\"name\" class=\"col-sm-3 control-label\">Name</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" name=\"name\" id=\"name\" placeholder=\"Name\" ng-model=\"registerData.name\" required=\"\"> <span ng-show=\"registerForm.name.$dirty && registerForm.name.$invalid\"><span ng-show=\"registerForm.name.$error.required\" class=\"error\">Name can\\'t be blank</span></span></div></div><div class=\"form-group\"><label for=\"email\" class=\"col-sm-3 control-label\">Email</label><div class=\"col-sm-9\"><input type=\"email\" class=\"form-control\" name=\"email\" id=\"email\" placeholder=\"Email\" ng-model=\"registerData.email\" required=\"\"> <span ng-show=\"registerForm.email.$dirty && registerForm.email.$invalid\"><span ng-show=\"registerForm.email.$error.required\" class=\"error\">Email can\\'t be blank</span> <span ng-show=\"!registerForm.email.$error.required && registerForm.email.$error.email\" class=\"error\">Email is invalid</span></span></div></div><div class=\"form-group\"><label for=\"Mphone\" class=\"col-sm-3 control-label\">Mobile Phone</label><div class=\"col-sm-9\"><input type=\"text\" class=\"form-control\" name=\"Mphone\" id=\"Mphone\" ng-model=\"Mphone\" required=\"\" ng-intl-tel-input=\"\"> <span ng-show=\"registerForm.Mphone.$dirty && registerForm.Mphone.$invalid\"><span ng-show=\"registerForm.Mphone.$error.required\" class=\"error\">Mobile Phone can\\'t be blank</span> <span ng-show=\"registerForm.Mphone.$invalid && !registerForm.Mphone.$error.required\" class=\"error\">Please enter a correct phone number!</span></span></div></div><div class=\"form-group\"><label for=\"Password\" class=\"col-sm-3 control-label\">Password</label><div class=\"col-sm-9\"><input type=\"password\" class=\"form-control\" name=\"password\" id=\"Password\" placeholder=\"Password\" ng-minlength=\"5\" ng-model=\"registerData.password\" required=\"\"> <span ng-show=\"registerForm.password.$dirty && registerForm.password.$invalid\"><span ng-show=\"registerForm.password.$error.required\" class=\"error\">Password can\\'t be blank</span> <span ng-show=\"registerForm.password.$error.minlength\" class=\"error\">Minimum is 5 characters</span></span></div></div><div class=\"form-group\"><div class=\"col-sm-offset-3 col-sm-10\"><button type=\"submit\" class=\"btn btn-default btn-auth signUp\" ng-click=\"register()\" ng-disabled=\"registerForm.$invalid\">Sign up</button></div></div></form></div></main>');\n$templateCache.put('app/theme/components/backTop/backTop.html','<i class=\"fa fa-angle-up back-top\" id=\"backTop\" title=\"Back to Top\"></i>');\n$templateCache.put('app/theme/components/baSidebar/ba-sidebar.html','<aside class=\"al-sidebar\" ng-swipe-right=\"$baSidebarService.setMenuCollapsed(false)\" ng-swipe-left=\"$baSidebarService.setMenuCollapsed(true)\" ng-mouseleave=\"hoverElemTop=selectElemTop\"><ul class=\"al-sidebar-list\" slimscroll=\"{height: \\'{{menuHeight}}px\\'}\" slimscroll-watch=\"menuHeight\"><li ng-repeat=\"item in ::menuItems\" class=\"al-sidebar-list-item\" ng-class=\"::{\\'with-sub-menu\\': item.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"item\"><a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"item.stateRef || \\'\\'\" ng-href=\"{{::(item.fixedHref ? item.fixedHref: \\'\\')}}\" ng-if=\"::!item.subMenu\" class=\"al-sidebar-list-link\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::item.subMenu\" class=\"al-sidebar-list-link\" ba-ui-sref-toggler=\"\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span> <b class=\"fa fa-angle-down\" ui-sref-active=\"fa-angle-up\" ng-if=\"::item.subMenu\"></b></a><ul ng-if=\"::item.subMenu\" class=\"al-sidebar-sublist\" ng-class=\"{\\'slide-right\\': item.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-repeat=\"subitem in ::item.subMenu\" ng-class=\"::{\\'with-sub-menu\\': subitem.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"subitem\" class=\"ba-sidebar-sublist-item\"><a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::subitem.subMenu\" ba-ui-sref-toggler=\"\" class=\"al-sidebar-list-link subitem-submenu-link\"><span>{{ ::subitem.title }}</span> <b class=\"fa\" ng-class=\"{\\'fa-angle-up\\': subitem.expanded, \\'fa-angle-down\\': !subitem.expanded}\" ng-if=\"::subitem.subMenu\"></b></a><ul ng-if=\"::subitem.subMenu\" class=\"al-sidebar-sublist subitem-submenu-list\" ng-class=\"{expanded: subitem.expanded, \\'slide-right\\': subitem.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-mouseenter=\"hoverItem($event, item)\" ng-repeat=\"subSubitem in ::subitem.subMenu\" ui-sref-active=\"selected\"><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::subSubitem.disabled\" class=\"al-sidebar-list-link\">{{ ::subSubitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"subSubitem.stateRef || \\'\\'\" ng-if=\"::!subSubitem.disabled\" ng-href=\"{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \\'\\')}}\">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::(!subitem.subMenu && subitem.disabled)\" class=\"al-sidebar-list-link\">{{ ::subitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" target=\"{{::(subitem.blank ? \\'_blank\\' : \\'_self\\')}}\" ng-if=\"::(!subitem.subMenu && !subitem.disabled)\" ui-state=\"subitem.stateRef || \\'\\'\" ng-href=\"{{::(subitem.fixedHref ? subitem.fixedHref: \\'\\')}}\">{{ ::subitem.title}}</a></li></ul></li></ul><div class=\"sidebar-hover-elem\" ng-style=\"{top: hoverElemTop + \\'px\\', height: hoverElemHeight + \\'px\\'}\" ng-class=\"{\\'show-hover-elem\\': showHoverElem }\"></div></aside>');\n$templateCache.put('app/theme/components/contentTop/contentTop.html','<div class=\"content-top clearfix\"><h1 class=\"al-title\">{{ activePageTitle }}</h1><ul class=\"breadcrumb al-breadcrumb\"><li><a href=\"#/dashboard\">Home</a></li><li>{{ activePageTitle }}</li></ul></div>');\n$templateCache.put('app/theme/components/pageTop/pageTop.html','<div class=\"page-top clearfix\" scroll-position=\"scrolled\" max-height=\"50\" ng-class=\"{\\'scrolled\\': scrolled}\"><a href=\"#/dashboard\" class=\"al-logo clearfix\"><span class=\"comp-title\"><span>Yunli</span>Wuli</span> <span class=\"wsl-logo-span clearfix\"><img ng-src=\"assets/img/logo.png\"></span></a> <a href=\"\" class=\"collapse-menu-link ion-navicon\" ba-sidebar-toggle-menu=\"\" ng-click=\"changeLogo()\"></a><div class=\"user-profile\"><div uib-dropdown=\"\"><a uib-dropdown-toggle=\"\" class=\"profile-toggle-link clearfix\"><span style=\"font-size:18px;display:block;float:right;height:50px;line-height:50px;\">Hi,&nbsp;{{username}}</span></a><ul class=\"top-dropdown-menu profile-dropdown\" uib-dropdown-menu=\"\" style=\"left:auto;right:0;\"><li><i class=\"dropdown-arr\"></i></li><li><a href=\"#/user/profile\"><i class=\"fa fa-gear\"></i>Profile</a></li><li><a href=\"javascript:;\" ng-click=\"signOut()\" class=\"signout\"><i class=\"fa fa-power-off\"></i>Sign out</a></li></ul></div></div></div>');\n$templateCache.put('app/theme/components/widgets/widgets.html','<div class=\"widgets\"><div ng-repeat=\"widgetBlock in ngModel\" ng-class=\"{\\'row\\': widgetBlock.widgets.length > 1}\"><div ng-repeat=\"widgetCol in widgetBlock.widgets\" ng-class=\"{\\'col-md-6\\': widgetBlock.widgets.length === 2}\" ng-model=\"widgetCol\" class=\"widgets-block\"><div ba-panel=\"\" ba-panel-title=\"{{::widget.title}}\" ng-repeat=\"widget in widgetCol\" ba-panel-class=\"with-scroll {{widget.panelClass}}\"><div ng-include=\"widget.url\"></div></div></div></div></div>');\n$templateCache.put('app/theme/inputs/baSwitcher/baSwitcher.html','<label class=\"switcher-container\"><input type=\"checkbox\" ng-model=\"switcherValue\"><div class=\"switcher\" ng-class=\"::switcherStyle\"><div class=\"handle-container\"><span class=\"handle handle-on\">ON</span> <span class=\"handle\"></span> <span class=\"handle handle-off\">OFF</span></div></div></label>');}]);"],"sourceRoot":"/source/"}