/**
 * @author chris
 * created on 2017-04-20
 */
!function(){"use strict";function e(e,t,a){t.state("pages",{url:"/pages",templateUrl:"app/pages/pages.html"}),e.otherwise("/user/login")}e.$inject=["$urlRouterProvider","$stateProvider","baSidebarServiceProvider"],angular.module("BlurAdmin.pages",["ui.router","BlurAdmin.pages.dashboard","BlurAdmin.pages.gateway","BlurAdmin.pages.device","BlurAdmin.pages.alldevice","BlurAdmin.pages.sensors","BlurAdmin.pages.asset_tags","BlurAdmin.pages.user","BlurAdmin.pages.users","BlurAdmin.pages.ibeacons","BlurAdmin.pages.activate"]).config(e),angular.module("BlurAdmin.pages").config(["$echartsProvider",function(e){e.setGlobalOption({theme:"macarons",driftPalette:!0,title:{left:"center",top:"top",padding:[20,10,10,10]},backgroundColor:"",textStyle:{color:"#ffffff"}})}])}(),function(){"use strict";angular.module("BlurAdmin.theme",["toastr","chart.js","angular-chartist","angular.morris-chart","textAngular","BlurAdmin.theme.components","BlurAdmin.theme.inputs"])}(),function(){"use strict";function e(e,t){e.state("activate",{url:"/activate",templateUrl:"app/pages/activate/activate.html",title:"Activate",controller:"ActivateCtrl as vm"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.activate",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("dashboard",{url:"/dashboard",templateUrl:"app/pages/dashboard/dashboard.html",title:"Dashboard",controller:"DashboardCtrl as vm",sidebarMeta:{icon:"ion-android-home",order:0}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.dashboard",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("asset",{url:"/asset",templateUrl:"app/pages/assetDemo/asset.html",title:"Asset Demo",controller:"assetTagsCtrl as vm",sidebarMeta:{icon:"fa fa-money",order:20}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.asset_tags",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("device",{url:"/device",templateUrl:"app/pages/device/device.html",title:"Device",controller:"deviceCtrl as vm",sidebarMeta:{icon:"fa fa-desktop",order:50}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.device",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("gateway",{url:"/gateway",templateUrl:"app/pages/gateway/gateway.html",title:"Gateway",controller:"gatewayCtrl as vm",sidebarMeta:{icon:"fa fa-hdd-o",order:50}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.gateway",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("ibeacon",{url:"/ibeacon",templateUrl:"app/pages/ibeaconDemo/ibeacon.html",title:"iBeacon Demo",sidebarMeta:{icon:"fa fa-feed",order:12}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.ibeacons",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("sensor",{url:"/sensor",templateUrl:"app/pages/sensorDemo/sensor.html",title:"Sensor Demo",sidebarMeta:{icon:"fa fa-line-chart",order:10}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.sensors",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("status",{url:"/status",templateUrl:"app/pages/status/status.html",title:"Status",controller:"statusCtrl as vm",sidebarMeta:{icon:"fa fa-cubes",order:150}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.alldevice",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("user",{url:"/user",template:'<ui-view  autoscroll="true" autoscroll-body-top></ui-view>',abstract:!0})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.user",["BlurAdmin.pages.login","BlurAdmin.pages.register","BlurAdmin.pages.profile"]).config(e)}(),function(){"use strict";function e(e,t){e.state("users",{url:"/users",templateUrl:"app/pages/users/users.html",title:"User",controller:"usersCtrl as vm",sidebarMeta:{icon:"fa fa-user",order:200}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.users",[]).config(e)}(),function(){"use strict";angular.module("BlurAdmin.theme.components",[])}(),function(){"use strict";angular.module("BlurAdmin.theme.inputs",[])}(),function(){"use strict";function e(e,t){e.state("user.login",{url:"/login",templateUrl:"app/pages/user/login/login.html",controller:"LoginCtrl as vm"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.login",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("user.profile",{url:"/profile",templateUrl:"app/pages/user/profile/profile.html",title:"Profile",controller:"ProfileCtrl as vm"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.profile",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("user.register",{url:"/register",templateUrl:"app/pages/user/register/register.html",controller:"RegisterCtrl as vm"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("BlurAdmin.pages.register",[]).config(e)}(),angular.module("BlurAdmin",["ngAnimate","ui.bootstrap","ui.sortable","ui.router","ngTouch","toastr","smart-table","xeditable","ui.slimscroll","ngJsTree","ngTable","angular-progress-button-styles","chart.js","echarts-ng","ngIntlTelInput","BlurAdmin.theme","BlurAdmin.pages"]),function(){"use strict";function e(e,a,s){s.decorator("$uiViewScroll",t)}function t(e,t,a){return function(s){a.hasAttr(s,"autoscroll-body-top")?t():e(s)}}e.$inject=["baConfigProvider","colorHelper","$provide"],t.$inject=["$delegate","$anchorScroll","baUtil"],angular.module("BlurAdmin.theme").config(e)}(),function(){"use strict";function e(e){var n={theme:{blur:!0},colors:{default:t.default,defaultText:t.defaultText,border:t.border,borderDark:t.borderDark,primary:a.primary,info:a.info,success:a.success,warning:a.warning,danger:a.danger,primaryLight:e.tint(a.primary,30),infoLight:e.tint(a.info,30),successLight:e.tint(a.success,30),warningLight:e.tint(a.warning,30),dangerLight:e.tint(a.danger,30),primaryDark:e.shade(a.primary,15),infoDark:e.shade(a.info,15),successDark:e.shade(a.success,15),warningDark:e.shade(a.warning,15),dangerDark:e.shade(a.danger,15),dashboard:{blueStone:s.blueStone,surfieGreen:s.surfieGreen,silverTree:s.silverTree,gossip:s.gossip,white:s.white}}};return n.changeTheme=function(e){angular.merge(n.theme,e)},n.changeColors=function(e){angular.merge(n.colors,e)},n.$get=function(){return delete n.$get,n},n}e.$inject=["colorHelper"];var t={default:"rgba(#000000, 0.2)",defaultText:"#ffffff",border:"#dddddd",borderDark:"#aaaaaa"},a={primary:"#209e91",info:"#2dacd1",success:"#90b900",warning:"#dfb81c",danger:"#e85656"},s={blueStone:"#005562",surfieGreen:"#0e8174",silverTree:"#6eba8c",gossip:"#b9f2a1",white:"#10c4b5"};angular.module("BlurAdmin.theme").provider("baConfig",e)}(),function(){"use strict";function e(e,t,a){function s(e){return e.toString(16)}function n(e){return parseInt(e,16)}for(var i="#",l=1;l<7;l+=2){var o=n(e.substr(l,2)),r=n(t.substr(l,2)),c=s(Math.floor(r+(o-r)*(a/100)));i+=("0"+c).slice(-2)}return i}var t="assets/img/";angular.module("BlurAdmin.theme").constant("API_URL","http://rizal23.com:8080").constant("layoutSizes",{resWidthCollapseSidebar:1200,resWidthHideSidebar:500}).constant("layoutPaths",{images:{root:t,profile:t+"app/profile/",amMap:"assets/img/theme/vendor/ammap//dist/ammap/images/",amChart:"assets/img/theme/vendor/amcharts/dist/amcharts/images/"}}).constant("colorHelper",{tint:function(t,a){return e("#ffffff",t,a)},shade:function(t,a){return e("#000000",t,a)}})}(),function(){"use strict";function e(e,t,a,s,n,i,l){var o=[s.loadAmCharts()],r=l;r.blur&&(r.mobile?o.unshift(s.loadImg(a.images.root+"blur-bg-mobile.jpg")):(o.unshift(s.loadImg(a.images.root+"blur-bg.jpg")),o.unshift(s.loadImg(a.images.root+"blur-bg-blurred.jpg")))),n.all(o).then(function(){t.$pageFinishedLoading=!0}),e(function(){t.$pageFinishedLoading||(t.$pageFinishedLoading=!0)},3e3),t.$baSidebarService=i}e.$inject=["$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings"],angular.module("BlurAdmin.theme").run(e)}(),function(){"use strict";function e(e){var t=/android|webos|iphone|ipad|ipod|blackberry|windows phone/.test(navigator.userAgent.toLowerCase()),a=t?"mobile":"",s=e.theme.blur?"blur-theme":"";return angular.element(document.body).addClass(a).addClass(s),{blur:e.theme.blur,mobile:t}}e.$inject=["baConfig"],angular.module("BlurAdmin.theme").service("themeLayoutSettings",e)}(),function(){"use strict";var e=angular.module("BlurAdmin.pages.dashboard");e.controller("ActivateCtrl",["$scope","$http","$state","$timeout",function(e,t,a,s){var n=window.location.href,i=n.split("?");if(e.isValid=!0,e.second=1,2==i.length){var l="http://rizal23.com:8080/account/activate?"+i[1];console.log(l),t({method:"GET",url:l,headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),200===t.data.status?(e.isValid=!0,s(function(){window.location="http://rizal23.com"},2e3)):400===t.data.status&&(e.isValid=!1)},function(t){e.isValid=!1,console.log(t)})}}])}(),function(){"use strict";var e=angular.module("BlurAdmin.pages.dashboard");e.controller("DashboardCtrl",["$scope","$interval","NgTableParams","$timeout","httpService","$uibModal","$http","AuthTokenFactory",function(e,t,a,s,n,i,l,o){function r(){var e=20,t=0,a="",s=o.getToken(),i="Gateway";n.getTypeStatus(t,e,a,i,s).success(function(e){c.GatewayList=e.data}).error(function(e,t){console.log(e),n.httpStatusCode(t)});var l="Gateway";n.getDeviceStatus(t,e,a,l,s).success(function(e){c.DeviceList=e.data}).error(function(e,t){console.log(e),n.httpStatusCode(t)})}var c=this;c.servers_chart={totals:2,nows:2},c.messages_chart={totals:23},c.gateways_total=0,c.devices_total=0,c.GatewayList={},c.DeviceList={};var d=o.getToken(),u="",p="",m="";n.getGatewayList(u,p,m,d).success(function(e){c.gateways_total=e.totalItems}).error(function(e,t){console.log(e),n.httpStatusCode(t)}),n.getDeviceList(u,p,m,d).success(function(e){c.devices_total=e.totalItems}).error(function(e,t){console.log(e),n.httpStatusCode(t)}),r(),e.sil=t(r,5e3),e.$on("$destroy",function(){t.cancel(e.sil)})}])}(),function(){"use strict";function e(e,t){for(var a=null,s=0;s<e.length;s++)t==e[s].mac&&(a=e[s]);return a}function t(e,t){for(var a=!0,s=0;s<e.length;s++)t==e[s].mac&&(a=!1);return a}function a(e){for(var t=e,a=[],s=0;s<t.length;s++)t[s].delete&&a.push(s);for(var s=0;s<a.length;s++)t.splice(a[s],1);return t}function s(a,s){for(var n="",i="",l=0;l<a.length;l++){var o=e(s,a[l].mac);null==o?(a[l].delete=!0,i++):a[l].delete=!1,a[l].isNew=!1}for(var l=0;l<s.length;l++)s[l].isNew=t(a,s[l].mac),s[l].isNew&&(a.unshift(s[l]),n++);return a.countDelete=i,a.countNew=n,a}var n=angular.module("BlurAdmin.pages.asset_tags");n.controller("assetTagsCtrl",["$scope","$interval","NgTableParams","$timeout","httpService","$uibModal","$http","AuthTokenFactory",function(e,t,n,i,l,o,r,c){function d(){g.First1||g.tableParams1.reload()}function u(){g.First2||g.tableParams2.reload()}function p(){g.First3||g.tableParams3.reload()}function m(){g.First4||g.tableParams4.reload()}var g=this;g.gatewaylist1=[],g.gatewaylist2=[],g.gatewaylist3=[],g.gatewaylist4=[],g.gateway1_value="",g.gateway2_value="",g.gateway3_value="",g.gateway4_value="",g.devicelist1=[],g.devicelist2=[],g.devicelist3=[],g.devicelist4=[],g.gateway1=[],g.gateway2=[],g.gateway3=[],g.gateway4=[],g.gateway1_old=[],g.gateway2_old=[],g.gateway3_old=[],g.gateway4_old=[],g.First1=!0,g.First2=!0,g.First3=!0,g.First4=!0,g.isFirst1=!0,g.isFirst2=!0,g.isFirst3=!0,g.isFirst4=!0,g.gatewayMsg="Select Gateway";var v=100,b=0,f="",h=c.getToken();l.getGatewayList(b,v,f,h).success(function(e){g.gatewaylist1=e.data,e.data.length>0&&(g.gateway1_value=g.gatewaylist1[0],g.tableParams1=new n({page:1,count:1e3},{filterDelay:300,counts:[],getData:function(e,t){var n=t.filter(),i=t.count(),o=t.page()-1,r="",d=c.getToken(),u=n.gatewayMac,p=1800;void 0===u&&(u=g.gateway1_value),l.getDeviceByGatewayBytimeRange(o,i,r,"iBeacon",u.mac,p,d).success(function(n){g.gateway1=n.data,g.isFirst1||(g.gateway1_old=a(g.devicelist1),g.devicelist1=s(g.gateway1_old,g.gateway1)),g.isFirst1&&(g.devicelist1=g.gateway1,g.First1=!1,g.isFirst1=!1),t.total(n.totalItems),e.resolve(g.devicelist1)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}))}).error(function(e,t){console.log(e),l.httpStatusCode(t)}),$("#gateway1_new").addClass("animated fadeInLeft wsl-new-title"),$("#gateway1_delete").addClass("animated fadeInLeft wsl-delete-title"),l.getGatewayList(b,v,f,h).success(function(e){g.gatewaylist2=e.data,e.data.length>0&&(g.gateway2_value=g.gatewaylist2[0],g.tableParams2=new n({page:1,count:1e3},{filterDelay:300,counts:[],getData:function(e,t){var n=t.filter(),i=t.count(),o=t.page()-1,r="",d=c.getToken(),u=n.gatewayMac,p=1800;void 0===u&&(u=g.gateway2_value),l.getDeviceByGatewayBytimeRange(o,i,r,"iBeacon",u.mac,p,d).success(function(n){g.gateway2=n.data,g.isFirst2||(g.gateway2_old=a(g.devicelist2),g.devicelist2=s(g.gateway2_old,g.gateway2)),g.isFirst2&&(g.devicelist2=g.gateway2,g.isFirst2=!1,g.First2=!1),t.total(n.totalItems),e.resolve(g.devicelist2)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}))}).error(function(e,t){console.log(e),l.httpStatusCode(t)}),$("#gateway2_new").addClass("animated fadeInLeft wsl-new-title"),$("#gateway2_delete").addClass("animated fadeInLeft wsl-delete-title"),l.getGatewayList(b,v,f,h).success(function(e){g.gatewaylist3=e.data,e.data.length>0&&(g.gateway3_value=g.gatewaylist3[0],g.tableParams3=new n({page:1,count:1e3},{filterDelay:300,counts:[],getData:function(e,t){var n=t.filter(),i=t.count(),o=t.page()-1,r="",d=c.getToken(),u=n.gatewayMac,p=1800;void 0===u&&(u=g.gateway3_value),l.getDeviceByGatewayBytimeRange(o,i,r,"iBeacon",u.mac,p,d).success(function(n){g.gateway3=n.data,g.isFirst3||(g.gateway3_old=a(g.devicelist3),g.devicelist3=s(g.gateway3_old,g.gateway3)),g.isFirst3&&(g.devicelist3=g.gateway3,g.isFirst3=!1,g.First3=!1),t.total(n.totalItems),e.resolve(g.devicelist3)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}))}).error(function(e,t){console.log(e),l.httpStatusCode(t)}),$("#gateway3_new").addClass("animated fadeInLeft wsl-new-title"),$("#gateway3_delete").addClass("animated fadeInLeft wsl-delete-title"),l.getGatewayList(b,v,f,h).success(function(e){g.gatewaylist4=e.data,e.data.length>0&&(g.gateway4_value=g.gatewaylist4[0],g.tableParams4=new n({page:1,count:1e3},{filterDelay:300,counts:[],getData:function(e,t){var n=t.filter(),i=t.count(),o=t.page()-1,r="",d=c.getToken(),u=n.gatewayMac,p=1800;void 0===u&&(u=g.gateway4_value),l.getDeviceByGatewayBytimeRange(o,i,r,"iBeacon",u.mac,p,d).success(function(n){g.gateway4=n.data,g.isFirst4||(g.gateway4_old=a(g.devicelist4),g.devicelist4=s(g.gateway4_old,g.gateway4)),g.isFirst4&&(g.devicelist4=g.gateway4,g.isFirst4=!1,g.First4=!1),t.total(n.totalItems),e.resolve(g.devicelist4)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}))}).error(function(e,t){console.log(e),l.httpStatusCode(t)}),$("#gateway4_new").addClass("animated fadeInLeft wsl-new-title"),$("#gateway4_delete").addClass("animated fadeInLeft wsl-delete-title"),g.selectGateway1=function(e){g.gateway1_value=e,g.isFirst1=!0,g.tableParams1.filter({gatawayMac:g.gateway1_value})},g.selectGateway2=function(e){g.gateway2_value=e,g.isFirst2=!0,g.tableParams2.filter({gatawayMac:g.gateway2_value})},g.selectGateway3=function(e){g.gateway3_value=e,g.isFirst3=!0,g.tableParams3.filter({gatawayMac:g.gateway3_value})},g.selectGateway4=function(e){g.gateway4_value=e,g.isFirst4=!0,g.tableParams4.filter({gatawayMac:g.gateway4_value})},e.sil1=t(d,5e3),e.sil2=t(u,5e3),e.sil3=t(p,5e3),e.sil4=t(m,5e3),e.$on("$destroy",function(){t.cancel(e.sil1),t.cancel(e.sil2),t.cancel(e.sil3),t.cancel(e.sil4)})}])}(),function(){"use strict";function e(e,t,a,s,n,i,l,o){var r=this;this.animationsEnabled=!0,r.tableParams=new s({page:1,count:10},{filterDelay:300,counts:[],getData:function(e,t){var a=(t.filter(),t.count()),s=t.page()-1,n="",i=o.getToken();l.getDeviceList(s,a,n,i).success(function(a){t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}),e.openCreateModel=function(t){var a=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/device/createDevice.html",controller:"createDeviceCtrl",size:t,resolve:{item:function(){return e.item}}});a.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openEditModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/device/editDevice.html",controller:"editDeviceCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openDeleteModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/device/deleteDevice.html",controller:"deleteDeviceCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})}}function t(e,t,a,s){e.item={},e.type_list=["iBeacon","Sensor","Unknown"],"Sensor"==e.select?e.item.type="S1":"iBeacon"==e.select?e.item.type="iBeacon":e.item.type="Unknown",e.ok=function(){if(e.item){var n=a.getToken();e.item.mac=e.item.mac.toUpperCase(),"Sensor"==e.select?e.item.type="S1":"iBeacon"==e.select?e.item.type="iBeacon":e.item.type="Unknown",s.addDevice(e.item,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function a(e,t,a,s,n){e.item=n,e.type_list=["iBeacon","Sensor","Unknown"],"S1"==e.item.type&&(e.item.type="Sensor"),e.ok=function(){if(e.item){var n=a.getToken();"Sensor"==e.item.type&&(e.item.type="S1"),s.updateDevice(e.item,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function s(e,t,a,s,n){e.item=n,e.ok=function(){if(e.item){var n=a.getToken();s.deleteDevice(e.item.uuid,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}t.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService"],s.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],e.$inject=["$scope","$filter","editableOptions","NgTableParams","editableThemes","$uibModal","httpService","AuthTokenFactory"],a.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],angular.module("BlurAdmin.pages.device").controller("deviceCtrl",e).controller("createDeviceCtrl",t).controller("editDeviceCtrl",a).controller("deleteDeviceCtrl",s)}(),function(){"use strict";function e(e,t,a,s,n,i,l,o){var r=this;this.animationsEnabled=!0,r.tableParams=new s({page:1,count:10},{filterDelay:300,counts:[],getData:function(e,t){var a=(t.filter(),t.count()),s=t.page()-1,n="",i=o.getToken();l.getGatewayList(s,a,n,i).success(function(a){console.log(a),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}),e.openCreateModel=function(t){var a=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/gateway/createGateway.html",controller:"createGatewayCtrl",size:t,resolve:{item:function(){return e.item}}});a.result.then(function(t){e.result=t,404===t.status&&(e.item="The gateway has been bound by other user",c("sm")),r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openEditModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/gateway/editGateway.html",controller:"editGatewayCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openDeleteModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/gateway/deleteGateway.html",controller:"deleteGatewayCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openRebootModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/gateway/rebootGateway.html",controller:"rebootGatewayCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.toggleAnimation=function(){e.animationsEnabled=!e.animationsEnabled};var c=function(t){i.open({animation:e.animationsEnabled,templateUrl:"app/pages/gateway/msg.html",controller:"OpenMsgCtrl",size:t,resolve:{item:function(){return e.item}}})}}function t(e,t,a,s){e.item={},e.ok=function(){if(e.item){var n=a.getToken();e.item.status="Offline",e.item.mac=e.item.mac.toUpperCase(),s.addGateway(e.item,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function a(e,t,a,s,n){e.item=n,e.ok=function(){if(e.item){var n=a.getToken();s.updateGateway(e.item,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function s(e,t,a,s,n){e.item=n,e.ok=function(){if(e.item){var n=a.getToken();s.deleteGateway(e.item.uuid,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function n(e,t,a,s,n){e.item=n,e.ok=function(){if(e.item){var n=a.getToken();s.addOperation(e.item.uuid,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function i(e,t,a){e.data=a}e.$inject=["$scope","$filter","editableOptions","NgTableParams","editableThemes","$uibModal","httpService","AuthTokenFactory"],t.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService"],a.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],s.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],n.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],i.$inject=["$scope","$uibModalInstance","item"],angular.module("BlurAdmin.pages.gateway").controller("gatewayCtrl",e).controller("createGatewayCtrl",t).controller("editGatewayCtrl",a).controller("deleteGatewayCtrl",s).controller("rebootGatewayCtrl",n).controller("OpenMsgCtrl",i)}(),function(){"use strict";function e(e,t,a,s,n,i,l,o,r){function c(t){if(t){for(var a=t[0].values,s=a.length,n=[],i=[],l=0;l<s;l++){var o=a[l],r=o[0],c=o[1],d=o[2];null!=c&&(c=c.toFixed(2),n.push({name:"battery",value:[r,c]})),null!=d&&(d=d.toFixed(2),i.push({name:"rssi",value:[r,d]}))}var u=[];u.t_line=n,u.h_line=i,e.LINE_2.setOption({series:[{data:u.h_line}]})}else e.LINE_2.setOption({series:[{data:[]}]})}var d=this;d.gateway=[],d.sensor=[],d.sensor_th="",d.th_line={},d.th_data=null,d.startTime=120,d.endTime=0,d.tableParamsGateway=new n({page:1,count:100},{filterDelay:300,counts:[],getData:function(e,t){var a=(t.filter(),t.count()),s=t.page()-1,i="",o=r.getToken();l.getGatewayList(s,a,i,o).success(function(a){a.data.length>0&&(d.gateway=a.data[0],a.data[0].selected=!0,d.tableParamsSensor=new n({page:1,count:100},{filterDelay:300,counts:[],getData:function(e,t){var a=t.filter(),s=a.gatewayMac,n=t.count(),i=t.page()-1,o="",c=r.getToken();void 0===s&&(s=d.gateway.mac),l.getSensor(i,n,o,"iBeacon",s,c).success(function(a){a.data.length>0?(d.sensor=a.data[0],a.data[0].selected=!0,u()):(d.sensor=[],u()),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}})),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}),d.selectTime=function(e,t){for(var a=e.target.parentElement.parentElement,s=a.children,n=[],i=0;i<s.length;i++)n.push(s[i].children[0]),$(s[i].children[0]).addClass("wsl-label-default-color"),$(s[i].children[0]).removeClass("wsl-label-active-color");$(e.target).removeClass("wsl-label-default-color"),$(e.target).addClass("wsl-label-active-color");var l=Math.floor((new Date).getTime()/1e3);switch(t){case 1:d.startTime=10,d.endTime=0;break;case 2:d.startTime=120,d.endTime=0;break;case 3:d.startTime=3600,d.endTime=0;break;case 4:d.startTime=l-Math.floor(Date.parse(new Date((new Date).format("yyyy/MM/dd")))/1e3),d.endTime=0}u()},d.selectGateway=function(e,t){d.gateway=e,angular.forEach(t,function(t){t.selected=!1,t.uuid==e.uuid&&(t.selected=!0)}),d.tableParamsSensor.filter({gatewayMac:d.gateway.mac})},d.selectiBeacon=function(e,t){d.sensor=e,angular.forEach(t,function(t){t.selected=!1,t.uuid==e.uuid&&(t.selected=!0)}),u()},d.th_line={textStyle:{color:"#fff"},tooltip:{trigger:"axis",formatter:function(e,t,a){var s=e[0],n=s.seriesName,l=s.value;return n+"<br/>Time : "+i("date")(new Date(l[0]),"yyyy-MM-dd HH:mm:ss")+"<br/>Value : "+l[1]}},grid:[{x:45,y:5,width:"95%",height:"92%"}],xAxis:[{gridIndex:0,type:"time",splitLine:{show:!1}}],yAxis:[{gridIndex:0,scale:!0,interval:5,max:-10,min:-100,type:"value",boundaryGap:[0,"100%"],splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(255,255,255,0.24)"}},axisLabel:{formatter:function(e,t){return e.toFixed(1)}}}],series:[{xAxisIndex:0,yAxisIndex:0,name:"Rssi",type:"line",showSymbol:!1,animation:!1,hoverAnimation:!1,itemStyle:{normal:{color:"rgba(30,144,255,0.8)"}},data:[]}]},e.LINE_2=echarts.init(document.getElementById("LINE_2")),e.LINE_2.setOption(d.th_line),e.sil1=null,e.sil2=null;var u=function(){if(d.sensor.mac){var e=r.getToken();l.getMinewdbData2(d.gateway.mac,d.sensor.mac,d.startTime,d.endTime,e).success(function(e){console.log(e),null!=e.data[0].series?(d.th_data=e.data[0].series,c(d.th_data)):(d.th_data=null,c(d.th_data))}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}else d.th_data=null,c(d.th_data)};e.sil2=a(u,1e3),window.onresize=function(){e.LINE_2.resize()},e.$on("$destroy",function(){a.cancel(e.sil1),a.cancel(e.sil2)})}e.$inject=["$scope","$echarts","$interval","$timeout","NgTableParams","$filter","httpService","$http","AuthTokenFactory"],Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},angular.module("BlurAdmin.pages.ibeacons").controller("ibeaconCtrl",e)}(),function(){"use strict";function e(e){var t={},a={};if(e){var s=e.temperature,n=e.humidity;null!=s&&(s=s.toFixed(2)),null!=n&&(n=n.toFixed(2)),null!=s&&null!=n&&(t=s,a=n)}var i=[];return i.t_gauge=t,i.h_gauge=a,i}function t(t,a,s,n,i,l,o,r,c){function d(e){angular.equals({},e.t_gauge)||(p.t_gauge.series[0].data[0].value=e.t_gauge,p.t_gauge.series[0].axisLine.lineStyle.color[0][1]="lime",p.t_gauge.series[0].axisLine.lineStyle.color[1][1]="#1e90ff",p.t_gauge.series[0].axisLine.lineStyle.color[2][1]="#ff4500",p.t_gauge.series[0].detail.backgroundColor="rgba(30,144,255,0.8)",t.GAUGE_1.setOption(p.t_gauge)),angular.equals({},e.t_gauge)&&(p.t_gauge.series[0].data[0].value=0,p.t_gauge.series[0].axisLine.lineStyle.color[0][1]="rgba(255, 255, 255, 0.54)",p.t_gauge.series[0].axisLine.lineStyle.color[1][1]="rgba(255, 255, 255, 0.54)",p.t_gauge.series[0].axisLine.lineStyle.color[2][1]="rgba(255, 255, 255, 0.54)",p.t_gauge.series[0].detail.backgroundColor="rgba(255, 255, 255, 0.54)",t.GAUGE_1.setOption(p.t_gauge)),angular.equals({},e.h_gauge)||(p.h_gauge.series[0].data[0].value=e.h_gauge,p.h_gauge.series[0].axisLine.lineStyle.color[0][1]="lime",p.h_gauge.series[0].axisLine.lineStyle.color[1][1]="#1e90ff",p.h_gauge.series[0].axisLine.lineStyle.color[2][1]="#ff4500",p.h_gauge.series[0].detail.backgroundColor="#FBA92F",t.GAUGE_2.setOption(p.h_gauge)),angular.equals({},e.h_gauge)&&(p.h_gauge.series[0].data[0].value=0,p.h_gauge.series[0].axisLine.lineStyle.color[0][1]="rgba(255, 255, 255, 0.54)",p.h_gauge.series[0].axisLine.lineStyle.color[1][1]="rgba(255, 255, 255, 0.54)",p.h_gauge.series[0].axisLine.lineStyle.color[2][1]="rgba(255, 255, 255, 0.54)",p.h_gauge.series[0].detail.backgroundColor="rgba(255, 255, 255, 0.54)",t.GAUGE_2.setOption(p.h_gauge))}function u(e){if(e){for(var a=e[0].values,s=a.length,n=[],i=[],l=0;l<s;l++){var o=a[l],r=o[0],c=o[1],d=o[2];null!=c&&(c=c.toFixed(2),n.push({name:"temperature",value:[r,c]})),null!=d&&(d=d.toFixed(2),i.push({name:"humidity",value:[r,d]}))}var u=[];u.t_line=n,u.h_line=i,t.LINE_1.setOption({series:[{data:u.t_line},{data:u.h_line}]})}else t.LINE_1.setOption({series:[{data:[]},{data:[]}]})}var p=this;p.gateway=[],p.sensor=[],p.sensor_th="",p.t_gauge={},p.h_gauge={},p.th_line={},p.th_data=null,p.startTime=3600,p.endTime=0,p.tableParamsGateway=new i({page:1,count:100},{filterDelay:300,counts:[],getData:function(e,t){var a=(t.filter(),t.count()),s=t.page()-1,n="",l=c.getToken();o.getGatewayList(s,a,n,l).success(function(a){a.data.length>0&&(p.gateway=a.data[0],a.data[0].selected=!0,p.tableParamsSensor=new i({page:1,count:100},{filterDelay:300,counts:[],getData:function(e,t){var a=t.filter(),s=a.gatewayMac,n=t.count(),i=t.page()-1,l="",r=c.getToken();void 0===s&&(s=p.gateway.mac),o.getSensor(i,n,l,"S1",s,r).success(function(a){a.data.length>0?(p.sensor=a.data[0],a.data[0].selected=!0,m(),g()):(p.sensor=[],m(),g()),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),o.httpStatusCode(t)})}})),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),o.httpStatusCode(t)})}}),p.selectTime=function(e,t){for(var a=e.target.parentElement.parentElement,s=a.children,n=[],i=0;i<s.length;i++)n.push(s[i].children[0]),$(s[i].children[0]).addClass("wsl-label-default-color"),$(s[i].children[0]).removeClass("wsl-label-active-color");$(e.target).removeClass("wsl-label-default-color"),$(e.target).addClass("wsl-label-active-color");var l=86400,o=Math.floor((new Date).getTime()/1e3);switch(t){case 1:p.startTime=3600,p.endTime=0;break;case 2:p.startTime=o-Math.floor(Date.parse(new Date((new Date).format("yyyy/MM/dd")))/1e3),p.endTime=0;break;case 3:p.startTime=2*l,p.endTime=l;break;case 4:p.startTime=7*l,p.endTime=0;break;case 5:p.startTime=14*l,p.endTime=0;break;case 6:p.startTime=30*l,p.endTime=0}$('input[name="datefilter"]').val("yyyy-mm-dd to yyyy-mm-dd"),g()},p.selectGateway=function(e,t){p.gateway=e,angular.forEach(t,function(t){t.selected=!1,t.uuid==e.uuid&&(t.selected=!0)}),p.tableParamsSensor.filter({gatewayMac:p.gateway.mac})},p.selectSensor=function(e,t){p.sensor=e,angular.forEach(t,function(t){t.selected=!1,t.uuid==e.uuid&&(t.selected=!0)}),m(),g()},p.t_gauge={tooltip:{formatter:"{a} <br/>{c} {b}"},dataLoaded:!0,series:[{name:"Temperature",type:"gauge",min:-40,max:80,splitNumber:10,radius:"95%",axisLine:{lineStyle:{color:[[.09,"rgba(255, 255, 255, 0.54)"],[.82,"rgba(255, 255, 255, 0.54)"],[1,"rgba(255, 255, 255, 0.54)"]],width:3,shadowColor:"#fff",shadowBlur:10}},axisLabel:{textStyle:{fontWeight:"bolder",color:"#fff",shadowColor:"#fff",shadowBlur:10}},axisTick:{length:15,lineStyle:{color:"auto",shadowColor:"#fff",shadowBlur:10}},splitLine:{length:25,lineStyle:{width:3,color:"#fff",shadowColor:"#fff",shadowBlur:10}},pointer:{shadowColor:"#fff",shadowBlur:5},title:{textStyle:{fontWeight:"bolder",fontSize:20,fontStyle:"italic",color:"#fff",shadowColor:"#fff",shadowBlur:10}},detail:{width:70,height:35,backgroundColor:"rgba(255, 255, 255, 0.54)",borderWidth:.5,borderColor:"#fff",shadowColor:"#fff",shadowBlur:2.5,offsetCenter:[0,"80%"],formatter:function(e){return e.toFixed(2)+"°C"},textStyle:{fontWeight:"bolder",color:"#fff",fontSize:16}},data:[{value:0,name:"°C"}]}]},
p.h_gauge={tooltip:{formatter:"{a} <br/>{c} {b}"},series:[{name:"Humidity",type:"gauge",min:0,max:100,splitNumber:10,radius:"95%",axisLine:{lineStyle:{color:[[.09,"rgba(255, 255, 255, 0.54)"],[.82,"rgba(255, 255, 255, 0.54)"],[1,"rgba(255, 255, 255, 0.54)"]],width:3,shadowColor:"#fff",shadowBlur:10}},axisLabel:{textStyle:{fontWeight:"bolder",color:"#fff",shadowColor:"#fff",shadowBlur:10}},axisTick:{length:15,lineStyle:{color:"auto",shadowColor:"#fff",shadowBlur:10}},splitLine:{length:25,lineStyle:{width:3,color:"#fff",shadowColor:"#fff",shadowBlur:10}},pointer:{shadowColor:"#fff",shadowBlur:5},title:{textStyle:{fontWeight:"bolder",fontSize:20,fontStyle:"italic",color:"#fff",shadowColor:"#fff",shadowBlur:10}},detail:{width:70,height:35,backgroundColor:"rgba(255, 255, 255, 0.54)",borderWidth:.5,borderColor:"#fff",shadowColor:"#fff",shadowBlur:2.5,offsetCenter:[0,"80%"],formatter:function(e){return e.toFixed(2)+"%"},textStyle:{fontWeight:"bolder",color:"#fff",fontSize:16}},data:[{value:0,name:"%RH"}]}]},p.th_line={textStyle:{color:"#fff"},tooltip:{trigger:"axis",formatter:function(e,t,a){var s=e[0],n=s.seriesName,i=s.value;return n+"<br/>Time : "+l("date")(new Date(i[0]),"yyyy-MM-dd HH:mm:ss")+"<br/>Value : "+i[1]}},grid:[{x:38,y:0,width:"92%",height:"40%"},{x:38,y:"50%",width:"92%",height:"40%"}],xAxis:[{show:!1,gridIndex:0,splitNumber:10,type:"time",splitLine:{show:!1},axisLabel:{formatter:function(e,t){return"wsl "}}},{gridIndex:1,type:"time",splitLine:{show:!1}}],yAxis:[{gridIndex:0,type:"value",boundaryGap:[0,"100%"],splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(255,255,255,0.24)"}}},{gridIndex:1,scale:!0,type:"value",boundaryGap:[0,"100%"],splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(255,255,255,0.24)"}},axisLabel:{formatter:function(e,t){return e.toFixed(1)}}}],series:[{xAxisIndex:0,yAxisIndex:0,name:"Temperature",type:"line",showSymbol:!1,animation:!1,hoverAnimation:!1,itemStyle:{normal:{color:"rgba(30,144,255,0.8)"}},data:[]},{xAxisIndex:1,yAxisIndex:1,name:"Humidity",type:"line",showSymbol:!1,animation:!1,hoverAnimation:!1,itemStyle:{normal:{color:"#FBA92F"}},data:[]}]},t.GAUGE_1=echarts.init(document.getElementById("GAUGE_1")),t.GAUGE_2=echarts.init(document.getElementById("GAUGE_2")),t.LINE_1=echarts.init(document.getElementById("LINE_1")),window.innerWidth<=1024&&(p.t_gauge.series[0].title.textStyle.fontSize=15,p.h_gauge.series[0].title.textStyle.fontSize=14),t.LINE_1.setOption(p.th_line),t.GAUGE_1.setOption(p.t_gauge),t.GAUGE_2.setOption(p.h_gauge),t.sil1=null,t.sil2=null;var m=function(){var t=0,a=100,s="",n=c.getToken();if(p.sensor.mac)o.getOneSensor(t,a,s,"S1",p.gateway.mac,p.sensor.mac,n).success(function(t){if(t.data.length>0){p.sensor_th=t.data[0];var a=e(p.sensor_th);d(a)}else{p.sensor_th="";var a=e(p.sensor_th);d(a)}}).error(function(e,t){console.log(e),o.httpStatusCode(t)});else{p.sensor_th="";var i=e(p.sensor_th);d(i)}},g=function(){if(p.sensor.mac){var e=c.getToken();o.getMinewdbData(p.gateway.mac,p.sensor.mac,p.startTime,p.endTime,e).success(function(e){null!=e.data[0].series?(p.th_data=e.data[0].series,u(p.th_data)):(p.th_data=null,u(p.th_data))}).error(function(e,t){console.log(e),o.httpStatusCode(t)})}else p.th_data=null,u(p.th_data)};t.sil1=s(m,5e3),t.sil2=s(g,5e3),window.onresize=function(){t.LINE_1.resize(),t.GAUGE_1.resize(),t.GAUGE_2.resize()},$('input[name="datefilter"]').daterangepicker({autoUpdateInput:!1,cancelClass:"",locale:{cancelLabel:"Clear"}}),$('input[name="datefilter"]').on("apply.daterangepicker",function(e,t){var a=Math.floor((new Date).getTime()/1e3);p.startTime=a-(Math.floor(Date.parse(new Date(t.startDate.format("MM/DD/YYYY")))/1e3)-1),p.endTime=a-(Math.floor(Date.parse(new Date(t.endDate.format("MM/DD/YYYY")))/1e3)+86400),$(this).val(t.startDate.format("MM/DD/YYYY")+" to "+t.endDate.format("MM/DD/YYYY")),$(this).removeClass("wsl-input");for(var s=$("#selectTime").find("a"),n=0;n<s.length;n++)$(s[n]).addClass("wsl-label-default-color"),$(s[n]).removeClass("wsl-label-active-color");g()}),$('input[name="datefilter"]').on("cancel.daterangepicker",function(e,t){$(this).val("yyyy-mm-dd to yyyy-mm-dd")}),t.$on("$destroy",function(){s.cancel(t.sil1),s.cancel(t.sil2)})}t.$inject=["$scope","$echarts","$interval","$timeout","NgTableParams","$filter","httpService","$http","AuthTokenFactory"],Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},angular.module("BlurAdmin.pages.sensors").controller("sensorsCtrl",t)}(),function(){"use strict";function e(e,t,a,s,n,i,l,o,r){function c(){u.tableParams.reload()}function d(e){var t="iBeacon";return"Sensor"==e?t="S1":"Other"==e&&(t="Unknown"),t}var u=this;u.gateway_list=[],u.device_list=[],u.gateway_value="Select Gateway",u.deviceTypeName="iBeacon",u.device_value="Select Device",u.deviceTypeValue="iBeacon",u.tableParams=new n({page:1,count:10},{filterDelay:300,counts:[],getData:function(e,t){var a=t.filter(),s=a.type,n=a.gatewayMac,i=a.mac,o=t.sorting(),c=t.count(),d=t.page()-1,p="",m=r.getToken();"Sensor"==u.deviceTypeValue&&(u.deviceTypeValue="S1"),void 0===s&&(s=u.deviceTypeValue),void 0===n&&(n=u.gateway_value),void 0===i&&(i=u.device_value);for(var g in o)p=g+","+o[g];l.getStatusBy(d,c,p,s,n,i,m).success(function(a){l.getDeviceListByType(d,1e3,p,s,n,m).success(function(e){u.device_list=e.data}).error(function(e,t){console.log(e),l.httpStatusCode(t)}),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}});var p=100,m=0,g="",v=r.getToken();l.getGatewayList(m,p,g,v).success(function(e){u.gateway_list=e.data}).error(function(e){console.log(e)}),u.selectDeviceType=function(e){u.deviceTypeName=e,u.deviceTypeValue=d(e),u.tableParams.filter({type:u.deviceTypeValue})},u.select_gateway=function(e){u.gateway_value=e,u.tableParams.filter({gatewayMac:u.gateway_value})},u.select_device=function(e){u.device_value=e,u.tableParams.filter({mac:u.device_value})},e.sil=a(c,5e3),e.$on("$destroy",function(){a.cancel(e.sil)})}e.$inject=["$scope","$echarts","$interval","$timeout","NgTableParams","$filter","httpService","$http","AuthTokenFactory"],angular.module("BlurAdmin.pages.alldevice").controller("statusCtrl",e);var t=angular.module("BlurAdmin.pages.alldevice");t.filter("unique",function(){return function(e,t){var a=[],s=[];return angular.forEach(e,function(e){var n=e[t];s.indexOf(n)===-1&&(s.push(n),a.push(e))}),a}})}(),function(){"use strict";function e(e,t,a,s,n,i,l,o){var r=this;this.UserInfo=o.getUserInfo(),"ADMIN"==this.UserInfo.role&&(this.isAdmin=!0),this.animationsEnabled=!0,r.tableParams=new s({page:1,count:10},{filterDelay:300,counts:[],getData:function(e,t){var a=(t.filter(),t.count()),s=t.page()-1,n="",i=o.getToken();l.getUserList(s,a,n,i).success(function(a){console.log(a),t.total(a.totalItems),e.resolve(a.data)}).error(function(e,t){console.log(e),l.httpStatusCode(t)})}}),e.openCreateModel=function(t){var a=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/users/createUser.html",controller:"createUserCtrl",size:t,resolve:{item:function(){return e.item}}});a.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openEditModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/users/editUser.html",controller:"editUserCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.openDeleteModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/users/deleteUser.html",controller:"deleteUserCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,r.tableParams.reload()},function(){console.log("Modal dismissed at: "+new Date)})},e.userGatewaysCtrl=function(t,a){i.open({animation:e.animationsEnabled,templateUrl:"app/pages/users/gateways.html",controller:"userGatewaysCtrl",size:a,resolve:{item:function(){return t}}})},e.toggleAnimation=function(){e.animationsEnabled=!e.animationsEnabled}}function t(e,t,a,s){e.item={},e.ok=function(){if(e.item){var n=a.getToken();s.addUser(e.item,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function a(e,t,a,s,n){e.item=n,e.Mphone=n.nationcode+n.mobile_phone,e.ok=function(){if(e.item){var i=$("#Mphone").intlTelInput("getSelectedCountryData").dialCode,l=$("#Mphone").intlTelInput("getNumber"),o=l.indexOf(i)+i.length;e.item.nationcode=i,e.item.mobile_phone=l.slice(o);var r=a.getToken();console.log(n),s.updateUser(e.item,r).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function s(e,t,a,s,n){e.item=n,e.ok=function(){if(e.item){var n=a.getToken();s.deleteUser(e.item.uuid,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}function n(e,t,a,s,n,i){var l=this;e.item=n;var o=0,r=100,c="",d=a.getToken();l.tableParams=function(){s.getGatewayListByUserid(o,r,c,e.item.uuid,d).success(function(t){e.gateway_list=t.data}).error(function(e,t){console.log(e),s.httpStatusCode(t)})},e.openDeleteModel=function(t,a){var s=i.open({animation:e.animationsEnabled,templateUrl:"app/pages/users/deleteGateway.html",controller:"deleteGatewayCtrl",size:a,resolve:{item:function(){return t}}});s.result.then(function(t){e.result=t,l.tableParams()},function(){console.log("Modal dismissed at: "+new Date)})},l.tableParams()}function i(e,t,a,s,n){e.item=n,e.ok=function(){if(e.item){var n=a.getToken();s.deleteGateway(e.item.uuid,n).success(function(e){t.close(e)}).error(function(e,t){console.log(e),s.httpStatusCode(t)})}},e.cancel=function(){t.dismiss("cancel")}}e.$inject=["$scope","$filter","editableOptions","NgTableParams","editableThemes","$uibModal","httpService","AuthTokenFactory"],t.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService"],a.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],s.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],n.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item","$uibModal"],i.$inject=["$scope","$uibModalInstance","AuthTokenFactory","httpService","item"],angular.module("BlurAdmin.pages.users").controller("usersCtrl",e).controller("createUserCtrl",t).controller("editUserCtrl",a).controller("deleteUserCtrl",s).controller("userGatewaysCtrl",n).controller("deleteGatewayCtrl",i)}(),function(){"use strict";function e(e){angular.extend(e,{closeButton:!0,closeHtml:"<button>&times;</button>",timeOut:5e3,autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"})}e.$inject=["toastrConfig"],angular.module("BlurAdmin.theme.components").config(e)}(),function(){"use strict";angular.module("BlurAdmin.theme").factory("AuthInterceptor",["AuthTokenFactory",function(e){function t(t){var a=e.getToken();return a&&(t.headers=t.headers||{},t.headers.Authorization="Bearer "+a),t}return{request:t}}])}(),function(){"use strict";angular.module("BlurAdmin.theme").factory("AuthTokenFactory",["$window",function(e){function t(){return n()?u(p.getItem(m)):null}function a(e){e?p.setItem(m,d(e)):p.removeItem(m)}function s(){p.removeItem(m)}function n(){return!!p.getItem(m)}function i(){var e=t(m);return null!==e?e.name:"not login"}function l(){var e=t(m);return null!==e?e.userId:null}function o(){var e=t(m);return null!==e?e.token:null}function r(){var e=t(m);return null!==e?e.role:null}function c(){var e=t(m);return null!==e?e.email:null}function d(e){try{return JSON.stringify(e)}catch(t){return e}}function u(e){try{return JSON.parse(e)}catch(t){return e}}var p=e.sessionStorage,m="currentUser";return{getUserInfo:t,storeUserInfo:a,removeUserInfo:s,isLoggedIn:n,getUserName:i,getUserId:l,getToken:o,getRole:r,getEmail:c}}])}(),function(){"use strict";function e(){this.isDescendant=function(e,t){for(var a=t.parentNode;null!=a;){if(a==e)return!0;a=a.parentNode}return!1},this.hexToRGB=function(e,t){var a=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return"rgba("+a+", "+s+", "+n+", "+t+")"},this.hasAttr=function(e,t){var a=$(e).attr(t);return"undefined"!=typeof a&&a!==!1}}angular.module("BlurAdmin.theme").service("baUtil",e)}(),function(){"use strict";function e(e,t,a,s,n){this.getUserList=function(a,s,n,i){return e({method:"GET",url:t+"/users?page="+a+"&size="+s,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.getUser=function(a,s){return e({method:"GET",url:t+"/users/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.addUser=function(a,s){return e({method:"POST",url:t+"/users",data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.updateUser=function(a,s){return e({method:"PUT",url:t+"/users/"+a.uuid,data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.deleteUser=function(a,s){return e({method:"DELETE",url:t+"/users/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.getGatewayList=function(a,s,n,i){window.sessionStorage.getItem("id");return e({method:"GET",url:t+"/gateways?page="+a+"&size="+s,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.getGatewayListByUserid=function(a,s,n,i,l){return e({method:"GET",url:t+"/gateways?page="+a+"&size="+s+"&user="+i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}})},this.getGateway=function(a,s){return e({method:"GET",url:t+"/gateways/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.addGateway=function(a,s){return e({method:"POST",url:t+"/gateways",data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.updateGateway=function(a,s){return e({method:"PUT",url:t+"/gateways/"+a.uuid,data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.deleteGateway=function(a,s){return e({method:"DELETE",url:t+"/gateways/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.getOperationList=function(a,s,n,i){return e({method:"GET",url:t+"/operations?page="+a+"&size="+s,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.getOperation=function(a,s){return e({method:"GET",url:t+"/operations/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.addOperation=function(a,s){return e({method:"POST",url:t+"/operations",data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.updateOperation=function(a,s){return e({method:"PUT",url:t+"/operations/"+a.uuid,data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.deleteOperation=function(a,s){return e({method:"DELETE",url:t+"/operations/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.getDeviceList=function(a,s,n,i){return e({method:"GET",url:t+"/devices?page="+a+"&size="+s,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.getDeviceListByType=function(a,s,n,i,l,o){var r="";return r="Select Gateway"==l?"/devices?page="+a+"&size="+s+"&type="+i:"All"==l?"/statuses?page="+a+"&size="+s+"&type="+i:"/statuses?page="+a+"&size="+s+"&type="+i+"&gatewayMac="+l,e({method:"GET",url:t+r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}})},this.getDeviceListByGateway=function(a,s,n,i,l){return e({method:"GET",url:t+"/devices?gatway="+a+"&page="+s+"&size="+n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}})},this.getDevice=function(a,s){return e({method:"GET",url:t+"/devices/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.addDevice=function(a,s){return e({method:"POST",url:t+"/devices",data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.updateDevice=function(a,s){return e({method:"PUT",url:t+"/devices/"+a.uuid,data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.deleteDevice=function(a,s){return e({method:"DELETE",url:t+"/devices/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.getStatusList=function(a,s,n,i){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&sort"+n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.getStatus=function(a,s){return e({method:"GET",url:t+"/statuses/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.addStatus=function(a,s){return e({method:"POST",url:t+"/statuses",data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.updateStatus=function(a,s){return e({method:"PUT",url:t+"/statuses/"+a.uuid,data:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.deleteStatus=function(a,s){return e({method:"DELETE",url:t+"/statuses/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}})},this.getTypeStatus=function(a,s,n,i,l){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&type="+i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}})},this.getDeviceStatus=function(a,s,n,i,l){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&excludeType="+i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}})},this.getSensor=function(a,s,n,i,l,o){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&type="+i+"&gatewayMac="+l,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}})},this.getOneSensor=function(a,s,n,i,l,o,r){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&type="+i+"&gatewayMac="+l+"&mac="+o,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}})},this.getDeviceByGateway=function(a,s,n,i,l){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&gatewayMac="+i,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}})},this.getStatusBy=function(a,s,n,i,l,o,r){var c="";return c="All"==l||"Select Gateway"==l?"All"==o||"Select Device"==o?"/statuses?page="+a+"&size="+s+"&type="+i:"/statuses?page="+a+"&size="+s+"&type="+i+"&mac="+o:"All"==o||"Select Device"==o?"/statuses?page="+a+"&size="+s+"&type="+i+"&gatewayMac="+l:"/statuses?page="+a+"&size="+s+"&type="+i+"&mac="+o+"&gatewayMac="+l,e({method:"GET",url:t+c,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}})},this.getDeviceByGatewayBytimeRange=function(a,s,n,i,l,o,r){return e({method:"GET",url:t+"/statuses?page="+a+"&size="+s+"&type="+i+"&gatewayMac="+l+"&timeRange="+o,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}})},this.getMinewdbData=function(t,a,s,n,i){var l="http://rizal23.com:8080/query?",o=Math.floor((s-n)/100);s-n>=1800&&(o=10),s-n>=3600&&(o=Math.floor((s-n)/300)),s-n>=25200&&(o=Math.floor((s-n)/600)),s+="s",n+="s",t="'"+t+"'",a="'"+a+"'";var r=l+"&q=SELECT MEAN(temperature),MEAN(humidity),MEAN(battery)  FROM sensor WHERE gatewayMac="+t+" AND mac="+a+" AND time > now() - "+s+" AND time < now() - "+n+" GROUP BY time("+o+"s)";return e({method:"GET",url:r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.getMinewdbData2=function(t,a,s,n,i){var l="http://rizal23.com:8080/query?",o=Math.floor((s-n)/100);s-n>1800&&(o=10),s-n>=3600&&(o=Math.floor((s-n)/300)),s-n>=25200&&(o=Math.floor((s-n)/600)),s+="s",n+="s",t="'"+t+"'",a="'"+a+"'";var r=l+"&q=SELECT MEAN(battery), MEAN(rssi)  FROM iBeacon WHERE gatewayMac="+t+" AND mac="+a+" AND time > now() - "+s+" AND time < now() - "+n+" GROUP BY time("+o+"s)";return"10s"!=s&&"120s"!=s||(console.log("ss"),r=l+"&q=SELECT MEAN(battery), MEAN(rssi)  FROM iBeacon WHERE gatewayMac="+t+" AND mac="+a+" AND time > now() - "+s+" AND time < now() - "+n+" GROUP BY time(1s)"),console.log(r),e({method:"GET",url:r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})},this.httpStatusCode=function(e){401===e&&n.go("user.login")}}e.$inject=["$http","API_URL","AuthTokenFactory","$q","$state"],angular.module("BlurAdmin").service("httpService",e)}(),function(){"use strict";function e(e){return{loadImg:function(t){var a=e.defer(),s=new Image;return s.src=t,s.onload=function(){a.resolve()},a.promise},loadAmCharts:function(){var t=e.defer();return AmCharts.ready(function(){t.resolve()}),t.promise}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("preloader",e)}(),function(){"use strict";function e(e,t,a,s){this.register=function(a){return e({method:"post",data:a,url:t+"/account/register",headers:{"Content-Type":"application/json"}})},this.login=function(a){return e({method:"post",data:a,url:t+"/token",headers:{"Content-Type":"application/json"}})},this.logout=function(){a.removeUserInfo()}}e.$inject=["$http","API_URL","AuthTokenFactory","$q"],angular.module("BlurAdmin").service("UserService",e)}(),function(){"use strict";var e=angular.module("BlurAdmin.theme");e.filter("beaconType",function(){return function(e){if(e=e||"",!e)return"";var t="";return t=1==e?"iBeacon":2==e?"Eddystone":3==e?"Hybird":" "}}),e.filter("beaconStatus",function(){return function(e){if(e=e||"",!e)return"";var t="";return t=1==e?"Active":2==e?"Inactive":" "}}),e.filter("bstFrameType",function(){return function(e){if(e+=1,e=e||"",!e)return"";var t="";return t=1==e?"empty":2==e?"UID":3==e?"EID":4==e?"TLM":5==e?"URL":" "}}),e.filter("applyStatusFilter",function(){return function(e){if("undefined"==typeof e&&(e=0),e+=1,e=e||"",!e)return"";var t="";return t=1==e?"未同步":2==e?"已同步":3==e?"已删除":" "}})}(),function(){"use strict";function e(e,t,a,s,n,i){e.LoginStatus=null,e.loginData={};e.animationsEnabled=!0,e.login=function(){s.login(e.loginData).success(function(a){n.storeUserInfo(a.data),e.LoginStatus=!1,window.sessionStorage.setItem("username",a.data.name),window.sessionStorage.setItem("email",a.data.email),t.go("dashboard")}).error(function(t,a){t.message&&t.message.indexOf("User is not activated")!=-1?(e.item="The account is not activated, please login mailbox to activate",e.openMsgModel("sm")):e.LoginStatus=!0})},e.openMsgModel=function(t){i.open({animation:e.animationsEnabled,templateUrl:"app/pages/user/login/msg.html",controller:"openmsgCtrl",size:t,resolve:{item:function(){return e.item}}})}}function t(e,t,a){e.data=a}e.$inject=["$scope","$state","httpService","UserService","AuthTokenFactory","$uibModal"],t.$inject=["$scope","$uibModalInstance","item"],angular.module("BlurAdmin.pages.login").controller("LoginCtrl",e).controller("openmsgCtrl",t)}(),function(){"use strict";function e(e,t,a,s,n){e.profile={};var i=a.getToken();e.uuid=a.getUserInfo().userId,e.isSame=!0,e.animationsEnabled=!0,e.item={},t.getUser(e.uuid,i).success(function(t){console.log(t),e.profile.name=t.data.name,e.profile.email=t.data.email,e.profile.uuid=t.data.uuid,e.profile.userId=t.data.userId,e.profile.nationcode=t.data.nationcode,e.profile.mobile_phone=t.data.mobile_phone,e.Mphone=t.data.nationcode+t.data.mobile_phone}).error(function(e,a){console.log(e),t.httpStatusCode(a)}),e.updateProfile=function(){if(e.profile.password!=e.profile.confirm_password)return void(e.isSame=!1);var a=$("#Mphone").intlTelInput("getSelectedCountryData").dialCode,s=$("#Mphone").intlTelInput("getNumber"),n=s.indexOf(a)+a.length;e.profile.nationcode=a,e.profile.mobile_phone=s.slice(n),e.isSame=!0,console.log(e.profile),t.updateUser(e.profile,i).success(function(t){console.log(t),200===t.status?(window.sessionStorage.setItem("username",t.data.name),e.item.msg="Successfully modified!",e.openMsgModel("sm")):400===t.status&&(e.item.msg="The name already exists!",e.openMsgModel("sm"))}).error(function(e,a){console.log(e),t.httpStatusCode(a)})},e.openMsgModel=function(t){var a=s.open({animation:e.animationsEnabled,templateUrl:"app/pages/user/profile/msg.html",controller:"OpenMsgCtrl",size:t,resolve:{item:function(){return e.item}}});a.result.then(function(e){console.log(e)},function(){n.reload("user.profile"),console.log("Modal dismissed at: "+new Date)})}}function t(e,t,a){e.data=a}e.$inject=["$scope","httpService","AuthTokenFactory","$uibModal","$state"],t.$inject=["$scope","$uibModalInstance","item"],angular.module("BlurAdmin.pages.profile").controller("ProfileCtrl",e).controller("OpenMsgCtrl",t)}(),function(){"use strict";function e(e,t,a,s,n){e.emailReg=/^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@([a-zA-Z0-9]+[-.])+[a-zA-Z]{2,5}$/,e.registerData={},e.registerData.name="",e.registerData.mobile_phone="",e.registerData.email="",e.registerData.password="",e.Mphone="",e.item={},e.item.result=null,e.register=function(){var t=$("#Mphone").intlTelInput("getSelectedCountryData").dialCode,a=$("#Mphone").intlTelInput("getNumber"),s=a.indexOf(t)+t.length;e.registerData.nationcode=t,e.registerData.mobile_phone=a.slice(s),console.log(e.registerData),n.register(e.registerData).success(function(t){console.log(t),200===t.status?(e.item.result=!0,e.item.msg="We have sent an activation email to your email address, "+e.registerData.email+". Please click the link in the email to complete the registration. If you do not receive the email, please check the spam!",e.openMsgModel("md")):450===t.status?(e.item.result=!1,e.item.msg="The account already exists!",e.openMsgModel("sm")):400===t.status?(e.item.result=!1,e.item.msg="The name already exists!",e.openMsgModel("sm")):(e.item.result=!1,console.log(t))}).error(function(e){console.log(e)})},e.openMsgModel=function(t){s.open({animation:e.animationsEnabled,templateUrl:"app/pages/user/register/msg.html",controller:"openmsgCtrl",size:t,resolve:{item:function(){return e.item}}})}}function t(e,t,a,s){e.data=a,e.goLogin=function(){s.go("user.login")}}e.$inject=["$scope","$state","httpService","$uibModal","UserService"],t.$inject=["$scope","$uibModalInstance","item","$state"],angular.module("BlurAdmin.pages.register").controller("RegisterCtrl",e).controller("openmsgCtrl",t),angular.module("BlurAdmin.pages.register").config(["ngIntlTelInputProvider",function(e){e.set({preferredCountries:["cn","us","gb"],initialCountry:"cn",nationalMode:!1,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.4/js/utils.js"})}])}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/backTop/backTop.html",controller:function(){$("#backTop").backTop({position:200,speed:100})}}}angular.module("BlurAdmin.theme.components").directive("backTop",e)}(),function(){"use strict";function e(e,t,a,s){var n=$(window);return{restrict:"E",templateUrl:"app/theme/components/baSidebar/ba-sidebar.html",controller:"BaSidebarCtrl",link:function(s,i){function l(s){a.isDescendant(i[0],s.target)||s.originalEvent.$sidebarEventProcessed||t.isMenuCollapsed()||!t.canSidebarBeHidden()||(s.originalEvent.$sidebarEventProcessed=!0,e(function(){t.setMenuCollapsed(!0)},10))}function o(){var e=t.shouldMenuBeCollapsed(),a=r();e==t.isMenuCollapsed()&&s.menuHeight==a||s.$apply(function(){s.menuHeight=a,t.setMenuCollapsed(e)})}function r(){return i[0].childNodes[0].clientHeight-84}s.menuHeight=i[0].childNodes[0].clientHeight-84,n.on("click",l),n.on("resize",o),s.$on("$destroy",function(){n.off("click",l),n.off("resize",o)})}}}e.$inject=["$timeout","baSidebarService","baUtil","layoutSizes"],angular.module("BlurAdmin.theme.components").directive("baSidebar",e)}(),function(){"use strict";function e(){var e=[];this.addStaticItem=function(){e.push.apply(e,arguments)},this.$get=["$state","layoutSizes",function(t,a){function s(){function s(){return t.get().filter(function(e){return e.sidebarMeta}).map(function(e){var t=e.name,a=e.name.substring(0,5);"pages"==a&&(t=t.substring(5));var s=e.sidebarMeta;return{name:t,title:e.title,level:(e.name.match(/\./g)||[]).length,order:s.order,icon:s.icon,stateRef:e.name}}).sort(function(e,t){return 100*(e.level-t.level)+e.order-t.order})}function n(){return window.innerWidth<=a.resWidthCollapseSidebar}function i(){return window.innerWidth<=a.resWidthHideSidebar}var l=n();this.getMenuItems=function(){var t=s(),a=t.filter(function(e){return 0==e.level});return a.forEach(function(e){var a=t.filter(function(t){return 1==t.level&&0===t.name.indexOf(e.name)});e.subMenu=a.length?a:null}),a.concat(e)},this.shouldMenuBeCollapsed=n,this.canSidebarBeHidden=i,this.setMenuCollapsed=function(e){l=e},this.isMenuCollapsed=function(){return l},this.toggleMenuCollapsed=function(){l=!l},this.getAllStateRefsRecursive=function(e){function t(e){e.subMenu&&e.subMenu.forEach(function(e){e.stateRef&&a.push(e.stateRef),t(e)})}var a=[];return t(e),a}}return new s}],this.$get.$inject=["$state","layoutSizes"]}angular.module("BlurAdmin.theme.components").provider("baSidebarService",e)}(),function(){"use strict";function e(e,t,a){e.menuItems=t.getMenuItems(),e.defaultSidebarState=e.menuItems[0].stateRef,e.hoverItem=function(t){e.showHoverElem=!0,e.hoverElemHeight=t.currentTarget.clientHeight;var a=66;e.hoverElemTop=t.currentTarget.getBoundingClientRect().top-a},e.$on("$stateChangeSuccess",function(){t.canSidebarBeHidden()&&t.setMenuCollapsed(!0)}),e.email=window.sessionStorage.getItem("email"),null==e.email&&a.go("user.login")}e.$inject=["$scope","baSidebarService","$state"],angular.module("BlurAdmin.theme.components").controller("BaSidebarCtrl",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,a){a.on("click",function(a){a.originalEvent.$sidebarEventProcessed=!0,t.$apply(function(){e.toggleMenuCollapsed()})})}}}function t(e){return{restrict:"A",link:function(t,a){a.on("click",function(a){a.originalEvent.$sidebarEventProcessed=!0,e.isMenuCollapsed()||t.$apply(function(){e.setMenuCollapsed(!0)})})}}}function a(){return{restrict:"A",controller:"BaSidebarTogglingItemCtrl"}}function s(e,t,a,s,n){function i(e){return e&&r.some(function(t){return 0==e.name.indexOf(t)})}var l=this,o=l.$$menuItem=e.$eval(a.baSidebarTogglingItem);if(o&&o.subMenu&&o.subMenu.length){l.$$expandSubmenu=function(){console.warn("$$expandMenu should be overwritten by baUiSrefTogglingSubmenu")},l.$$collapseSubmenu=function(){console.warn("$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu")};var r=n.getAllStateRefsRecursive(o);l.$expand=function(){l.$$expandSubmenu(),t.addClass("ba-sidebar-item-expanded")},l.$collapse=function(){l.$$collapseSubmenu(),t.removeClass("ba-sidebar-item-expanded")},l.$toggle=function(){t.hasClass("ba-sidebar-item-expanded")?l.$collapse():l.$expand()},i(s.current)&&t.addClass("ba-sidebar-item-expanded"),e.$on("$stateChangeStart",function(e,a){!i(a)&&t.hasClass("ba-sidebar-item-expanded")&&(l.$collapse(),t.removeClass("ba-sidebar-item-expanded"))}),e.$on("$stateChangeSuccess",function(e,a){i(a)&&!t.hasClass("ba-sidebar-item-expanded")&&(l.$expand(),t.addClass("ba-sidebar-item-expanded"))})}}function n(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(e,t,a,s){s.$$expandSubmenu=function(){t.slideDown()},s.$$collapseSubmenu=function(){t.slideUp()}}}}function i(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(t,a,s,n){a.on("click",function(){e.isMenuCollapsed()?(t.$apply(function(){e.setMenuCollapsed(!1)}),n.$expand()):n.$toggle()})}}}e.$inject=["baSidebarService"],t.$inject=["baSidebarService"],s.$inject=["$scope","$element","$attrs","$state","baSidebarService"],n.$inject=["$state"],i.$inject=["baSidebarService"],angular.module("BlurAdmin.theme.components").directive("baSidebarToggleMenu",e).directive("baSidebarCollapseMenu",t).directive("baSidebarTogglingItem",a).controller("BaSidebarTogglingItemCtrl",s).directive("baUiSrefTogglingSubmenu",n).directive("baUiSrefToggler",i);
}(),function(){"use strict";function e(e,t){return{restrict:"E",templateUrl:"app/theme/components/contentTop/contentTop.html",link:function(e){e.$watch(function(){e.activePageTitle=t.current.title})}}}e.$inject=["$location","$state"],angular.module("BlurAdmin.theme.components").directive("contentTop",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/pageTop/pageTop.html",controller:"PageTopCtrl"}}angular.module("BlurAdmin.theme.components").directive("pageTop",e)}(),function(){"use strict";function e(e,t,a,s,n,i){e.isChange=!1;var l=n.getToken();e.uuid=n.getUserInfo().userId,i.getUser(e.uuid,l).success(function(t){e.username=t.data.name}).error(function(e,t){console.log(e),i.httpStatusCode(t)}),e.signOut=function(){s.logout(),window.sessionStorage.removeItem("email"),window.sessionStorage.removeItem("username"),a.go("user.login")},e.changeLogo=function(){window.innerWidth>1200&&(e.isChange=!e.isChange),window.innerWidth<=1200&&(e.isChange=!0)}}e.$inject=["$scope","baSidebarService","$state","UserService","AuthTokenFactory","httpService"],angular.module("BlurAdmin.theme.components").controller("PageTopCtrl",e)}(),function(){"use strict";function e(){return{restrict:"EA",scope:{ngModel:"="},templateUrl:"app/theme/components/widgets/widgets.html",replace:!0}}angular.module("BlurAdmin.theme.components").directive("widgets",e)}(),function(){"use strict";function e(){return{templateUrl:"app/theme/inputs/baSwitcher/baSwitcher.html",scope:{switcherStyle:"@",switcherValue:"="}}}angular.module("BlurAdmin.theme.inputs").directive("baSwitcher",e)}(),!function(e){e.fn.backTop=function(t){var a=this,s=e.extend({position:400,speed:500,color:"white"},t),n=s.position,i=s.speed,l=s.color;a.addClass("white"==l?"white":"red"==l?"red":"green"==l?"green":"black"),a.css({right:40,bottom:40,position:"fixed"}),e(document).scroll(function(){var t=e(window).scrollTop();t>=n?a.fadeIn(i):a.fadeOut(i)}),a.click(function(){e("html, body").animate({scrollTop:0},{duration:1200})})}}(jQuery),angular.module("BlurAdmin").run(["$templateCache",function(e){e.put("app/pages/pages.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div ui-view="" autoscroll="true" autoscroll-body-top=""></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/activate/activate.html",'<div class="page-not-found-modal" style="margin-top:300px;"><h1 ng-if="isValid">Verification Success!</h1><h1 ng-if="isValid == false">Verification Failure!</h1><p><a href="/">The Link Is Going To Home Page.</a></p></div>'),e.put("app/pages/assetDemo/asset.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div ba-panel="" class="ba-panel"><div><img src="assets/img/app/pages/map.jpg" style="width: 100%;"></div><div class="wsl-tag-1"><span style="color: #000000;">{{vm.gateway1_value.name}}</span>&nbsp;&nbsp; <span ng-show="vm.devicelist1.countNew" style="color: #1f9c8f;font-size: 22px;">+ {{ vm.devicelist1.countNew }}</span> <span ng-show="vm.devicelist1.countDelete" style="color: red;font-size: 22px;">- {{ vm.devicelist1.countDelete }}</span></div><div class="wsl-tag-2"><span style="color: #000000;">{{vm.gateway2_value.name}}</span>&nbsp;&nbsp; <span ng-show="vm.devicelist2.countNew" style="color: #1f9c8f;font-size: 22px;">+ {{ vm.devicelist2.countNew }}</span> <span ng-show="vm.devicelist2.countDelete" style="color: red;font-size: 22px;">- {{ vm.devicelist2.countDelete }}</span></div><div class="wsl-tag-3"><span style="color: #000000;">{{vm.gateway3_value.name}}</span>&nbsp;&nbsp; <span ng-show="vm.devicelist3.countNew" style="color: #1f9c8f;font-size: 22px;">+ {{ vm.devicelist3.countNew }}</span> <span ng-show="vm.devicelist3.countDelete" style="color: red;font-size: 22px;">- {{ vm.devicelist3.countDelete }}</span></div><div class="wsl-tag-4"><span style="color: #000000;">{{vm.gateway4_value.name}}</span>&nbsp;&nbsp; <span ng-show="vm.devicelist4.countNew" class="animated bounceInRight" style="color: #1f9c8f;font-size: 22px;">+ {{ vm.devicelist4.countNew }}</span> <span ng-show="vm.devicelist4.countDelete" class="animated bounceInRight" style="color: red;font-size: 22px;">- {{ vm.devicelist4.countDelete }}</span></div></div><div class="row panel-assets"><div class="col-md-3 wsl-col-md-3"><div class="panel traffic-panel"><div class="panel-heading wsl-panel-heading"><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default min-btn">{{vm.gateway1_value.name || \'Select Gateway\'}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu="" class="wsl-uib-dropdown-lanel-width"><li ng-repeat="row in vm.gatewaylist1" ng-click="vm.selectGateway1(row)"><a href="">{{row.name}}</a></li></ul></div><span id="gateway1_new" ng-if="vm.devicelist1.countNew" style="color: green;">+{{ vm.devicelist1.countNew }}</span> <span id="gateway1_delete" ng-if="vm.devicelist1.countDelete" style="color: red;">-{{ vm.devicelist1.countDelete }}</span></div><div class="wsl-panel-body panel-body"><div class="wsl-list-group-div"><table ng-table="vm.tableParams1" class="list-group" style="width:100%"><tr ng-repeat="item in $data" class="list-group-item wsl-list-group-item"><td class="col-md-9 col-sm-9 col-xs-9 wsl-col-10"><div class="wsl-list-group-item-mac-text"><span class="word-name">{{item.device != null ? item.device.name : \'Unknown\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class="col-md-2 col-sm-2 col-xs-2 wsl-col-2"><span ng-if="item.isNew" class="animated fadeInLeft wsl-new">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if="item.delete" class="animated fadeInLeft wsl-delete">Disappear</span></td></tr></table></div></div></div></div><div class="col-md-3 wsl-col-md-3 wsl-div-2"><div class="panel traffic-panel"><div class="panel-heading wsl-panel-heading"><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default min-btn">{{vm.gateway2_value.name || \'Select Gateway\'}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu="" class="wsl-uib-dropdown-lanel-width"><li ng-repeat="row in vm.gatewaylist2" ng-click="vm.selectGateway2(row)"><a href="">{{row.name}}</a></li></ul></div><span id="gateway2_new" ng-if="vm.devicelist2.countNew" style="color: green;">+{{ vm.devicelist2.countNew }}</span> <span id="gateway2_delete" ng-if="vm.devicelist2.countDelete" style="color: red;">-{{ vm.devicelist2.countDelete }}</span></div><div class="wsl-panel-body panel-body"><div class="wsl-list-group-div"><table ng-table="vm.tableParams2" class="list-group" style="width:100%"><tr ng-repeat="item in $data" class="list-group-item wsl-list-group-item"><td class="col-md-9 col-sm-9 col-xs-9 wsl-col-10"><div class="wsl-list-group-item-mac-text"><span class="word-name">{{item.device != null ? item.device.name : \'Unknown\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class="col-md-2 col-sm-2 col-xs-2 wsl-col-2"><span ng-if="item.isNew" class="animated fadeInLeft wsl-new">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if="item.delete" class="animated fadeInLeft wsl-delete">Disappear</span></td></tr></table></div></div></div></div><div class="col-md-3 wsl-col-md-3 wsl-div-4"><div class="panel traffic-panel"><div class="panel-heading wsl-panel-heading"><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default min-btn">{{vm.gateway3_value.name || \'Select Gateway\'}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu="" class="wsl-uib-dropdown-lanel-width"><li ng-repeat="row in vm.gatewaylist3" ng-click="vm.selectGateway3(row)"><a href="">{{row.name}}</a></li></ul></div><span id="gateway3_new" ng-if="vm.devicelist3.countNew" style="color: green;">+{{ vm.devicelist3.countNew }}</span> <span id="gateway3_delete" ng-if="vm.devicelist3.countDelete" style="color: red;">-{{ vm.devicelist3.countDelete }}</span></div><div class="wsl-panel-body panel-body"><div class="wsl-list-group-div"><table ng-table="vm.tableParams3" class="list-group" style="width:100%"><tr ng-repeat="item in $data" class="list-group-item wsl-list-group-item"><td class="col-md-9 col-sm-9 col-xs-9 wsl-col-10"><div class="wsl-list-group-item-mac-text"><span class="word-name">{{item.device != null ? item.device.name : \'Unknown\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class="col-md-2 col-sm-2 col-xs-2 wsl-col-2"><span ng-if="item.isNew" class="animated fadeInLeft wsl-new">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if="item.delete" class="animated fadeInLeft wsl-delete">Disappear</span></td></tr></table></div></div></div></div><div class="col-md-3 wsl-col-md-3 wsl-div-4"><div class="panel traffic-panel"><div class="panel-heading wsl-panel-heading"><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default min-btn">{{vm.gateway4_value.name || \'Select Gateway\'}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu="" class="wsl-uib-dropdown-lanel-width"><li ng-repeat="row in vm.gatewaylist4" ng-click="vm.selectGateway4(row)"><a href="">{{row.name}}</a></li></ul></div><span id="gateway4_new" ng-if="vm.devicelist4.countNew" style="color: green;">+{{ vm.devicelist4.countNew }}</span> <span id="gateway4_delete" ng-if="vm.devicelist4.countDelete" style="color: red;">-{{ vm.devicelist4.countDelete }}</span></div><div class="wsl-panel-body panel-body"><div class="wsl-list-group-div"><table ng-table="vm.tableParams4" class="list-group" style="width:100%"><tr ng-repeat="item in $data" class="list-group-item wsl-list-group-item"><td class="col-md-9 col-sm-9 col-xs-9 wsl-col-10"><div class="wsl-list-group-item-mac-text"><span class="word-name">{{item.device != null ? item.device.name : \'Unknown\'}}</span><span>&nbsp; {{item.mac}}</span></div></td><td class="col-md-2 col-sm-2 col-xs-2 wsl-col-2"><span ng-if="item.isNew" class="animated fadeInLeft wsl-new">&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;</span> <span ng-if="item.delete" class="animated fadeInLeft wsl-delete">Disappear</span></td></tr></table></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/dashboard/dashboard.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="row pie-charts"><div class="pie-chart-item-container"><div class="panel panel-default wsl-medium-panel traffic-panel"><div class="panel-body"><div class="wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size"><img src="assets/img/dsimg/sensor.png" style="height:86px;"></div><div class="wsl-dashboardPieChart"><div class="wsl-dashboardPieChart-title">Devices</div><div class="wsl-dashboardPieChart-content"><span style="font-size: 26px;"><b>{{vm.devices_total}}</b></span>/ <span>{{vm.devices_total}}</span></div></div></div></div></div><div class="pie-chart-item-container"><div class="panel panel-default wsl-medium-panel traffic-panel"><div class="panel-body"><div class="wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size"><img src="assets/img/dsimg/gateway.png" style="height:80px;"></div><div class="wsl-dashboardPieChart"><div class="wsl-dashboardPieChart-title">Gateways</div><div class="wsl-dashboardPieChart-content"><span style="font-size: 26px;"><b>{{vm.gateways_total}}</b></span>/ <span>{{vm.gateways_total}}</span></div></div></div></div></div><div class="pie-chart-item-container"><div class="panel panel-default wsl-medium-panel traffic-panel"><div class="panel-body"><div class="wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size"><img src="assets/img/dsimg/server.png" style="height:83px;"></div><div class="wsl-dashboardPieChart"><div class="wsl-dashboardPieChart-title">Servers</div><div class="wsl-dashboardPieChart-content"><span style="font-size: 26px;"><b>{{vm.servers_chart.nows}}</b></span>/ <span>{{vm.servers_chart.totals}}</span></div></div></div></div></div><div class="pie-chart-item-container"><div class="panel panel-default wsl-medium-panel traffic-panel"><div class="panel-body"><div class="wsl-dashboardPieChart wsl-dashboardPieChart-icon-font-size"><img src="assets/img/dsimg/message.png" style="height:83px;"></div><div class="wsl-dashboardPieChart"><div class="wsl-dashboardPieChart-title">Messages</div><div class="wsl-dashboardPieChart-content"><span style="font-size: 26px;"><b>{{vm.messages_chart.totals}}</b></span></div></div></div></div></div></div><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><div class="panel traffic-panel"><div class="panel-heading">Last Updated Gateways Statuses</div><div class="panel-body"><div class="dashboard-body"><table class="table table-striped table-hover table-condensed"><thead><tr><th>Name</th><th>Mac</th><th>Last updated time</th></tr></thead><tr ng-repeat="row in vm.GatewayList | limitTo:10"><td class="col-sm-4 col-xs-4" style="word-break:break-all;">{{row.gateway.name}}</td><td>{{row.gatewayMac}}</td><td class="col-sm-5 col-xs-5 col-time">{{row.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</td></tr></table></div></div></div></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="panel traffic-panel"><div class="panel-heading">Last Updated Devices Statuses</div><div class="panel-body"><div class="dashboard-body"><table class="table table-striped table-hover table-condensed"><thead><tr><th>Name</th><th>Mac</th><th>Last updated time</th></tr></thead><tr ng-repeat="row in vm.DeviceList | limitTo:10"><td class="col-sm-4 col-xs-4" style="word-break:break-all;">{{row.device != null ? row.device.name : \'Unknown\'}}</td><td>{{row.mac}}</td><td class="col-sm-5 col-xs-5 col-time">{{row.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</td></tr></table></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/device/createDevice.html",'<div class="modal-content" style="margin-top:130px;"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">Create Device</h4></div><div class="modal-body"><form class="form-horizontal" name="deviceForm" novalidate=""><div class="form-group"><label for="type" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>DeviceType</label><div class="col-sm-10"><select class="form-control" id="type" ng-init="select = type_list[0]" ng-model="select" ng-options="item for item in type_list" required=""></select></div></div><div class="form-group"><label for="mac" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Mac</label><div class="col-sm-10"><input type="text" style="text-transform:uppercase;" class="form-control" id="mac" name="mac" placeholder="eg.AABBCCDDEEFF" ng-model="item.mac" ng-pattern="/^[a-fA-F0-9]{12}$/" required=""> <span ng-if="deviceForm.mac.$dirty && deviceForm.mac.$invalid"><span ng-if="deviceForm.mac.$error.required" class="error">Mac can\'t be blank</span> <span ng-if="deviceForm.mac.$error.pattern" class="error">Mac is invalid</span></span></div></div><div class="form-group"><label for="name" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Name</label><div class="col-sm-10"><input type="text" class="form-control" id="name" name="name" placeholder="Name" ng-model="item.name" required=""> <span ng-if="deviceForm.name.$dirty && deviceForm.name.$invalid"><span ng-if="deviceForm.name.$error.required">Name can\'t be blank</span></span></div></div><div class="form-group"><label for="decription" class="col-sm-2 control-label" style="color: #000">Decription</label><div class="col-sm-10"><textarea type="text" class="form-control" id="decription" placeholder="Decription" ng-model="item.description"></textarea></div></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary btn-auth" ng-click="ok()" ng-disabled="deviceForm.$invalid">&nbsp;Create&nbsp;</button></div></div>'),e.put("app/pages/device/deleteDevice.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">DELETE</h4></div><div class="modal-body text-center">Are you sure to delete this device {{item.name}}?</div><div class="modal-footer"><button type="button" class="btn btn-primary btn-auth" ng-click="ok()">Ok</button> <button type="button" class="btn btn-primary btn-auth" ng-click="cancel()">Cancel</button></div></div>'),e.put("app/pages/device/device.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="row"><div class="panel traffic-panel"><div class="panel-body device-body"><div class="row wsl-row-padding-15"><div class="row"><div class="col-md-6 col-create"><div class="modal-buttons clearfix" style="float: left;"><button type="button" class="btn btn-default" data-toggle="modal" ng-click="openCreateModel(\'md\')">Create</button></div></div></div></div><div class="wsl-overflow" style="margin-top: 15px;overflow: auto;"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped table-th-text"><tr ng-repeat="row in $data"><td data-title="\'Device Type\'" style="text-align: left;">{{ row.type=="S1"?"Sensor":row.type }}</td><td data-title="\'Name\'" style="text-align: left;">{{ row.name }}</td><td data-title="\'Mac\'"><span ng-if="row.mac!=null">{{row.mac}}</span> <span ng-if="row.mac==null">无</span></td><td data-title="\'Last updated time\'">{{row.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</td><td data-title="\'Operation\'"><button class="btn btn-primary editable-table-button btn-xs" ng-click="openEditModel(row,\'md\')">Edit</button> <button class="btn btn-danger editable-table-button btn-xs" ng-click="openDeleteModel(row,\'md\')">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/device/editDevice.html",'<div class="modal-content" style="margin-top:130px;"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">Edit Device</h4></div><div class="modal-body"><form class="form-horizontal" name="DeviceForm" novalidate=""><div class="form-group"><label for="type" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>DeviceType</label><div class="col-sm-10"><select class="form-control" id="type" ng-init="item.type" ng-model="item.type" ng-options="item for item in type_list" required="" disabled="" style="background:#E7E7E7"></select></div></div><div class="form-group"><label for="mac" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Mac</label><div class="col-sm-10"><input type="text" class="form-control" id="mac" ng-model="item.mac" disabled="" style="background:#E7E7E7"></div></div><div class="form-group"><label for="name" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Name</label><div class="col-sm-10"><input type="text" class="form-control" id="name" name="name" ng-model="item.name" required=""> <span ng-if="DeviceForm.name.$dirty && DeviceForm.name.$invalid"><span ng-if="DeviceForm.name.$error.required" class="error">Name can\'t be blank</span></span></div></div><div class="form-group"><label for="decription" class="col-sm-2 control-label" style="color: #000">Description</label><div class="col-sm-10"><textarea type="text" class="form-control" id="decription" ng-model="item.description"></textarea></div></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary btn-auth" ng-click="ok()" ng-disabled="DeviceForm.$invalid">&nbsp;Save&nbsp;</button></div></div>'),e.put("app/pages/gateway/createGateway.html",'<div class="modal-content" style="margin-top:130px;"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">Create Gateway</h4></div><div class="modal-body"><form class="form-horizontal" name="gatewayForm" novalidate=""><div class="form-group"><label for="mac" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Mac</label><div class="col-sm-10"><input type="text" style="text-transform:uppercase;" class="form-control" name="mac" id="mac" placeholder="eg.AABBCCDDEEFF" ng-model="item.mac" ng-pattern="/^[a-fA-F0-9]{12}$/" required=""> <span ng-if="gatewayForm.mac.$dirty && gatewayForm.mac.$invalid"><span ng-if="gatewayForm.mac.$error.required" class="error">Mac can\'t be blank</span> <span ng-if="gatewayForm.mac.$error.pattern" class="error">Mac is invalid</span></span></div></div><div class="form-group"><label for="name" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Name</label><div class="col-sm-10"><input type="text" class="form-control" id="name" name="name" placeholder="Name" ng-model="item.name" required=""> <span ng-if="gatewayForm.name.$dirty && gatewayForm.name.$invalid"><span ng-if="gatewayForm.name.$error.required" class="error">Name can\'t be blank</span></span></div></div><div class="form-group"><label for="decription" class="col-sm-2 control-label" style="color: #000">Decription</label><div class="col-sm-10"><textarea type="text" class="form-control" id="decription" placeholder="Decription" ng-model="item.description"></textarea></div></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary btn-auth" ng-click="ok()" ng-disabled="gatewayForm.$invalid">&nbsp;Create&nbsp;</button></div></div>'),e.put("app/pages/gateway/deleteGateway.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">DELETE</h4></div><div class="modal-body text-center">Are you sure to delete this gateway {{item.name}}?</div><div class="modal-footer"><button type="button" class="btn btn-primary btn-auth" ng-click="ok()">Ok</button> <button type="button" class="btn btn-primary btn-auth" ng-click="cancel()">Cancel</button></div></div>'),e.put("app/pages/gateway/editGateway.html",'<div class="modal-content" style="margin-top:150px;"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">Edit Gateway</h4></div><div class="modal-body"><form class="form-horizontal" name="GatewayForm" novalidate=""><div class="form-group"><label for="mac" class="col-sm-2 control-label" style="color: #000;"><span style="color: red;">*</span>Mac</label><div class="col-sm-10"><input type="text" class="form-control" id="mac" ng-model="item.mac" disabled="" style="background:#E7E7E7;"></div></div><div class="form-group"><label for="name" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Name</label><div class="col-sm-10"><input type="text" class="form-control" id="name" name="name" ng-model="item.name" required=""> <span ng-if="GatewayForm.name.$dirty && GatewayForm.name.$invalid"><span ng-if="GatewayForm.name.$error.required" class="error">Name can\'t be blank</span></span></div></div><div class="form-group"><label for="decription" class="col-sm-2 control-label" style="color: #000">Description</label><div class="col-sm-10"><textarea type="text" class="form-control" id="decription" ng-model="item.description"></textarea></div></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary btn-auth" ng-click="ok()" ng-disabled="GatewayForm.$invalid">&nbsp;Save&nbsp;</button></div></div>'),e.put("app/pages/gateway/gateway.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="row"><div class="panel traffic-panel"><div class="panel-body"><div class="row wsl-row-padding-15"><div class="row"><div class="col-md-6 col-create"><div class="modal-buttons clearfix" style="float: left;"><button type="button" class="btn btn-default" data-toggle="modal" ng-click="openCreateModel(\'md\')">Create</button></div></div></div></div><div class="wsl-overflow" style="margin-top: 15px;overflow: auto;"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped table-th-text wsl-table"><tr ng-repeat="row in $data"><td data-title="\'Name\'" style="text-align: left;">{{ row.name }}</td><td data-title="\'Mac\'"><span ng-if="row.mac!=null">{{row.mac}}</span> <span ng-if="row.mac==null">无</span></td><td data-title="\'Last updated time\'">{{row.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</td><td data-title="\'Operation\'"><button class="btn btn-primary editable-table-button btn-xs" ng-click="openEditModel(row,\'md\')">Edit</button> <button class="btn btn-danger editable-table-button btn-xs" ng-click="openDeleteModel(row,\'md\')">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/gateway/msg.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button></div><div class="modal-body"><p style="text-align:center;">{{data}}</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$close()">ok</button></div></div>'),e.put("app/pages/gateway/rebootGateway.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">REBOOT</h4></div><div class="modal-body text-center">Are you sure to reboot this gateway {{item.name}}?</div><div class="modal-footer"><button type="button" class="btn btn-primary btn-auth" ng-click="ok()">Ok</button> <button type="button" class="btn btn-primary btn-auth" ng-click="cancel()">Cancel</button></div></div>'),e.put("app/pages/ibeaconDemo/ibeacon.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main" ng-controller="ibeaconCtrl as vm"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><div class="panel traffic-panel"><div class="panel-heading">On-line Gateways</div><div class="panel-body"><div class="sensor-demo-body"><table ng-table="vm.tableParamsGateway" class="table table-striped"><tr ng-repeat="row in $data"><td data-title="\'Name\'" style="word-break:break-all;" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectGateway(row, $data)">{{row.name}}</td><td data-title="\'Mac\'" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectGateway(row, $data)">{{row.mac}}</td><td></td></tr></table></div></div></div></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="panel traffic-panel"><div class="panel-heading">On-line iBeacons</div><div class="panel-body"><div class="sensor-demo-body"><table ng-table="vm.tableParamsSensor" class="table table-striped"><tr ng-repeat="row in $data"><td data-title="\'Name\'" style="word-break:break-all;" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectiBeacon(row, $data)">{{row.device != null ?row.device.name:"Unknown"}}</td><td data-title="\'Mac\'" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectiBeacon(row, $data)">{{row.mac}}</td><td></td></tr></table></div></div></div></div></div><div class="row"><div class="col-lg-12 col-md-12 col-sm-12 wsl-1024"><div class="panel traffic-panel"><div class="panel-heading wsl-panel-heading"><div class="form-group clearfix"><div class="wsl-select-float wsl-select-lable2-size" id="selectTime"><label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 1)">10second&nbsp;</a></label> <label><a href="javascript:;" class="wsl-label-default-color wsl-label-active-color" ng-click="vm.selectTime($event, 2)">2minute&nbsp;</a></label> <label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 3)">1hour&nbsp;</a></label> <label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 4)">Today&nbsp;</a></label></div></div></div><div class="panel-body"><div id="LINE_2"></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/sensorDemo/sensor.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main" ng-controller="sensorsCtrl as vm"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><div class="panel traffic-panel"><div class="panel-heading">On-line Gateways</div><div class="panel-body"><div class="sensor-demo-body"><table ng-table="vm.tableParamsGateway" class="table table-striped"><tr ng-repeat="row in $data"><td data-title="\'Name\'" style="word-break:break-all;" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectGateway(row, $data)">{{row.name}}</td><td data-title="\'Mac\'" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectGateway(row, $data)">{{row.mac}}</td><td></td></tr></table></div></div></div></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="panel traffic-panel"><div class="panel-heading">On-line Sensors</div><div class="panel-body"><div class="sensor-demo-body"><table ng-table="vm.tableParamsSensor" class="table table-striped"><tr ng-repeat="row in $data"><td data-title="\'Name\'" style="word-break:break-all;" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectSensor(row, $data)">{{row.device != null ?row.device.name:"Unknown"}}</td><td data-title="\'Mac\'" class="{{row.selected?\'col-sm-6 col-xs-6 wsl-gateway-active\':\'wsl-gateway-inactive\'}}" ng-click="vm.selectSensor(row, $data)">{{row.mac}}</td><td></td></tr></table></div></div></div></div></div><div class="row"><div class="col-lg-6 col-md-6 col-sm-6 wsl-1024"><div class="panel traffic-panel"><div class="panel-heading"><span>Last Updated Time :&nbsp;</span> <span>{{vm.sensor_th.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</span></div><div class="panel-body"><div class="col-md-6 col-sm-6"><div id="GAUGE_1"></div></div><div class="col-md-6 col-sm-6"><div id="GAUGE_2"></div></div></div></div></div><div class="col-lg-6 col-md-6 col-sm-6 wsl-1024"><div class="panel traffic-panel"><div class="panel-heading wsl-panel-heading"><div class="form-group clearfix"><div class="wsl-select-float wsl-select-form-size wsl-input"><input type="text" id="time_input" class="form-control wsl-form-select wsl-input" name="datefilter" value="yyyy-mm-dd to yyyy-mm-dd"></div><div class="wsl-select-float wsl-select-lable2-size" id="selectTime"><label><a href="javascript:;" class="wsl-label-default-color wsl-label-active-color" ng-click="vm.selectTime($event, 1)">1hour&nbsp;</a></label> <label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 2)">Today&nbsp;</a></label><label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 4)">7days&nbsp;</a></label> <label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 5)">14days&nbsp;</a></label> <label><a href="javascript:;" class="wsl-label-default-color" ng-click="vm.selectTime($event, 6)">30days&nbsp;</a></label></div></div></div><div class="panel-body"><div id="LINE_1"></div></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),
e.put("app/pages/status/status.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="panel panel-default panel-status"><div class="panel-body"><div class="select-group"><span>Device Tpye :&nbsp;</span><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default dropdown-wsl-css">{{vm.deviceTypeName}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu=""><li ng-click="vm.selectDeviceType(\'Sensor\')"><a href="">Sensor</a></li><li ng-click="vm.selectDeviceType(\'iBeacon\')"><a href="">iBeacon</a></li><li ng-click="vm.selectDeviceType(\'Other\')"><a href="">Other</a></li></ul></div></div><div class="select-group"><span class="alldevice-span">Gateway Name :&nbsp;</span><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default dropdown-wsl-css">{{vm.gateway_value}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu="" style="max-height:400px;overflow:auto;"><li ng-click="vm.select_gateway(\'All\')"><a href="">All</a></li><li role="separator" class="divider"></li><li ng-repeat="item in vm.gateway_list" ng-click="vm.select_gateway(item.mac)"><a href="">{{item.name}}--{{item.mac | uppercase}}</a></li></ul></div></div><div class="select-group"><span class="alldevice-span">Device Name :&nbsp;</span><div class="btn-group" uib-dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-default dropdown-wsl-css">{{vm.device_value}}</button> <button type="button" class="btn btn-default" uib-dropdown-toggle=""><span class="caret"></span> <span class="sr-only">Toggle Dropdown</span></button><ul uib-dropdown-menu="" style="max-height:400px;overflow:auto;"><li ng-click="vm.select_device(\'All\')"><a href="">All</a></li><li role="separator" class="divider"></li><li ng-if="vm.gateway_value == \'Select Gateway\'" ng-repeat="item in vm.device_list | unique: \'mac\'" ng-click="vm.select_device(item.mac)"><a href="">{{item.name}}--{{item.mac | uppercase}}</a></li><li ng-if="vm.gateway_value != \'Select Gateway\'" ng-repeat="item in vm.device_list | unique: \'mac\'" ng-click="vm.select_device(item.mac)"><a href="">{{item.device != null ? item.device.name : \'Unknown\'}}--{{item.mac | uppercase}}</a></li></ul></div></div><div class="wsl-overflow wsl-alldevice" style="margin-top: 15px;overflow: auto;"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped table-th-text"><tr ng-repeat="row in $data"><td data-title="\'Device Name\'" class="wsl-md-1 col-time" style="word-break:break-all;">{{ row.device != null ? row.device.name : \'Unknown\' }}</td><td data-title="\'Gateway Mac\'">{{ row.gatewayMac }}</td><td data-title="\'Device Mac\'"><span ng-if="row.mac!=null">{{row.mac}}</span> <span ng-if="row.mac==null">无</span></td><td data-title="\'UUID\'" ng-if="vm.deviceTypeName == \'iBeacon\'" class="col-md-2 alldevice-td col-time">{{row.ibeaconUuid}}</td><td data-title="\'Major\'" ng-if="vm.deviceTypeName == \'iBeacon\'"><span ng-if="row.ibeaconMajor !== null">{{row.ibeaconMajor}}</span> <span ng-if="row.ibeaconMajor === null">无</span></td><td data-title="\'Minor\'" ng-if="vm.deviceTypeName == \'iBeacon\'"><span ng-if="row.ibeaconMinor!=null">{{row.ibeaconMinor}}</span> <span ng-if="row.ibeaconMinor==null">无</span></td><td data-title="\'TxPower\'" ng-if="vm.deviceTypeName == \'iBeacon\'"><span ng-if="row.ibeaconTxPower!=null">{{row.ibeaconTxPower}}</span> <span ng-if="row.ibeaconTxPower==null">无</span></td><td data-title="\'Temperature(℃)\'" ng-if="vm.deviceTypeName == \'Sensor\'"><span ng-if="row.temperature === null">无</span> <span ng-if="row.temperature !== null">{{row.temperature.toFixed(2)}}</span></td><td data-title="\'Humidity(%)\'" ng-if="vm.deviceTypeName == \'Sensor\'"><span ng-if="row.humidity === null">无</span> <span ng-if="row.humidity !== null">{{row.humidity.toFixed(2)}}</span></td><td data-title="\'RawData\'" ng-if="vm.deviceTypeName == \'Other\'"><span ng-if="row.rawData === null">无</span> <span ng-if="row.rawData !== null">{{row.rawData}}</span></td><td data-title="\'Rssi\'"><span ng-if="row.rssi === null">无</span> <span ng-if="row.rssi !== null">{{row.rssi}}</span></td><td data-title="\'Battery(%)\'" ng-if="vm.deviceTypeName != \'Other\'"><span ng-if="row.battery === null">无</span> <span ng-if="row.battery !== null">{{row.battery}}</span></td><td data-title="\'Last updated time\'" sortable="\'updatedAt\'">{{row.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</td></tr></table></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/users/createUser.html",'<div class="modal-content" style="margin-top: 130px;"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">Create User</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label for="name" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Name</label><div class="col-sm-10"><input type="text" class="form-control" id="name" placeholder="User Name" ng-model="item.name"></div></div><div class="form-group"><label for="email" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Email</label><div class="col-sm-10"><input type="text" class="form-control" id="email" placeholder="Email" ng-model="item.email"></div></div><div class="form-group"><label for="password" class="col-sm-2 control-label" style="color: #000"><span style="color: red;">*</span>Password</label><div class="col-sm-10"><input type="password" class="form-control" id="password" placeholder="Password" ng-model="item.password"></div></div><div class="form-group"><label for="description" class="col-sm-2 control-label" style="color: #000">Description</label><div class="col-sm-10"><textarea type="text" class="form-control" id="description" placeholder="Description" ng-model="item.description"></textarea></div></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary btn-auth" ng-click="ok()">&nbsp;Create&nbsp;</button></div></div>'),e.put("app/pages/users/deleteGateway.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">DELETE</h4></div><div class="modal-body text-center">Are you sure to delete this gateway {{item.name}}?</div><div class="modal-footer"><button type="button" class="btn btn-primary btn-auth" ng-click="ok()">Ok</button> <button type="button" class="btn btn-primary btn-auth" ng-click="cancel()">Cancel</button></div></div>'),e.put("app/pages/users/deleteUser.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">DELETE</h4></div><div class="modal-body text-center">Are you sure to delete this user {{item.name}}?</div><div class="modal-footer"><button type="button" class="btn btn-primary btn-auth" ng-click="ok()">Ok</button> <button type="button" class="btn btn-primary btn-auth" ng-click="cancel()">Cancel</button></div></div>'),e.put("app/pages/users/editUser.html",'<div class="modal-content" style="margin-top: 130px;"><div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">Edit User</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label for="name" class="col-sm-3 control-label" style="color: #000"><span style="color: red;">*</span>Name</label><div class="col-sm-9"><input type="text" class="form-control" id="name" ng-model="item.name"></div></div><div class="form-group"><label for="email" class="col-sm-3 control-label" style="color: #000"><span style="color: red;">*</span>Email</label><div class="col-sm-9"><input type="text" class="form-control" id="email" ng-model="item.email" disabled="" style="background:#E7E7E7;"></div></div><div class="form-group"><label for="Mphone" class="col-sm-3 control-label" style="color: #000"><span style="color: red;">*</span>Mobile Phone</label><div class="col-sm-9"><input type="text" class="form-control" id="Mphone" ng-model="Mphone" style="background:#E7E7E7;" ng-intl-tel-input=""></div></div><div class="form-group"><label for="password" class="col-sm-3 control-label" style="color: #000"><span style="color: red;">*</span>New Password</label><div class="col-sm-9"><input type="password" class="form-control" id="password" ng-model="item.password"></div></div><div class="form-group"><label for="confirm_password" class="col-sm-3 control-label" style="color: #000"><span style="color: red;">*</span>Confirm Password</label><div class="col-sm-9"><input type="password" class="form-control" id="confirm_password" ng-model="item.confirm_password"></div></div><div class="form-group"><label for="description" class="col-sm-3 control-label" style="color: #000">Description</label><div class="col-sm-9"><textarea type="text" class="form-control" id="description" ng-model="item.description"></textarea></div></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary btn-auth" ng-click="ok()">&nbsp;Save&nbsp;</button></div></div>'),e.put("app/pages/users/gateways.html",'<div class="modal-content" style="margin-top: 130px;"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel" style="text-align:center;">{{item.name}}\'s Gateway List</h4></div><div class="modal-body"><div class="widgets"><div class="row"></div><div class="panel-wls"><div class="panel-body-wsl"><div class="wsl-overflow" style="margin-top: 15px;overflow: auto;"><table class="table table-hover table-condensed gateway-table"><tr><td style="border-top:1px solid rgba(0, 0, 0, 0.2);">Name</td><td style="border-top:1px solid rgba(0, 0, 0, 0.2);">Mac</td><td style="border-top:1px solid rgba(0, 0, 0, 0.2);">Last updated time</td><td style="border-top:1px solid rgba(0, 0, 0, 0.2);">Operation</td></tr><tr ng-repeat="item in gateway_list" class="editable-row"><td><span editable-text="one.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'empty\' }}</span></td><td><span editable-text="one.GateWayMAC" e-name="GateWayMAC" e-form="rowform" e-required="">{{ item.mac || \'empty\' }}</span></td><td><span editable-text="one.major" e-name="major" e-form="rowform" e-requried="">{{ item.updatedAt | date:"yyyy-MM-dd HH:mm:ss" || \'empty\' }}</span></td><td><button class="btn btn-danger editable-table-button btn-xs" ng-click="openDeleteModel(item,\'md\')">Delete</button></td></tr></table></div></div></div></div></div></div>'),e.put("app/pages/users/users.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main" ng-if="vm.isAdmin"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="row"><div class="panel traffic-panel"><div class="panel-body"><div class="row wsl-row-padding-15"><div class="row"><div class="col-md-12"><div class="modal-buttons clearfix" style="float: left;"><button type="button" class="btn btn-default" data-toggle="modal" ng-click="openCreateModel(\'md\')">Create</button></div></div></div></div><div class="wsl-overflow" style="margin-top: 15px;overflow: auto;"><table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped"><tr ng-repeat="row in $data track by row.uuid"><td data-title="\'Name\'">{{row.name}}</td><td data-title="\'Email\'">{{row.email}}</td><td data-title="\'Dial Code\'">{{row.nationcode}}</td><td data-title="\'Mobile Phone\'">{{row.mobile_phone}}</td><td data-title="\'Active\'">{{row.active ? \'1\' : \'0\'}}</td><td data-title="\'Description\'">{{row.description}}</td><td data-title="\'Created time\'">{{row.createdAt | date:"yyyy-MM-dd HH:mm:ss"}}</td><td data-title="\'Last updated time\'">{{row.updatedAt | date:"yyyy-MM-dd HH:mm:ss"}}</td><td data-title="\'Operation\'"><button class="btn btn-primary editable-table-button btn-xs" ng-click="userGatewaysCtrl(row, \'md\')">Gateways</button> <button class="btn btn-primary editable-table-button btn-xs" ng-click="openEditModel(row, \'md\')">Edit</button> <button class="btn btn-danger editable-table-button btn-xs" ng-click="openDeleteModel(row, \'md\')">Delete</button></td></tr></table></div></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/user/login/login.html",'<main class="auth-main"><div class="auth-block"><h1>Welcome to BeaconYun</h1><a href="javascript:;" ui-sref="user.register" class="auth-link">New to BeaconYun? Sign up!</a><form class="form-horizontal" name="loginForm" novalidate=""><div class="form-group"><label for="username" class="col-sm-2 control-label">Email</label><div class="col-sm-10"><input type="email" class="form-control" name="email" id="username" placeholder="Email" ng-model="loginData.username" required=""> <span ng-show="loginForm.email.$dirty && loginForm.email.$invalid"><span ng-show="loginForm.email.$error.required" class="error">Email can\'t be blank</span> <span ng-show="!loginForm.email.$error.required && loginForm.email.$error.email" class="error">Email is invalid</span></span></div></div><div class="form-group"><label for="password" class="col-sm-2 control-label">Password</label><div class="col-sm-10"><input type="password" class="form-control" name="password" id="password" placeholder="Password" ng-minlength="5" ng-model="loginData.password" required=""> <span ng-show="loginForm.password.$dirty && loginForm.password.$invalid"><span ng-show="loginForm.password.$error.required" class="error">Password can\'t be blank</span> <span ng-show="loginForm.password.$error.minlength" class="error">Minimum is 5 characters</span></span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-default btn-auth signIn" ng-disabled="loginForm.$invalid" ng-click="login()">Sign in</button> <a href="" class="forgot-pass">Forgot password?</a><div class="flash-error" ng-show="LoginStatus"><span>Incorrect email or password.</span></div></div></div></form></div></main>'),e.put("app/pages/user/login/msg.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button></div><div class="modal-body"><p style="text-align:center;">{{data}}</p></div><div class="modal-footer"></div></div>'),e.put("app/pages/user/profile/msg.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button></div><div class="modal-body"><p style="text-align:center;">{{data.msg}}</p></div><div class="modal-footer"></div></div>'),e.put("app/pages/user/profile/profile.html",'<main ng-if="$pageFinishedLoading" ng-class="{ \'menu-collapsed\': $baSidebarService.isMenuCollapsed() }"><ba-sidebar></ba-sidebar><page-top></page-top><div class="al-main"><div class="al-content"><content-top></content-top><div autoscroll="true" autoscroll-body-top=""><div class="widgets"><div class="panel traffic-panel"><div class="panel-body"><div class="col-md-6"><form class="form-horizontal" name="profileForm" novalidate=""><div class="form-group"><label for="name" class="col-sm-4 control-label">Name</label><div class="col-sm-8"><input type="text" class="form-control" name="name" id="name" ng-model="profile.name" required=""> <span ng-show="profileForm.name.$dirty && profileForm.name.$invalid"><span ng-show="profileForm.name.$error.required" class="error">Name can\'t be blank</span></span></div></div><div class="form-group"><label for="email" class="col-sm-4 control-label">Email</label><div class="col-sm-8"><input type="text" class="form-control" id="email" ng-model="profile.email" disabled="" style="background:rgba(231,231,231,0.2)"></div></div><div class="form-group"><label for="Mphone" class="col-sm-4 control-label">Mobile Phone</label><div class="col-sm-8"><input type="text" class="form-control" name="Mphone" id="Mphone" ng-model="Mphone" required="" ng-intl-tel-input=""> <span ng-show="profileForm.Mphone.$dirty && profileForm.Mphone.$invalid"><span ng-show="profileForm.Mphone.$error.required" class="error">Mobile Phone can\'t be blank</span> <span ng-show="profileForm.Mphone.$invalid && !profileForm.Mphone.$error.required" class="error">Please enter a correct phone number!</span></span></div></div><div class="form-group"><label for="password" class="col-sm-4 control-label">New Password</label><div class="col-sm-8"><input type="password" class="form-control" name="password" id="password" ng-minlength="5" ng-model="profile.password" required=""> <span ng-show="profileForm.password.$dirty && profileForm.password.$invalid"><span ng-show="profileForm.password.$error.required" class="error">Password can\'t be blank</span> <span ng-show="profileForm.password.$error.minlength" class="error">Minimum is 5 characters</span></span></div></div><div class="form-group"><label for="confirm_password" class="col-sm-4 control-label">Confirm Password</label><div class="col-sm-8"><input type="password" class="form-control" name="confirm_password" id="confirm_password" ng-minlength="5" ng-model="profile.confirm_password" required=""> <span ng-show="profileForm.confirm_password.$dirty && profileForm.confirm_password.$invalid"><span ng-show="profileForm.confirm_password.$error.required" class="error">Password can\'t be blank</span> <span ng-show="profileForm.confirm_password.$error.minlength" class="error">Minimum is 5 characters</span></span> <span ng-show="!isSame" class="error">The two passwords differ</span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-primary btn-auth" style="float:right;" ng-click="updateProfile()" ng-disabled="profileForm.$invalid">&nbsp;Save&nbsp;</button></div></div></form></div></div></div></div></div></div></div><back-top></back-top></main><div id="preloader" ng-show="!$pageFinishedLoading"><div></div></div>'),e.put("app/pages/user/register/msg.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button></div><div class="modal-body"><p style="text-align:center;">{{data.msg}}</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$close(goLogin())" ng-if="data.result">ok</button></div></div>'),e.put("app/pages/user/register/register.html",'<main class="auth-main"><div class="auth-block"><h1>Sign up to BeaconYun</h1><a href="javascript:;" ui-sref="user.login" class="auth-link">Already have a BeaconYun account? Sign in!</a><form class="form-horizontal" name="registerForm" novalidate=""><div class="form-group"><label for="name" class="col-sm-3 control-label">Name</label><div class="col-sm-9"><input type="text" class="form-control" name="name" id="name" placeholder="Name" ng-model="registerData.name" required=""> <span ng-show="registerForm.name.$dirty && registerForm.name.$invalid"><span ng-show="registerForm.name.$error.required" class="error">Name can\'t be blank</span></span></div></div><div class="form-group"><label for="email" class="col-sm-3 control-label">Email</label><div class="col-sm-9"><input type="email" class="form-control" name="email" id="email" placeholder="Email" ng-model="registerData.email" required=""> <span ng-show="registerForm.email.$dirty && registerForm.email.$invalid"><span ng-show="registerForm.email.$error.required" class="error">Email can\'t be blank</span> <span ng-show="!registerForm.email.$error.required && registerForm.email.$error.email" class="error">Email is invalid</span></span></div></div><div class="form-group"><label for="Mphone" class="col-sm-3 control-label">Mobile Phone</label><div class="col-sm-9"><input type="text" class="form-control" name="Mphone" id="Mphone" ng-model="Mphone" required="" ng-intl-tel-input=""> <span ng-show="registerForm.Mphone.$dirty && registerForm.Mphone.$invalid"><span ng-show="registerForm.Mphone.$error.required" class="error">Mobile Phone can\'t be blank</span> <span ng-show="registerForm.Mphone.$invalid && !registerForm.Mphone.$error.required" class="error">Please enter a correct phone number!</span></span></div></div><div class="form-group"><label for="Password" class="col-sm-3 control-label">Password</label><div class="col-sm-9"><input type="password" class="form-control" name="password" id="Password" placeholder="Password" ng-minlength="5" ng-model="registerData.password" required=""> <span ng-show="registerForm.password.$dirty && registerForm.password.$invalid"><span ng-show="registerForm.password.$error.required" class="error">Password can\'t be blank</span> <span ng-show="registerForm.password.$error.minlength" class="error">Minimum is 5 characters</span></span></div></div><div class="form-group"><div class="col-sm-offset-3 col-sm-10"><button type="submit" class="btn btn-default btn-auth signUp" ng-click="register()" ng-disabled="registerForm.$invalid">Sign up</button></div></div></form></div></main>'),e.put("app/theme/components/baSidebar/ba-sidebar.html",'<aside class="al-sidebar" ng-swipe-right="$baSidebarService.setMenuCollapsed(false)" ng-swipe-left="$baSidebarService.setMenuCollapsed(true)" ng-mouseleave="hoverElemTop=selectElemTop"><ul class="al-sidebar-list" slimscroll="{height: \'{{menuHeight}}px\'}" slimscroll-watch="menuHeight"><li ng-repeat="item in ::menuItems" class="al-sidebar-list-item" ng-class="::{\'with-sub-menu\': item.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="item"><a ng-mouseenter="hoverItem($event, item)" ui-state="item.stateRef || \'\'" ng-href="{{::(item.fixedHref ? item.fixedHref: \'\')}}" ng-if="::!item.subMenu" class="al-sidebar-list-link"><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter="hoverItem($event, item)" ng-if="::item.subMenu" class="al-sidebar-list-link" ba-ui-sref-toggler=""><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span> <b class="fa fa-angle-down" ui-sref-active="fa-angle-up" ng-if="::item.subMenu"></b></a><ul ng-if="::item.subMenu" class="al-sidebar-sublist" ng-class="{\'slide-right\': item.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-repeat="subitem in ::item.subMenu" ng-class="::{\'with-sub-menu\': subitem.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="subitem" class="ba-sidebar-sublist-item"><a ng-mouseenter="hoverItem($event, item)" ng-if="::subitem.subMenu" ba-ui-sref-toggler="" class="al-sidebar-list-link subitem-submenu-link"><span>{{ ::subitem.title }}</span> <b class="fa" ng-class="{\'fa-angle-up\': subitem.expanded, \'fa-angle-down\': !subitem.expanded}" ng-if="::subitem.subMenu"></b></a><ul ng-if="::subitem.subMenu" class="al-sidebar-sublist subitem-submenu-list" ng-class="{expanded: subitem.expanded, \'slide-right\': subitem.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-mouseenter="hoverItem($event, item)" ng-repeat="subSubitem in ::subitem.subMenu" ui-sref-active="selected"><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::subSubitem.disabled" class="al-sidebar-list-link">{{ ::subSubitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" ui-state="subSubitem.stateRef || \'\'" ng-if="::!subSubitem.disabled" ng-href="{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \'\')}}">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::(!subitem.subMenu && subitem.disabled)" class="al-sidebar-list-link">{{ ::subitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" target="{{::(subitem.blank ? \'_blank\' : \'_self\')}}" ng-if="::(!subitem.subMenu && !subitem.disabled)" ui-state="subitem.stateRef || \'\'" ng-href="{{::(subitem.fixedHref ? subitem.fixedHref: \'\')}}">{{ ::subitem.title}}</a></li></ul></li></ul><div class="sidebar-hover-elem" ng-style="{top: hoverElemTop + \'px\', height: hoverElemHeight + \'px\'}" ng-class="{\'show-hover-elem\': showHoverElem }"></div></aside>'),e.put("app/theme/components/backTop/backTop.html",'<i class="fa fa-angle-up back-top" id="backTop" title="Back to Top"></i>'),e.put("app/theme/components/contentTop/contentTop.html",'<div class="content-top clearfix"><h1 class="al-title">{{ activePageTitle }}</h1><ul class="breadcrumb al-breadcrumb"><li><a href="#/dashboard">Home</a></li><li>{{ activePageTitle }}</li></ul></div>'),e.put("app/theme/components/pageTop/pageTop.html",'<div class="page-top clearfix" scroll-position="scrolled" max-height="50" ng-class="{\'scrolled\': scrolled}"><a href="#/dashboard" class="al-logo clearfix"><span class="comp-title"><span>Yunli</span>Wuli</span> <span class="wsl-logo-span clearfix"><img ng-src="assets/img/logo.png"></span></a> <a href="" class="collapse-menu-link ion-navicon" ba-sidebar-toggle-menu="" ng-click="changeLogo()"></a><div class="user-profile"><div uib-dropdown=""><a uib-dropdown-toggle="" class="profile-toggle-link clearfix"><span style="font-size:18px;display:block;float:right;height:50px;line-height:50px;">Hi,&nbsp;{{username}}</span></a><ul class="top-dropdown-menu profile-dropdown" uib-dropdown-menu="" style="left:auto;right:0;"><li><i class="dropdown-arr"></i></li><li><a href="#/user/profile"><i class="fa fa-gear"></i>Profile</a></li><li><a href="javascript:;" ng-click="signOut()" class="signout"><i class="fa fa-power-off"></i>Sign out</a></li></ul></div></div></div>'),e.put("app/theme/components/widgets/widgets.html",'<div class="widgets"><div ng-repeat="widgetBlock in ngModel" ng-class="{\'row\': widgetBlock.widgets.length > 1}"><div ng-repeat="widgetCol in widgetBlock.widgets" ng-class="{\'col-md-6\': widgetBlock.widgets.length === 2}" ng-model="widgetCol" class="widgets-block"><div ba-panel="" ba-panel-title="{{::widget.title}}" ng-repeat="widget in widgetCol" ba-panel-class="with-scroll {{widget.panelClass}}"><div ng-include="widget.url"></div></div></div></div></div>'),e.put("app/theme/inputs/baSwitcher/baSwitcher.html",'<label class="switcher-container"><input type="checkbox" ng-model="switcherValue"><div class="switcher" ng-class="::switcherStyle"><div class="handle-container"><span class="handle handle-on">ON</span> <span class="handle"></span> <span class="handle handle-off">OFF</span></div></div></label>')}]);
//# sourceMappingURL=../maps/scripts/app-7934d99883.js.map
